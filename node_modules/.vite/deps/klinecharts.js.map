{
  "version": 3,
  "sources": ["../../klinecharts/dist/index.esm.js"],
  "sourcesContent": ["/**\n     * @license\n     * KLineChart v10.0.0-beta1\n     * Copyright (c) 2019 lihu.\n     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0\n     */\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DEV = process.env.NODE_ENV === 'development';\nfunction log(templateText, tagStyle, messageStyle, api, invalidParam, append) {\n    if (DEV) {\n        var apiStr = api !== '' ? \"Call api `\".concat(api, \"`\").concat(invalidParam !== '' || append !== '' ? ', ' : '.') : '';\n        var invalidParamStr = invalidParam !== '' ? \"invalid parameter `\".concat(invalidParam, \"`\").concat(append !== '' ? ', ' : '.') : '';\n        var appendStr = append !== '' ? append : '';\n        console.log(templateText, tagStyle, messageStyle, apiStr, invalidParamStr, appendStr);\n    }\n}\nfunction logWarn(api, invalidParam, append) {\n    log('%cüòë klinecharts warning%c %s%s%s', 'padding:3px 4px;border-radius:2px;color:#ffffff;background-color:#FF9600', 'color:#FF9600', api, invalidParam, append !== null && append !== void 0 ? append : '');\n}\nfunction logError(api, invalidParam, append) {\n    log('%cüòü klinecharts error%c %s%s%s', 'padding:3px 4px;border-radius:2px;color:#ffffff;background-color:#F92855;', 'color:#F92855;', api, invalidParam, append );\n}\nfunction logTag() {\n    log('%c‚ù§Ô∏è Welcome to klinecharts. Version is 10.0.0-beta1', 'border-radius:4px;border:dashed 1px #1677FF;line-height:70px;padding:0 20px;margin:16px 0;font-size:14px;color:#1677FF;', '', '', '', '');\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any -- ignore\nfunction merge(target, source) {\n    if ((!isObject(target) && !isObject(source))) {\n        return;\n    }\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access -- ignore\n            var targetProp = target[key];\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access -- ignore\n            var sourceProp = source[key];\n            if (isObject(sourceProp) &&\n                isObject(targetProp)) {\n                merge(targetProp, sourceProp);\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access -- ignore\n                target[key] = clone(sourceProp);\n            }\n        }\n    }\n}\nfunction clone(target) {\n    if (!isObject(target)) {\n        return target;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- ignore\n    var copy = null;\n    if (isArray(target)) {\n        copy = [];\n    }\n    else {\n        copy = {};\n    }\n    for (var key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n            var v = target[key];\n            if (isObject(v)) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access -- ignore\n                copy[key] = clone(v);\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access -- ignore\n                copy[key] = v;\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return -- ignore\n    return copy;\n}\nfunction isArray(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n}\n// eslint-disable-next-line @typescript-eslint/no-unnecessary-type-parameters -- ignore\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction isObject(value) {\n    return (typeof value === 'object') && isValid(value);\n}\nfunction isNumber(value) {\n    return typeof value === 'number' && Number.isFinite(value);\n}\nfunction isValid(value) {\n    return value !== null && value !== undefined;\n}\nfunction isBoolean(value) {\n    return typeof value === 'boolean';\n}\nfunction isString(value) {\n    return typeof value === 'string';\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar reEscapeChar = /\\\\(\\\\)?/g;\nvar rePropName = RegExp('[^.[\\\\]]+' + '|' +\n    '\\\\[(?:' +\n    '([^\"\\'][^[]*)' + '|' +\n    '([\"\\'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2' +\n    ')\\\\]' + '|' +\n    '(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))', 'g');\nfunction formatValue(data, key, defaultValue) {\n    if (isValid(data)) {\n        var path_1 = [];\n        key.replace(rePropName, function (subString) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            var k = subString;\n            if (isValid(args[1])) {\n                k = args[2].replace(reEscapeChar, '$1');\n            }\n            else if (isValid(args[0])) {\n                k = args[0].trim();\n            }\n            path_1.push(k);\n            return '';\n        });\n        var value = data;\n        var index = 0;\n        var length_1 = path_1.length;\n        while (isValid(value) && index < length_1) {\n            value = value === null || value === void 0 ? void 0 : value[path_1[index++]];\n        }\n        return isValid(value) ? value : (defaultValue !== null && defaultValue !== void 0 ? defaultValue : '--');\n    }\n    return defaultValue !== null && defaultValue !== void 0 ? defaultValue : '--';\n}\nfunction formatTimestampToDateTime(dateTimeFormat, timestamp) {\n    var date = {};\n    dateTimeFormat.formatToParts(new Date(timestamp)).forEach(function (_a) {\n        var type = _a.type, value = _a.value;\n        switch (type) {\n            case 'year': {\n                date.YYYY = value;\n                break;\n            }\n            case 'month': {\n                date.MM = value;\n                break;\n            }\n            case 'day': {\n                date.DD = value;\n                break;\n            }\n            case 'hour': {\n                date.HH = value === '24' ? '00' : value;\n                break;\n            }\n            case 'minute': {\n                date.mm = value;\n                break;\n            }\n            case 'second': {\n                date.ss = value;\n                break;\n            }\n        }\n    });\n    return date;\n}\nfunction formatTimestampByTemplate(dateTimeFormat, timestamp, template) {\n    var date = formatTimestampToDateTime(dateTimeFormat, timestamp);\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return -- ignore\n    return template.replace(/YYYY|MM|DD|HH|mm|ss/g, function (key) { return date[key]; });\n}\nfunction formatPrecision(value, precision) {\n    var v = +value;\n    if (isNumber(v)) {\n        return v.toFixed(precision !== null && precision !== void 0 ? precision : 2);\n    }\n    return \"\".concat(value);\n}\nfunction formatBigNumber(value) {\n    var v = +value;\n    if (isNumber(v)) {\n        if (v > 1000000000) {\n            return \"\".concat(+((v / 1000000000).toFixed(3)), \"B\");\n        }\n        if (v > 1000000) {\n            return \"\".concat(+((v / 1000000).toFixed(3)), \"M\");\n        }\n        if (v > 1000) {\n            return \"\".concat(+((v / 1000).toFixed(3)), \"K\");\n        }\n    }\n    return \"\".concat(value);\n}\nfunction formatThousands(value, sign) {\n    var vl = \"\".concat(value);\n    if (sign.length === 0) {\n        return vl;\n    }\n    if (vl.includes('.')) {\n        var arr = vl.split('.');\n        return \"\".concat(arr[0].replace(/(\\d)(?=(\\d{3})+$)/g, function ($1) { return \"\".concat($1).concat(sign); }), \".\").concat(arr[1]);\n    }\n    return vl.replace(/(\\d)(?=(\\d{3})+$)/g, function ($1) { return \"\".concat($1).concat(sign); });\n}\nfunction formatFoldDecimal(value, threshold) {\n    var vl = \"\".concat(value);\n    var reg = new RegExp('\\\\.0{' + threshold + ',}[1-9][0-9]*$');\n    if (reg.test(vl)) {\n        var result = vl.split('.');\n        var lastIndex = result.length - 1;\n        var v = result[lastIndex];\n        var match = /0*/.exec(v);\n        if (isValid(match)) {\n            var count = match[0].length;\n            result[lastIndex] = v.replace(/0*/, \"0{\".concat(count, \"}\"));\n            return result.join('.');\n        }\n    }\n    return vl;\n}\nfunction formatTemplateString(template, params) {\n    return template.replace(/\\{(\\w+)\\}/g, function (_, key) {\n        var value = params[key];\n        if (isValid(value)) {\n            return value;\n        }\n        return \"{\".concat(key, \"}\");\n    });\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar measureCtx = null;\n/**\n * Get pixel ratio\n * @param canvas\n * @returns {number}\n */\nfunction getPixelRatio(canvas) {\n    var _a, _b;\n    return (_b = (_a = canvas.ownerDocument.defaultView) === null || _a === void 0 ? void 0 : _a.devicePixelRatio) !== null && _b !== void 0 ? _b : 1;\n}\nfunction createFont(size, weight, family) {\n    return \"\".concat(weight !== null && weight !== void 0 ? weight : 'normal', \" \").concat(size !== null && size !== void 0 ? size : 12, \"px \").concat(family !== null && family !== void 0 ? family : 'Helvetica Neue');\n}\n/**\n * Measure the width of text\n * @param text\n * @returns {number}\n */\nfunction calcTextWidth(text, size, weight, family) {\n    if (!isValid(measureCtx)) {\n        var canvas = document.createElement('canvas');\n        var pixelRatio = getPixelRatio(canvas);\n        measureCtx = canvas.getContext('2d');\n        measureCtx.scale(pixelRatio, pixelRatio);\n    }\n    measureCtx.font = createFont(size, weight, family);\n    return Math.round(measureCtx.measureText(text).width);\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction createDefaultBounding(bounding) {\n    var defaultBounding = {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n    };\n    if (isValid(bounding)) {\n        merge(defaultBounding, bounding);\n    }\n    return defaultBounding;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DEFAULT_REQUEST_ID = -1;\nfunction requestAnimationFrame(fn) {\n    if (isFunction(window.requestAnimationFrame)) {\n        return window.requestAnimationFrame(fn);\n    }\n    return window.setTimeout(fn, 20);\n}\nfunction cancelAnimationFrame(id) {\n    if (isFunction(window.cancelAnimationFrame)) {\n        window.cancelAnimationFrame(id);\n    }\n    else {\n        window.clearTimeout(id);\n    }\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Animation = /** @class */ (function () {\n    function Animation(options) {\n        this._options = { duration: 500, iterationCount: 1 };\n        this._currentIterationCount = 0;\n        this._running = false;\n        this._time = 0;\n        merge(this._options, options);\n    }\n    Animation.prototype._loop = function () {\n        var _this = this;\n        this._running = true;\n        var step = function () {\n            var _a;\n            if (_this._running) {\n                var diffTime = new Date().getTime() - _this._time;\n                if (diffTime < _this._options.duration) {\n                    (_a = _this._doFrameCallback) === null || _a === void 0 ? void 0 : _a.call(_this, diffTime);\n                    requestAnimationFrame(step);\n                }\n                else {\n                    _this.stop();\n                    _this._currentIterationCount++;\n                    if (_this._currentIterationCount < _this._options.iterationCount) {\n                        _this.start();\n                    }\n                }\n            }\n        };\n        requestAnimationFrame(step);\n    };\n    Animation.prototype.doFrame = function (callback) {\n        this._doFrameCallback = callback;\n        return this;\n    };\n    Animation.prototype.setDuration = function (duration) {\n        this._options.duration = duration;\n        return this;\n    };\n    Animation.prototype.setIterationCount = function (iterationCount) {\n        this._options.iterationCount = iterationCount;\n        return this;\n    };\n    Animation.prototype.start = function () {\n        if (!this._running) {\n            this._time = new Date().getTime();\n            this._loop();\n        }\n    };\n    Animation.prototype.stop = function () {\n        var _a;\n        if (this._running) {\n            (_a = this._doFrameCallback) === null || _a === void 0 ? void 0 : _a.call(this, this._options.duration);\n        }\n        this._running = false;\n    };\n    return Animation;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar baseId = 1;\nvar prevIdTimestamp = new Date().getTime();\nfunction createId(prefix) {\n    var timestamp = new Date().getTime();\n    if (timestamp === prevIdTimestamp) {\n        ++baseId;\n    }\n    else {\n        baseId = 1;\n    }\n    prevIdTimestamp = timestamp;\n    return \"\".concat(prefix !== null && prefix !== void 0 ? prefix : '').concat(timestamp, \"_\").concat(baseId);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Create dom\n * @param tagName\n * @param styles\n * @return {*}\n */\nfunction createDom(tagName, styles) {\n    var _a;\n    var dom = document.createElement(tagName);\n    var s = styles !== null && styles !== void 0 ? styles : {};\n    // eslint-disable-next-line guard-for-in -- ignore\n    for (var key in s) {\n        (dom.style)[key] = (_a = s[key]) !== null && _a !== void 0 ? _a : '';\n    }\n    return dom;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Binary search for the nearest result\n * @param dataList\n * @param valueKey\n * @param targetValue\n * @return {number}\n */\nfunction binarySearchNearest(dataList, valueKey, targetValue) {\n    var left = 0;\n    var right = 0;\n    for (right = dataList.length - 1; left !== right;) {\n        var midIndex = Math.floor((right + left) / 2);\n        var mid = right - left;\n        var midValue = dataList[midIndex][valueKey];\n        if (targetValue === dataList[left][valueKey]) {\n            return left;\n        }\n        if (targetValue === dataList[right][valueKey]) {\n            return right;\n        }\n        if (targetValue === midValue) {\n            return midIndex;\n        }\n        if (targetValue > midValue) {\n            left = midIndex;\n        }\n        else {\n            right = midIndex;\n        }\n        if (mid <= 2) {\n            break;\n        }\n    }\n    return left;\n}\n/**\n * ‰ºòÂåñÊï∞Â≠ó\n * @param value\n * @return {number|number}\n */\nfunction nice(value) {\n    var exponent = Math.floor(log10(value));\n    var exp10 = index10(exponent);\n    var f = value / exp10; // 1 <= f < 10\n    var nf = 0;\n    if (f < 1.5) {\n        nf = 1;\n    }\n    else if (f < 2.5) {\n        nf = 2;\n    }\n    else if (f < 3.5) {\n        nf = 3;\n    }\n    else if (f < 4.5) {\n        nf = 4;\n    }\n    else if (f < 5.5) {\n        nf = 5;\n    }\n    else if (f < 6.5) {\n        nf = 6;\n    }\n    else {\n        nf = 8;\n    }\n    value = nf * exp10;\n    return +value.toFixed(Math.abs(exponent));\n}\n/**\n * Round\n * @param value\n * @param precision\n * @return {number}\n */\nfunction round(value, precision) {\n    precision = Math.max(0, precision !== null && precision !== void 0 ? precision : 0);\n    var pow = Math.pow(10, precision);\n    return Math.round(value * pow) / pow;\n}\n/**\n * Get precision\n * @param value\n * @return {number|number}\n */\nfunction getPrecision(value) {\n    var str = value.toString();\n    var eIndex = str.indexOf('e');\n    if (eIndex > 0) {\n        var precision = +str.slice(eIndex + 1);\n        return precision < 0 ? -precision : 0;\n    }\n    var dotIndex = str.indexOf('.');\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n}\nfunction getMaxMin(dataList, maxKey, minKey) {\n    var _a, _b;\n    var maxMin = [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER];\n    var dataLength = dataList.length;\n    var index = 0;\n    while (index < dataLength) {\n        var data = dataList[index];\n        maxMin[0] = Math.max(((_a = data[maxKey]) !== null && _a !== void 0 ? _a : Number.MIN_SAFE_INTEGER), maxMin[0]);\n        maxMin[1] = Math.min(((_b = data[minKey]) !== null && _b !== void 0 ? _b : Number.MAX_SAFE_INTEGER), maxMin[1]);\n        ++index;\n    }\n    return maxMin;\n}\n/**\n * log10\n * @param value\n * @return {number}\n */\nfunction log10(value) {\n    if (value === 0) {\n        return 0;\n    }\n    return Math.log10(value);\n}\n/**\n * index 10\n * @param value\n * @return {number}\n */\nfunction index10(value) {\n    return Math.pow(10, value);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getDefaultVisibleRange() {\n    return { from: 0, to: 0, realFrom: 0, realTo: 0 };\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar TaskScheduler = /** @class */ (function () {\n    function TaskScheduler(callback) {\n        this._holdingTasks = null;\n        this._running = false;\n        this._callback = callback;\n    }\n    TaskScheduler.prototype.add = function (tasks) {\n        if (!this._running) {\n            void this._runTask(tasks);\n        }\n        else {\n            if (isValid(this._holdingTasks)) {\n                this._holdingTasks = __assign(__assign({}, this._holdingTasks), tasks);\n            }\n            else {\n                this._holdingTasks = tasks;\n            }\n        }\n    };\n    TaskScheduler.prototype._runTask = function (tasks) {\n        return __awaiter(this, void 0, void 0, function () {\n            var next;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this._running = true;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, , 3, 4]);\n                        return [4 /*yield*/, Promise.all(Object.values(tasks))];\n                    case 2:\n                        _b.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        this._running = false;\n                        (_a = this._callback) === null || _a === void 0 ? void 0 : _a.call(this);\n                        if (isValid(this._holdingTasks)) {\n                            next = this._holdingTasks;\n                            void this._runTask(next);\n                            this._holdingTasks = null;\n                        }\n                        return [7 /*endfinally*/];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TaskScheduler.prototype.clear = function () {\n        this._holdingTasks = null;\n    };\n    return TaskScheduler;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SymbolDefaultPrecisionConstants = {\n    PRICE: 2,\n    VOLUME: 0\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Action = /** @class */ (function () {\n    function Action() {\n        this._callbacks = [];\n    }\n    Action.prototype.subscribe = function (callback) {\n        var index = this._callbacks.indexOf(callback);\n        if (index < 0) {\n            this._callbacks.push(callback);\n        }\n    };\n    Action.prototype.unsubscribe = function (callback) {\n        if (isFunction(callback)) {\n            var index = this._callbacks.indexOf(callback);\n            if (index > -1) {\n                this._callbacks.splice(index, 1);\n            }\n        }\n        else {\n            this._callbacks = [];\n        }\n    };\n    Action.prototype.execute = function (data) {\n        this._callbacks.forEach(function (callback) {\n            callback(data);\n        });\n    };\n    Action.prototype.isEmpty = function () {\n        return this._callbacks.length === 0;\n    };\n    return Action;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction isTransparent(color) {\n    return color === 'transparent' ||\n        color === 'none' ||\n        /^[rR][gG][Bb][Aa]\\(([\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\\s]*,){3}[\\s]*0[\\s]*\\)$/.test(color) ||\n        /^[hH][Ss][Ll][Aa]\\(([\\s]*(360ÔΩú3[0-5][0-9]|[012]?[0-9][0-9]?)[\\s]*,)([\\s]*((100|[0-9][0-9]?)%|0)[\\s]*,){2}([\\s]*0[\\s]*)\\)$/.test(color);\n}\nfunction hexToRgb(hex, alpha) {\n    var h = hex.replace(/^#/, '');\n    var i = parseInt(h, 16);\n    var r = (i >> 16) & 255;\n    var g = (i >> 8) & 255;\n    var b = i & 255;\n    return \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(alpha !== null && alpha !== void 0 ? alpha : 1, \")\");\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Color = {\n    RED: '#F92855',\n    GREEN: '#2DC08E',\n    WHITE: '#FFFFFF',\n    GREY: '#76808F',\n    BLUE: '#1677FF'\n};\nfunction getDefaultGridStyle() {\n    return {\n        show: true,\n        horizontal: {\n            show: true,\n            size: 1,\n            color: '#EDEDED',\n            style: 'dashed',\n            dashedValue: [2, 2]\n        },\n        vertical: {\n            show: true,\n            size: 1,\n            color: '#EDEDED',\n            style: 'dashed',\n            dashedValue: [2, 2]\n        }\n    };\n}\n/**\n * Get default candle style\n * @type {{area: {backgroundColor: [{offset: number, color: string}, {offset: number, color: string}], lineColor: string, lineSize: number, value: string}, bar: {noChangeColor: string, upColor: string, downColor: string}, tooltip: {rect: {offsetTop: number, fillColor: string, borderColor: string, paddingBottom: number, borderRadius: number, paddingRight: number, borderSize: number, offsetLeft: number, paddingTop: number, paddingLeft: number, offsetRight: number}, showRule: string, values: null, showType: string, text: {marginRight: number, size: number, color: string, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}, labels: string[]}, type: string, priceMark: {high: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, last: {noChangeColor: string, upColor: string, line: {dashValue: number[], size: number, show: boolean, style: string}, show: boolean, text: {paddingBottom: number, size: number, color: string, paddingRight: number, show: boolean, weight: string, paddingTop: number, family: string, paddingLeft: number}, downColor: string}, low: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, show: boolean}}}\n */\nfunction getDefaultCandleStyle() {\n    var highLow = {\n        show: true,\n        color: Color.GREY,\n        textOffset: 5,\n        textSize: 10,\n        textFamily: 'Helvetica Neue',\n        textWeight: 'normal'\n    };\n    return {\n        type: 'candle_solid',\n        bar: {\n            compareRule: 'current_open',\n            upColor: Color.GREEN,\n            downColor: Color.RED,\n            noChangeColor: Color.GREY,\n            upBorderColor: Color.GREEN,\n            downBorderColor: Color.RED,\n            noChangeBorderColor: Color.GREY,\n            upWickColor: Color.GREEN,\n            downWickColor: Color.RED,\n            noChangeWickColor: Color.GREY\n        },\n        area: {\n            lineSize: 2,\n            lineColor: Color.BLUE,\n            smooth: false,\n            value: 'close',\n            backgroundColor: [{\n                    offset: 0,\n                    color: hexToRgb(Color.BLUE, 0.01)\n                }, {\n                    offset: 1,\n                    color: hexToRgb(Color.BLUE, 0.2)\n                }],\n            point: {\n                show: true,\n                color: Color.BLUE,\n                radius: 4,\n                rippleColor: hexToRgb(Color.BLUE, 0.3),\n                rippleRadius: 8,\n                animation: true,\n                animationDuration: 1000\n            }\n        },\n        priceMark: {\n            show: true,\n            high: __assign({}, highLow),\n            low: __assign({}, highLow),\n            last: {\n                show: true,\n                compareRule: 'current_open',\n                upColor: Color.GREEN,\n                downColor: Color.RED,\n                noChangeColor: Color.GREY,\n                line: {\n                    show: true,\n                    style: 'dashed',\n                    dashedValue: [4, 4],\n                    size: 1\n                },\n                text: {\n                    show: true,\n                    style: 'fill',\n                    size: 12,\n                    paddingLeft: 4,\n                    paddingTop: 4,\n                    paddingRight: 4,\n                    paddingBottom: 4,\n                    borderColor: 'transparent',\n                    borderStyle: 'solid',\n                    borderSize: 0,\n                    borderDashedValue: [2, 2],\n                    color: Color.WHITE,\n                    family: 'Helvetica Neue',\n                    weight: 'normal',\n                    borderRadius: 2\n                },\n                extendTexts: []\n            }\n        },\n        tooltip: {\n            offsetLeft: 4,\n            offsetTop: 6,\n            offsetRight: 4,\n            offsetBottom: 6,\n            showRule: 'always',\n            showType: 'standard',\n            rect: {\n                position: 'fixed',\n                paddingLeft: 4,\n                paddingRight: 4,\n                paddingTop: 4,\n                paddingBottom: 4,\n                offsetLeft: 4,\n                offsetTop: 4,\n                offsetRight: 4,\n                offsetBottom: 4,\n                borderRadius: 4,\n                borderSize: 1,\n                borderColor: '#F2F3F5',\n                color: '#FEFEFE'\n            },\n            title: {\n                show: true,\n                size: 14,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                color: Color.GREY,\n                marginLeft: 8,\n                marginTop: 4,\n                marginRight: 8,\n                marginBottom: 4,\n                template: '{ticker} ¬∑ {period}'\n            },\n            legend: {\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                color: Color.GREY,\n                marginLeft: 8,\n                marginTop: 4,\n                marginRight: 8,\n                marginBottom: 4,\n                defaultValue: 'n/a',\n                template: [\n                    { title: 'time', value: '{time}' },\n                    { title: 'open', value: '{open}' },\n                    { title: 'high', value: '{high}' },\n                    { title: 'low', value: '{low}' },\n                    { title: 'close', value: '{close}' },\n                    { title: 'volume', value: '{volume}' }\n                ]\n            },\n            features: []\n        }\n    };\n}\n/**\n * Get default indicator style\n */\nfunction getDefaultIndicatorStyle() {\n    var alphaGreen = hexToRgb(Color.GREEN, 0.7);\n    var alphaRed = hexToRgb(Color.RED, 0.7);\n    return {\n        ohlc: {\n            compareRule: 'current_open',\n            upColor: alphaGreen,\n            downColor: alphaRed,\n            noChangeColor: Color.GREY\n        },\n        bars: [{\n                style: 'fill',\n                borderStyle: 'solid',\n                borderSize: 1,\n                borderDashedValue: [2, 2],\n                upColor: alphaGreen,\n                downColor: alphaRed,\n                noChangeColor: Color.GREY\n            }],\n        lines: ['#FF9600', '#935EBD', Color.BLUE, '#E11D74', '#01C5C4'].map(function (color) { return ({\n            style: 'solid',\n            smooth: false,\n            size: 1,\n            dashedValue: [2, 2],\n            color: color\n        }); }),\n        circles: [{\n                style: 'fill',\n                borderStyle: 'solid',\n                borderSize: 1,\n                borderDashedValue: [2, 2],\n                upColor: alphaGreen,\n                downColor: alphaRed,\n                noChangeColor: Color.GREY\n            }],\n        lastValueMark: {\n            show: false,\n            text: {\n                show: false,\n                style: 'fill',\n                color: Color.WHITE,\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                borderStyle: 'solid',\n                borderColor: 'transparent',\n                borderSize: 0,\n                borderDashedValue: [2, 2],\n                paddingLeft: 4,\n                paddingTop: 4,\n                paddingRight: 4,\n                paddingBottom: 4,\n                borderRadius: 2\n            }\n        },\n        tooltip: {\n            offsetLeft: 4,\n            offsetTop: 6,\n            offsetRight: 4,\n            offsetBottom: 6,\n            showRule: 'always',\n            showType: 'standard',\n            title: {\n                show: true,\n                showName: true,\n                showParams: true,\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                color: Color.GREY,\n                marginLeft: 8,\n                marginTop: 4,\n                marginRight: 8,\n                marginBottom: 4\n            },\n            legend: {\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                color: Color.GREY,\n                marginLeft: 8,\n                marginTop: 4,\n                marginRight: 8,\n                marginBottom: 4,\n                defaultValue: 'n/a'\n            },\n            features: []\n        }\n    };\n}\nfunction getDefaultAxisStyle() {\n    return {\n        show: true,\n        size: 'auto',\n        axisLine: {\n            show: true,\n            color: '#DDDDDD',\n            size: 1\n        },\n        tickText: {\n            show: true,\n            color: Color.GREY,\n            size: 12,\n            family: 'Helvetica Neue',\n            weight: 'normal',\n            marginStart: 4,\n            marginEnd: 6\n        },\n        tickLine: {\n            show: true,\n            size: 1,\n            length: 3,\n            color: '#DDDDDD'\n        }\n    };\n}\nfunction getDefaultCrosshairStyle() {\n    return {\n        show: true,\n        horizontal: {\n            show: true,\n            line: {\n                show: true,\n                style: 'dashed',\n                dashedValue: [4, 2],\n                size: 1,\n                color: Color.GREY\n            },\n            text: {\n                show: true,\n                style: 'fill',\n                color: Color.WHITE,\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                borderStyle: 'solid',\n                borderDashedValue: [2, 2],\n                borderSize: 1,\n                borderColor: Color.GREY,\n                borderRadius: 2,\n                paddingLeft: 4,\n                paddingRight: 4,\n                paddingTop: 4,\n                paddingBottom: 4,\n                backgroundColor: Color.GREY\n            },\n            features: []\n        },\n        vertical: {\n            show: true,\n            line: {\n                show: true,\n                style: 'dashed',\n                dashedValue: [4, 2],\n                size: 1,\n                color: Color.GREY\n            },\n            text: {\n                show: true,\n                style: 'fill',\n                color: Color.WHITE,\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                borderStyle: 'solid',\n                borderDashedValue: [2, 2],\n                borderSize: 1,\n                borderColor: Color.GREY,\n                borderRadius: 2,\n                paddingLeft: 4,\n                paddingRight: 4,\n                paddingTop: 4,\n                paddingBottom: 4,\n                backgroundColor: Color.GREY\n            }\n        }\n    };\n}\nfunction getDefaultOverlayStyle() {\n    var pointBorderColor = hexToRgb(Color.BLUE, 0.35);\n    var alphaBg = hexToRgb(Color.BLUE, 0.25);\n    function text() {\n        return {\n            style: 'fill',\n            color: Color.WHITE,\n            size: 12,\n            family: 'Helvetica Neue',\n            weight: 'normal',\n            borderStyle: 'solid',\n            borderDashedValue: [2, 2],\n            borderSize: 1,\n            borderRadius: 2,\n            borderColor: Color.BLUE,\n            paddingLeft: 4,\n            paddingRight: 4,\n            paddingTop: 4,\n            paddingBottom: 4,\n            backgroundColor: Color.BLUE\n        };\n    }\n    return {\n        point: {\n            color: Color.BLUE,\n            borderColor: pointBorderColor,\n            borderSize: 1,\n            radius: 5,\n            activeColor: Color.BLUE,\n            activeBorderColor: pointBorderColor,\n            activeBorderSize: 3,\n            activeRadius: 5\n        },\n        line: {\n            style: 'solid',\n            smooth: false,\n            color: Color.BLUE,\n            size: 1,\n            dashedValue: [2, 2]\n        },\n        rect: {\n            style: 'fill',\n            color: alphaBg,\n            borderColor: Color.BLUE,\n            borderSize: 1,\n            borderRadius: 0,\n            borderStyle: 'solid',\n            borderDashedValue: [2, 2]\n        },\n        polygon: {\n            style: 'fill',\n            color: Color.BLUE,\n            borderColor: Color.BLUE,\n            borderSize: 1,\n            borderStyle: 'solid',\n            borderDashedValue: [2, 2]\n        },\n        circle: {\n            style: 'fill',\n            color: alphaBg,\n            borderColor: Color.BLUE,\n            borderSize: 1,\n            borderStyle: 'solid',\n            borderDashedValue: [2, 2]\n        },\n        arc: {\n            style: 'solid',\n            color: Color.BLUE,\n            size: 1,\n            dashedValue: [2, 2]\n        },\n        text: text()\n    };\n}\nfunction getDefaultSeparatorStyle() {\n    return {\n        size: 1,\n        color: '#DDDDDD',\n        fill: true,\n        activeBackgroundColor: hexToRgb(Color.BLUE, 0.08)\n    };\n}\nfunction getDefaultStyles() {\n    return {\n        grid: getDefaultGridStyle(),\n        candle: getDefaultCandleStyle(),\n        indicator: getDefaultIndicatorStyle(),\n        xAxis: getDefaultAxisStyle(),\n        yAxis: getDefaultAxisStyle(),\n        separator: getDefaultSeparatorStyle(),\n        crosshair: getDefaultCrosshairStyle(),\n        overlay: getDefaultOverlayStyle()\n    };\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction eachFigures(indicator, dataIndex, defaultStyles, eachFigureCallback) {\n    var result = indicator.result;\n    var figures = indicator.figures;\n    var styles = indicator.styles;\n    var circleStyles = formatValue(styles, 'circles', defaultStyles.circles);\n    var circleStyleCount = circleStyles.length;\n    var barStyles = formatValue(styles, 'bars', defaultStyles.bars);\n    var barStyleCount = barStyles.length;\n    var lineStyles = formatValue(styles, 'lines', defaultStyles.lines);\n    var lineStyleCount = lineStyles.length;\n    var circleCount = 0;\n    var barCount = 0;\n    var lineCount = 0;\n    // eslint-disable-next-line @typescript-eslint/init-declarations  -- ignore\n    var defaultFigureStyles;\n    var figureIndex = 0;\n    figures.forEach(function (figure) {\n        var _a;\n        switch (figure.type) {\n            case 'circle': {\n                figureIndex = circleCount;\n                var styles_1 = circleStyles[circleCount % circleStyleCount];\n                defaultFigureStyles = __assign(__assign({}, styles_1), { color: styles_1.noChangeColor });\n                circleCount++;\n                break;\n            }\n            case 'bar': {\n                figureIndex = barCount;\n                var styles_2 = barStyles[barCount % barStyleCount];\n                defaultFigureStyles = __assign(__assign({}, styles_2), { color: styles_2.noChangeColor });\n                barCount++;\n                break;\n            }\n            case 'line': {\n                figureIndex = lineCount;\n                defaultFigureStyles = lineStyles[lineCount % lineStyleCount];\n                lineCount++;\n                break;\n            }\n        }\n        if (isValid(figure.type)) {\n            var ss = (_a = figure.styles) === null || _a === void 0 ? void 0 : _a.call(figure, {\n                data: {\n                    prev: result[dataIndex - 1],\n                    current: result[dataIndex],\n                    next: result[dataIndex + 1]\n                },\n                indicator: indicator,\n                defaultStyles: defaultStyles\n            });\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            eachFigureCallback(figure, __assign(__assign({}, defaultFigureStyles), ss), figureIndex);\n        }\n    });\n}\nvar IndicatorImp = /** @class */ (function () {\n    function IndicatorImp(indicator) {\n        this.precision = 4;\n        this.calcParams = [];\n        this.shouldOhlc = false;\n        this.shouldFormatBigNumber = false;\n        this.visible = true;\n        this.zLevel = 0;\n        this.series = 'normal';\n        this.figures = [];\n        this.minValue = null;\n        this.maxValue = null;\n        this.styles = null;\n        this.shouldUpdate = function (prev, current) {\n            var calc = JSON.stringify(prev.calcParams) !== JSON.stringify(current.calcParams) ||\n                prev.figures !== current.figures ||\n                prev.calc !== current.calc;\n            var draw = calc ||\n                prev.shortName !== current.shortName ||\n                prev.series !== current.series ||\n                prev.minValue !== current.minValue ||\n                prev.maxValue !== current.maxValue ||\n                prev.precision !== current.precision ||\n                prev.shouldOhlc !== current.shouldOhlc ||\n                prev.shouldFormatBigNumber !== current.shouldFormatBigNumber ||\n                prev.visible !== current.visible ||\n                prev.zLevel !== current.zLevel ||\n                prev.extendData !== current.extendData ||\n                prev.regenerateFigures !== current.regenerateFigures ||\n                prev.createTooltipDataSource !== current.createTooltipDataSource ||\n                prev.draw !== current.draw;\n            return { calc: calc, draw: draw };\n        };\n        this.calc = function () { return []; };\n        this.regenerateFigures = null;\n        this.createTooltipDataSource = null;\n        this.draw = null;\n        this.result = [];\n        this._lockSeriesPrecision = false;\n        this.override(indicator);\n        this._lockSeriesPrecision = false;\n    }\n    IndicatorImp.prototype.override = function (indicator) {\n        var _a, _b;\n        var _c = this, result = _c.result, currentOthers = __rest(_c, [\"result\"]);\n        this._prevIndicator = __assign(__assign({}, clone(currentOthers)), { result: result });\n        var id = indicator.id, name = indicator.name, shortName = indicator.shortName, precision = indicator.precision, styles = indicator.styles, figures = indicator.figures, calcParams = indicator.calcParams, others = __rest(indicator, [\"id\", \"name\", \"shortName\", \"precision\", \"styles\", \"figures\", \"calcParams\"]);\n        if (!isString(this.id) && isString(id)) {\n            this.id = id;\n        }\n        if (!isString(this.name)) {\n            this.name = name !== null && name !== void 0 ? name : '';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition  -- ignore\n        this.shortName = (_a = shortName !== null && shortName !== void 0 ? shortName : this.shortName) !== null && _a !== void 0 ? _a : this.name;\n        if (isNumber(precision)) {\n            this.precision = precision;\n            this._lockSeriesPrecision = true;\n        }\n        if (isValid(styles)) {\n            (_b = this.styles) !== null && _b !== void 0 ? _b : (this.styles = {});\n            merge(this.styles, styles);\n        }\n        merge(this, others);\n        if (isValid(calcParams)) {\n            this.calcParams = calcParams;\n            if (isFunction(this.regenerateFigures)) {\n                this.figures = this.regenerateFigures(this.calcParams);\n            }\n        }\n        this.figures = figures !== null && figures !== void 0 ? figures : this.figures;\n    };\n    IndicatorImp.prototype.setSeriesPrecision = function (precision) {\n        if (!this._lockSeriesPrecision) {\n            this.precision = precision;\n        }\n    };\n    IndicatorImp.prototype.shouldUpdateImp = function () {\n        var sort = this._prevIndicator.zLevel !== this.zLevel;\n        var result = this.shouldUpdate(this._prevIndicator, this);\n        if (isBoolean(result)) {\n            return { calc: result, draw: result, sort: sort };\n        }\n        return __assign(__assign({}, result), { sort: sort });\n    };\n    IndicatorImp.prototype.calcImp = function (dataList) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.calc(dataList, this)];\n                    case 1:\n                        result = _a.sent();\n                        this.result = result;\n                        return [2 /*return*/, true];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/, false];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    IndicatorImp.extend = function (template) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom() {\n                return _super.call(this, template) || this;\n            }\n            return Custom;\n        }(IndicatorImp));\n        return Custom;\n    };\n    return IndicatorImp;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * average price\n */\nvar averagePrice = {\n    name: 'AVP',\n    shortName: 'AVP',\n    series: 'price',\n    precision: 2,\n    figures: [\n        { key: 'avp', title: 'AVP: ', type: 'line' }\n    ],\n    calc: function (dataList) {\n        var totalTurnover = 0;\n        var totalVolume = 0;\n        return dataList.map(function (kLineData) {\n            var _a, _b;\n            var avp = {};\n            var turnover = (_a = kLineData.turnover) !== null && _a !== void 0 ? _a : 0;\n            var volume = (_b = kLineData.volume) !== null && _b !== void 0 ? _b : 0;\n            totalTurnover += turnover;\n            totalVolume += volume;\n            if (totalVolume !== 0) {\n                avp.avp = totalTurnover / totalVolume;\n            }\n            return avp;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar awesomeOscillator = {\n    name: 'AO',\n    shortName: 'AO',\n    calcParams: [5, 34],\n    figures: [{\n            key: 'ao',\n            title: 'AO: ',\n            type: 'bar',\n            baseValue: 0,\n            styles: function (_a) {\n                var _b, _c;\n                var data = _a.data, indicator = _a.indicator, defaultStyles = _a.defaultStyles;\n                var prev = data.prev, current = data.current;\n                var prevAo = (_b = prev === null || prev === void 0 ? void 0 : prev.ao) !== null && _b !== void 0 ? _b : Number.MIN_SAFE_INTEGER;\n                var currentAo = (_c = current === null || current === void 0 ? void 0 : current.ao) !== null && _c !== void 0 ? _c : Number.MIN_SAFE_INTEGER;\n                var color = '';\n                if (currentAo > prevAo) {\n                    color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor);\n                }\n                else {\n                    color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor);\n                }\n                var style = currentAo > prevAo ? 'stroke' : 'fill';\n                return { color: color, style: style, borderColor: color };\n            }\n        }],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var maxPeriod = Math.max(params[0], params[1]);\n        var shortSum = 0;\n        var longSum = 0;\n        var short = 0;\n        var long = 0;\n        return dataList.map(function (kLineData, i) {\n            var ao = {};\n            var middle = (kLineData.low + kLineData.high) / 2;\n            shortSum += middle;\n            longSum += middle;\n            if (i >= params[0] - 1) {\n                short = shortSum / params[0];\n                var agoKLineData = dataList[i - (params[0] - 1)];\n                shortSum -= ((agoKLineData.low + agoKLineData.high) / 2);\n            }\n            if (i >= params[1] - 1) {\n                long = longSum / params[1];\n                var agoKLineData = dataList[i - (params[1] - 1)];\n                longSum -= ((agoKLineData.low + agoKLineData.high) / 2);\n            }\n            if (i >= maxPeriod - 1) {\n                ao.ao = short - long;\n            }\n            return ao;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * BIAS\n * ‰πñÁ¶ªÁéá=[(ÂΩìÊó•Êî∂Áõò‰ª∑-NÊó•Âπ≥Âùá‰ª∑)/NÊó•Âπ≥Âùá‰ª∑]*100%\n */\nvar bias = {\n    name: 'BIAS',\n    shortName: 'BIAS',\n    calcParams: [6, 12, 24],\n    figures: [\n        { key: 'bias1', title: 'BIAS6: ', type: 'line' },\n        { key: 'bias2', title: 'BIAS12: ', type: 'line' },\n        { key: 'bias3', title: 'BIAS24: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) { return params.map(function (p, i) { return ({ key: \"bias\".concat(i + 1), title: \"BIAS\".concat(p, \": \"), type: 'line' }); }); },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var closeSums = [];\n        return dataList.map(function (kLineData, i) {\n            var bias = {};\n            var close = kLineData.close;\n            params.forEach(function (p, index) {\n                var _a;\n                closeSums[index] = ((_a = closeSums[index]) !== null && _a !== void 0 ? _a : 0) + close;\n                if (i >= p - 1) {\n                    var mean = closeSums[index] / params[index];\n                    bias[figures[index].key] = (close - mean) / mean * 100;\n                    closeSums[index] -= dataList[i - (p - 1)].close;\n                }\n            });\n            return bias;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * ËÆ°ÁÆóÂ∏ÉÊûóÊåáÊ†á‰∏≠ÁöÑÊ†áÂáÜÂ∑Æ\n * @param dataList\n * @param ma\n * @return {number}\n */\nfunction getBollMd(dataList, ma) {\n    var dataSize = dataList.length;\n    var sum = 0;\n    dataList.forEach(function (data) {\n        var closeMa = data.close - ma;\n        sum += closeMa * closeMa;\n    });\n    sum = Math.abs(sum);\n    return Math.sqrt(sum / dataSize);\n}\n/**\n * BOLL\n */\nvar bollingerBands = {\n    name: 'BOLL',\n    shortName: 'BOLL',\n    series: 'price',\n    calcParams: [20, 2],\n    precision: 2,\n    shouldOhlc: true,\n    figures: [\n        { key: 'up', title: 'UP: ', type: 'line' },\n        { key: 'mid', title: 'MID: ', type: 'line' },\n        { key: 'dn', title: 'DN: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var p = params[0] - 1;\n        var closeSum = 0;\n        return dataList.map(function (kLineData, i) {\n            var close = kLineData.close;\n            var boll = {};\n            closeSum += close;\n            if (i >= p) {\n                boll.mid = closeSum / params[0];\n                var md = getBollMd(dataList.slice(i - p, i + 1), boll.mid);\n                boll.up = boll.mid + params[1] * md;\n                boll.dn = boll.mid - params[1] * md;\n                closeSum -= dataList[i - p].close;\n            }\n            return boll;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * BRAR\n * ÈªòËÆ§ÂèÇÊï∞ÊòØ26„ÄÇ\n * ÂÖ¨ÂºèNÊó•BR=NÊó•ÂÜÖÔºàHÔºçCYÔºâ‰πãÂíåÈô§‰ª•NÊó•ÂÜÖÔºàCYÔºçLÔºâ‰πãÂíå*100Ôºå\n * ÂÖ∂‰∏≠ÔºåH‰∏∫ÂΩìÊó•ÊúÄÈ´ò‰ª∑ÔºåL‰∏∫ÂΩìÊó•ÊúÄ‰Ωé‰ª∑ÔºåCY‰∏∫Ââç‰∏Ä‰∫§ÊòìÊó•ÁöÑÊî∂Áõò‰ª∑ÔºåN‰∏∫ËÆæÂÆöÁöÑÊó∂Èó¥ÂèÇÊï∞„ÄÇ\n * NÊó•AR=(NÊó•ÂÜÖÔºàHÔºçOÔºâ‰πãÂíåÈô§‰ª•NÊó•ÂÜÖÔºàOÔºçLÔºâ‰πãÂíå)*100Ôºå\n * ÂÖ∂‰∏≠ÔºåH‰∏∫ÂΩìÊó•ÊúÄÈ´ò‰ª∑ÔºåL‰∏∫ÂΩìÊó•ÊúÄ‰Ωé‰ª∑ÔºåO‰∏∫ÂΩìÊó•ÂºÄÁõò‰ª∑ÔºåN‰∏∫ËÆæÂÆöÁöÑÊó∂Èó¥ÂèÇÊï∞\n *\n */\nvar brar = {\n    name: 'BRAR',\n    shortName: 'BRAR',\n    calcParams: [26],\n    figures: [\n        { key: 'br', title: 'BR: ', type: 'line' },\n        { key: 'ar', title: 'AR: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var hcy = 0;\n        var cyl = 0;\n        var ho = 0;\n        var ol = 0;\n        return dataList.map(function (kLineData, i) {\n            var _a, _b;\n            var brar = {};\n            var high = kLineData.high;\n            var low = kLineData.low;\n            var open = kLineData.open;\n            var prevClose = ((_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData).close;\n            ho += (high - open);\n            ol += (open - low);\n            hcy += (high - prevClose);\n            cyl += (prevClose - low);\n            if (i >= params[0] - 1) {\n                if (ol !== 0) {\n                    brar.ar = ho / ol * 100;\n                }\n                else {\n                    brar.ar = 0;\n                }\n                if (cyl !== 0) {\n                    brar.br = hcy / cyl * 100;\n                }\n                else {\n                    brar.br = 0;\n                }\n                var agoKLineData = dataList[i - (params[0] - 1)];\n                var agoHigh = agoKLineData.high;\n                var agoLow = agoKLineData.low;\n                var agoOpen = agoKLineData.open;\n                var agoPreClose = ((_b = dataList[i - params[0]]) !== null && _b !== void 0 ? _b : dataList[i - (params[0] - 1)]).close;\n                hcy -= (agoHigh - agoPreClose);\n                cyl -= (agoPreClose - agoLow);\n                ho -= (agoHigh - agoOpen);\n                ol -= (agoOpen - agoLow);\n            }\n            return brar;\n        });\n    }\n};\n\n/**\n * Â§öÁ©∫ÊåáÊ†á\n * ÂÖ¨Âºè: BBI = (MA(CLOSE, M) + MA(CLOSE, N) + MA(CLOSE, O) + MA(CLOSE, P)) / 4\n *\n */\nvar bullAndBearIndex = {\n    name: 'BBI',\n    shortName: 'BBI',\n    series: 'price',\n    precision: 2,\n    calcParams: [3, 6, 12, 24],\n    shouldOhlc: true,\n    figures: [\n        { key: 'bbi', title: 'BBI: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var maxPeriod = Math.max.apply(Math, __spreadArray([], __read(params), false));\n        var closeSums = [];\n        var mas = [];\n        return dataList.map(function (kLineData, i) {\n            var bbi = {};\n            var close = kLineData.close;\n            params.forEach(function (p, index) {\n                var _a;\n                closeSums[index] = ((_a = closeSums[index]) !== null && _a !== void 0 ? _a : 0) + close;\n                if (i >= p - 1) {\n                    mas[index] = closeSums[index] / p;\n                    closeSums[index] -= dataList[i - (p - 1)].close;\n                }\n            });\n            if (i >= maxPeriod - 1) {\n                var maSum_1 = 0;\n                mas.forEach(function (ma) {\n                    maSum_1 += ma;\n                });\n                bbi.bbi = maSum_1 / 4;\n            }\n            return bbi;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * CCI\n * CCIÔºàNÊó•Ôºâ=ÔºàTPÔºçMAÔºâ√∑MD√∑0.015\n * ÂÖ∂‰∏≠ÔºåTP=ÔºàÊúÄÈ´ò‰ª∑+ÊúÄ‰Ωé‰ª∑+Êî∂Áõò‰ª∑Ôºâ√∑3\n * MA=ËøëNÊó•TP‰ª∑ÁöÑÁ¥ØËÆ°‰πãÂíå√∑N\n * MD=ËøëNÊó•TP - ÂΩìÂâçMAÁªùÂØπÂÄºÁöÑÁ¥ØËÆ°‰πãÂíå√∑N\n *\n */\nvar commodityChannelIndex = {\n    name: 'CCI',\n    shortName: 'CCI',\n    calcParams: [20],\n    figures: [\n        { key: 'cci', title: 'CCI: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var p = params[0] - 1;\n        var tpSum = 0;\n        var tpList = [];\n        return dataList.map(function (kLineData, i) {\n            var cci = {};\n            var tp = (kLineData.high + kLineData.low + kLineData.close) / 3;\n            tpSum += tp;\n            tpList.push(tp);\n            if (i >= p) {\n                var maTp_1 = tpSum / params[0];\n                var sliceTpList = tpList.slice(i - p, i + 1);\n                var sum_1 = 0;\n                sliceTpList.forEach(function (tp) {\n                    sum_1 += Math.abs(tp - maTp_1);\n                });\n                var md = sum_1 / params[0];\n                cci.cci = md !== 0 ? (tp - maTp_1) / md / 0.015 : 0;\n                var agoTp = (dataList[i - p].high + dataList[i - p].low + dataList[i - p].close) / 3;\n                tpSum -= agoTp;\n            }\n            return cci;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http:*www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * MID:=REF(HIGH+LOW,1)/2;\n * CR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\n * MA1:REF(MA(CR,M1),M1/2.5+1);\n * MA2:REF(MA(CR,M2),M2/2.5+1);\n * MA3:REF(MA(CR,M3),M3/2.5+1);\n * MA4:REF(MA(CR,M4),M4/2.5+1);\n * MIDËµãÂÄº:(Êò®Êó•ÊúÄÈ´ò‰ª∑+Êò®Êó•ÊúÄ‰Ωé‰ª∑)/2\n * ËæìÂá∫Â∏¶Áä∂ËÉΩÈáèÁ∫ø:0ÂíåÊúÄÈ´ò‰ª∑-MIDÁöÑËæÉÂ§ßÂÄºÁöÑNÊó•Á¥ØÂíå/0ÂíåMID-ÊúÄ‰Ωé‰ª∑ÁöÑËæÉÂ§ßÂÄºÁöÑNÊó•Á¥ØÂíå*100\n * ËæìÂá∫MA1:M1(5)/2.5+1Êó•ÂâçÁöÑCRÁöÑM1(5)Êó•ÁÆÄÂçïÁßªÂä®Âπ≥Âùá\n * ËæìÂá∫MA2:M2(10)/2.5+1Êó•ÂâçÁöÑCRÁöÑM2(10)Êó•ÁÆÄÂçïÁßªÂä®Âπ≥Âùá\n * ËæìÂá∫MA3:M3(20)/2.5+1Êó•ÂâçÁöÑCRÁöÑM3(20)Êó•ÁÆÄÂçïÁßªÂä®Âπ≥Âùá\n * ËæìÂá∫MA4:M4/2.5+1Êó•ÂâçÁöÑCRÁöÑM4Êó•ÁÆÄÂçïÁßªÂä®Âπ≥Âùá\n *\n */\nvar currentRatio = {\n    name: 'CR',\n    shortName: 'CR',\n    calcParams: [26, 10, 20, 40, 60],\n    figures: [\n        { key: 'cr', title: 'CR: ', type: 'line' },\n        { key: 'ma1', title: 'MA1: ', type: 'line' },\n        { key: 'ma2', title: 'MA2: ', type: 'line' },\n        { key: 'ma3', title: 'MA3: ', type: 'line' },\n        { key: 'ma4', title: 'MA4: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var ma1ForwardPeriod = Math.ceil(params[1] / 2.5 + 1);\n        var ma2ForwardPeriod = Math.ceil(params[2] / 2.5 + 1);\n        var ma3ForwardPeriod = Math.ceil(params[3] / 2.5 + 1);\n        var ma4ForwardPeriod = Math.ceil(params[4] / 2.5 + 1);\n        var ma1Sum = 0;\n        var ma1List = [];\n        var ma2Sum = 0;\n        var ma2List = [];\n        var ma3Sum = 0;\n        var ma3List = [];\n        var ma4Sum = 0;\n        var ma4List = [];\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b, _c, _d, _e;\n            var cr = {};\n            var prevData = (_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData;\n            var prevMid = (prevData.high + prevData.close + prevData.low + prevData.open) / 4;\n            var highSubPreMid = Math.max(0, kLineData.high - prevMid);\n            var preMidSubLow = Math.max(0, prevMid - kLineData.low);\n            if (i >= params[0] - 1) {\n                if (preMidSubLow !== 0) {\n                    cr.cr = highSubPreMid / preMidSubLow * 100;\n                }\n                else {\n                    cr.cr = 0;\n                }\n                ma1Sum += cr.cr;\n                ma2Sum += cr.cr;\n                ma3Sum += cr.cr;\n                ma4Sum += cr.cr;\n                if (i >= params[0] + params[1] - 2) {\n                    ma1List.push(ma1Sum / params[1]);\n                    if (i >= params[0] + params[1] + ma1ForwardPeriod - 3) {\n                        cr.ma1 = ma1List[ma1List.length - 1 - ma1ForwardPeriod];\n                    }\n                    ma1Sum -= ((_b = result[i - (params[1] - 1)].cr) !== null && _b !== void 0 ? _b : 0);\n                }\n                if (i >= params[0] + params[2] - 2) {\n                    ma2List.push(ma2Sum / params[2]);\n                    if (i >= params[0] + params[2] + ma2ForwardPeriod - 3) {\n                        cr.ma2 = ma2List[ma2List.length - 1 - ma2ForwardPeriod];\n                    }\n                    ma2Sum -= ((_c = result[i - (params[2] - 1)].cr) !== null && _c !== void 0 ? _c : 0);\n                }\n                if (i >= params[0] + params[3] - 2) {\n                    ma3List.push(ma3Sum / params[3]);\n                    if (i >= params[0] + params[3] + ma3ForwardPeriod - 3) {\n                        cr.ma3 = ma3List[ma3List.length - 1 - ma3ForwardPeriod];\n                    }\n                    ma3Sum -= ((_d = result[i - (params[3] - 1)].cr) !== null && _d !== void 0 ? _d : 0);\n                }\n                if (i >= params[0] + params[4] - 2) {\n                    ma4List.push(ma4Sum / params[4]);\n                    if (i >= params[0] + params[4] + ma4ForwardPeriod - 3) {\n                        cr.ma4 = ma4List[ma4List.length - 1 - ma4ForwardPeriod];\n                    }\n                    ma4Sum -= ((_e = result[i - (params[4] - 1)].cr) !== null && _e !== void 0 ? _e : 0);\n                }\n            }\n            result.push(cr);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * DMA\n * ÂÖ¨ÂºèÔºöDIF:MA(CLOSE,N1)-MA(CLOSE,N2);DIFMA:MA(DIF,M)\n */\nvar differentOfMovingAverage = {\n    name: 'DMA',\n    shortName: 'DMA',\n    calcParams: [10, 50, 10],\n    figures: [\n        { key: 'dma', title: 'DMA: ', type: 'line' },\n        { key: 'ama', title: 'AMA: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var maxPeriod = Math.max(params[0], params[1]);\n        var closeSum1 = 0;\n        var closeSum2 = 0;\n        var dmaSum = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a;\n            var dma = {};\n            var close = kLineData.close;\n            closeSum1 += close;\n            closeSum2 += close;\n            var ma1 = 0;\n            var ma2 = 0;\n            if (i >= params[0] - 1) {\n                ma1 = closeSum1 / params[0];\n                closeSum1 -= dataList[i - (params[0] - 1)].close;\n            }\n            if (i >= params[1] - 1) {\n                ma2 = closeSum2 / params[1];\n                closeSum2 -= dataList[i - (params[1] - 1)].close;\n            }\n            if (i >= maxPeriod - 1) {\n                var dif = ma1 - ma2;\n                dma.dma = dif;\n                dmaSum += dif;\n                if (i >= maxPeriod + params[2] - 2) {\n                    dma.ama = dmaSum / params[2];\n                    dmaSum -= ((_a = result[i - (params[2] - 1)].dma) !== null && _a !== void 0 ? _a : 0);\n                }\n            }\n            result.push(dma);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * DMI\n *\n * MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N)\n * HD :=HIGH-REF(HIGH,1);\n * LD :=REF(LOW,1)-LOW;\n * DMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\n * DMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\n *\n * PDI: DMP*100/MTR;\n * MDI: DMM*100/MTR;\n * ADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\n * ADXR:EXPMEMA(ADX,MM);\n * ÂÖ¨ÂºèÂê´‰πâÔºö\n * MTRËµãÂÄº:ÊúÄÈ´ò‰ª∑-ÊúÄ‰Ωé‰ª∑ÂíåÊúÄÈ´ò‰ª∑-Êò®Êî∂ÁöÑÁªùÂØπÂÄºÁöÑËæÉÂ§ßÂÄºÂíåÊò®Êî∂-ÊúÄ‰Ωé‰ª∑ÁöÑÁªùÂØπÂÄºÁöÑËæÉÂ§ßÂÄºÁöÑNÊó•ÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥Âùá\n * HDËµãÂÄº:ÊúÄÈ´ò‰ª∑-Êò®Êó•ÊúÄÈ´ò‰ª∑\n * LDËµãÂÄº:Êò®Êó•ÊúÄ‰Ωé‰ª∑-ÊúÄ‰Ωé‰ª∑\n * DMPËµãÂÄº:Â¶ÇÊûúHD>0Âπ∂‰∏îHD>LD,ËøîÂõûHD,Âê¶ÂàôËøîÂõû0ÁöÑNÊó•ÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥Âùá\n * DMMËµãÂÄº:Â¶ÇÊûúLD>0Âπ∂‰∏îLD>HD,ËøîÂõûLD,Âê¶ÂàôËøîÂõû0ÁöÑNÊó•ÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥Âùá\n * ËæìÂá∫PDI:DMP*100/MTR\n * ËæìÂá∫MDI:DMM*100/MTR\n * ËæìÂá∫ADX:MDI-PDIÁöÑÁªùÂØπÂÄº/(MDI+PDI)*100ÁöÑMMÊó•ÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥Âùá\n * ËæìÂá∫ADXR:ADXÁöÑMMÊó•ÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥Âùá\n *\n */\nvar directionalMovementIndex = {\n    name: 'DMI',\n    shortName: 'DMI',\n    calcParams: [14, 6],\n    figures: [\n        { key: 'pdi', title: 'PDI: ', type: 'line' },\n        { key: 'mdi', title: 'MDI: ', type: 'line' },\n        { key: 'adx', title: 'ADX: ', type: 'line' },\n        { key: 'adxr', title: 'ADXR: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var trSum = 0;\n        var hSum = 0;\n        var lSum = 0;\n        var mtr = 0;\n        var dmp = 0;\n        var dmm = 0;\n        var dxSum = 0;\n        var adx = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b;\n            var dmi = {};\n            var prevKLineData = (_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData;\n            var preClose = prevKLineData.close;\n            var high = kLineData.high;\n            var low = kLineData.low;\n            var hl = high - low;\n            var hcy = Math.abs(high - preClose);\n            var lcy = Math.abs(preClose - low);\n            var hhy = high - prevKLineData.high;\n            var lyl = prevKLineData.low - low;\n            var tr = Math.max(Math.max(hl, hcy), lcy);\n            var h = (hhy > 0 && hhy > lyl) ? hhy : 0;\n            var l = (lyl > 0 && lyl > hhy) ? lyl : 0;\n            trSum += tr;\n            hSum += h;\n            lSum += l;\n            if (i >= params[0] - 1) {\n                if (i > params[0] - 1) {\n                    mtr = mtr - mtr / params[0] + tr;\n                    dmp = dmp - dmp / params[0] + h;\n                    dmm = dmm - dmm / params[0] + l;\n                }\n                else {\n                    mtr = trSum;\n                    dmp = hSum;\n                    dmm = lSum;\n                }\n                var pdi = 0;\n                var mdi = 0;\n                if (mtr !== 0) {\n                    pdi = dmp * 100 / mtr;\n                    mdi = dmm * 100 / mtr;\n                }\n                dmi.pdi = pdi;\n                dmi.mdi = mdi;\n                var dx = 0;\n                if (mdi + pdi !== 0) {\n                    dx = Math.abs((mdi - pdi)) / (mdi + pdi) * 100;\n                }\n                dxSum += dx;\n                if (i >= params[0] * 2 - 2) {\n                    if (i > params[0] * 2 - 2) {\n                        adx = (adx * (params[0] - 1) + dx) / params[0];\n                    }\n                    else {\n                        adx = dxSum / params[0];\n                    }\n                    dmi.adx = adx;\n                    if (i >= params[0] * 2 + params[1] - 3) {\n                        dmi.adxr = (((_b = result[i - (params[1] - 1)].adx) !== null && _b !== void 0 ? _b : 0) + adx) / 2;\n                    }\n                }\n            }\n            result.push(dmi);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n *\n * EMV ÁÆÄÊòìÊ≥¢Âä®ÊåáÊ†á\n * ÂÖ¨ÂºèÔºö\n * A=Ôºà‰ªäÊó•ÊúÄÈ´ò+‰ªäÊó•ÊúÄ‰ΩéÔºâ/2\n * B=ÔºàÂâçÊó•ÊúÄÈ´ò+ÂâçÊó•ÊúÄ‰ΩéÔºâ/2\n * C=‰ªäÊó•ÊúÄÈ´ò-‰ªäÊó•ÊúÄ‰Ωé\n * EM=ÔºàA-BÔºâ*C/‰ªäÊó•Êàê‰∫§È¢ù\n * EMV=NÊó•ÂÜÖEMÁöÑÁ¥ØÂíå\n * MAEMV=EMVÁöÑMÊó•ÁöÑÁÆÄÂçïÁßªÂä®Âπ≥Âùá\n *\n */\nvar easeOfMovementValue = {\n    name: 'EMV',\n    shortName: 'EMV',\n    calcParams: [14, 9],\n    figures: [\n        { key: 'emv', title: 'EMV: ', type: 'line' },\n        { key: 'maEmv', title: 'MAEMV: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var emvValueSum = 0;\n        var emvValueList = [];\n        return dataList.map(function (kLineData, i) {\n            var _a;\n            var emv = {};\n            if (i > 0) {\n                var prevKLineData = dataList[i - 1];\n                var high = kLineData.high;\n                var low = kLineData.low;\n                var volume = (_a = kLineData.volume) !== null && _a !== void 0 ? _a : 0;\n                var distanceMoved = (high + low) / 2 - (prevKLineData.high + prevKLineData.low) / 2;\n                if (volume === 0 || high - low === 0) {\n                    emv.emv = 0;\n                }\n                else {\n                    var ratio = volume / 100000000 / (high - low);\n                    emv.emv = distanceMoved / ratio;\n                }\n                emvValueSum += emv.emv;\n                emvValueList.push(emv.emv);\n                if (i >= params[0]) {\n                    emv.maEmv = emvValueSum / params[0];\n                    emvValueSum -= emvValueList[i - params[0]];\n                }\n            }\n            return emv;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * EMA ÊåáÊï∞ÁßªÂä®Âπ≥Âùá\n */\nvar exponentialMovingAverage = {\n    name: 'EMA',\n    shortName: 'EMA',\n    series: 'price',\n    calcParams: [6, 12, 20],\n    precision: 2,\n    shouldOhlc: true,\n    figures: [\n        { key: 'ema1', title: 'EMA6: ', type: 'line' },\n        { key: 'ema2', title: 'EMA12: ', type: 'line' },\n        { key: 'ema3', title: 'EMA20: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) { return params.map(function (p, i) { return ({ key: \"ema\".concat(i + 1), title: \"EMA\".concat(p, \": \"), type: 'line' }); }); },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var closeSum = 0;\n        var emaValues = [];\n        return dataList.map(function (kLineData, i) {\n            var ema = {};\n            var close = kLineData.close;\n            closeSum += close;\n            params.forEach(function (p, index) {\n                if (i >= p - 1) {\n                    if (i > p - 1) {\n                        emaValues[index] = (2 * close + (p - 1) * emaValues[index]) / (p + 1);\n                    }\n                    else {\n                        emaValues[index] = closeSum / p;\n                    }\n                    ema[figures[index].key] = emaValues[index];\n                }\n            });\n            return ema;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * mtm\n * ÂÖ¨Âºè MTMÔºàNÊó•Ôºâ=CÔºçCN\n */\nvar momentum = {\n    name: 'MTM',\n    shortName: 'MTM',\n    calcParams: [12, 6],\n    figures: [\n        { key: 'mtm', title: 'MTM: ', type: 'line' },\n        { key: 'maMtm', title: 'MAMTM: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var mtmSum = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a;\n            var mtm = {};\n            if (i >= params[0]) {\n                var close_1 = kLineData.close;\n                var agoClose = dataList[i - params[0]].close;\n                mtm.mtm = close_1 - agoClose;\n                mtmSum += mtm.mtm;\n                if (i >= params[0] + params[1] - 1) {\n                    mtm.maMtm = mtmSum / params[1];\n                    mtmSum -= ((_a = result[i - (params[1] - 1)].mtm) !== null && _a !== void 0 ? _a : 0);\n                }\n            }\n            result.push(mtm);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * MA ÁßªÂä®Âπ≥Âùá\n */\nvar movingAverage = {\n    name: 'MA',\n    shortName: 'MA',\n    series: 'price',\n    calcParams: [5, 10, 30, 60],\n    precision: 2,\n    shouldOhlc: true,\n    figures: [\n        { key: 'ma1', title: 'MA5: ', type: 'line' },\n        { key: 'ma2', title: 'MA10: ', type: 'line' },\n        { key: 'ma3', title: 'MA30: ', type: 'line' },\n        { key: 'ma4', title: 'MA60: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) { return params.map(function (p, i) { return ({ key: \"ma\".concat(i + 1), title: \"MA\".concat(p, \": \"), type: 'line' }); }); },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var closeSums = [];\n        return dataList.map(function (kLineData, i) {\n            var ma = {};\n            var close = kLineData.close;\n            params.forEach(function (p, index) {\n                var _a;\n                closeSums[index] = ((_a = closeSums[index]) !== null && _a !== void 0 ? _a : 0) + close;\n                if (i >= p - 1) {\n                    ma[figures[index].key] = closeSums[index] / p;\n                    closeSums[index] -= dataList[i - (p - 1)].close;\n                }\n            });\n            return ma;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * MACDÔºöÂèÇÊï∞Âø´Á∫øÁßªÂä®Âπ≥Âùá„ÄÅÊÖ¢Á∫øÁßªÂä®Âπ≥Âùá„ÄÅÁßªÂä®Âπ≥ÂùáÔºå\n * ÈªòËÆ§ÂèÇÊï∞ÂÄº12„ÄÅ26„ÄÅ9„ÄÇ\n * ÂÖ¨ÂºèÔºö‚íàÈ¶ñÂÖàÂàÜÂà´ËÆ°ÁÆóÂá∫Êî∂Áõò‰ª∑12Êó•ÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥ÂùáÁ∫ø‰∏é26Êó•ÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥ÂùáÁ∫øÔºåÂàÜÂà´ËÆ∞‰∏∫EMA(12Ôºâ‰∏éEMA(26Ôºâ„ÄÇ\n * ‚íâÊ±ÇËøô‰∏§Êù°ÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥ÂùáÁ∫øÁöÑÂ∑ÆÔºåÂç≥ÔºöDIFF = EMA(SHORT) Ôºç EMA(LONG)„ÄÇ\n * ‚íäÂÜçËÆ°ÁÆóDIFFÁöÑMÊó•ÁöÑÂπ≥ÂùáÁöÑÊåáÊï∞Âπ≥ÊªëÁßªÂä®Âπ≥ÂùáÁ∫øÔºåËÆ∞‰∏∫DEA„ÄÇ\n * ‚íãÊúÄÂêéÁî®DIFFÂáèDEAÔºåÂæóMACD„ÄÇMACDÈÄöÂ∏∏ÁªòÂà∂ÊàêÂõ¥ÁªïÈõ∂ËΩ¥Á∫øÊ≥¢Âä®ÁöÑÊü±ÂΩ¢Âõæ„ÄÇMACDÊü±Áä∂Â§ß‰∫é0Ê∂®È¢úËâ≤ÔºåÂ∞è‰∫é0Ë∑åÈ¢úËâ≤„ÄÇ\n */\nvar movingAverageConvergenceDivergence = {\n    name: 'MACD',\n    shortName: 'MACD',\n    calcParams: [12, 26, 9],\n    figures: [\n        { key: 'dif', title: 'DIF: ', type: 'line' },\n        { key: 'dea', title: 'DEA: ', type: 'line' },\n        {\n            key: 'macd',\n            title: 'MACD: ',\n            type: 'bar',\n            baseValue: 0,\n            styles: function (_a) {\n                var _b, _c;\n                var data = _a.data, indicator = _a.indicator, defaultStyles = _a.defaultStyles;\n                var prev = data.prev, current = data.current;\n                var prevMacd = (_b = prev === null || prev === void 0 ? void 0 : prev.macd) !== null && _b !== void 0 ? _b : Number.MIN_SAFE_INTEGER;\n                var currentMacd = (_c = current === null || current === void 0 ? void 0 : current.macd) !== null && _c !== void 0 ? _c : Number.MIN_SAFE_INTEGER;\n                var color = '';\n                if (currentMacd > 0) {\n                    color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor);\n                }\n                else if (currentMacd < 0) {\n                    color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor);\n                }\n                else {\n                    color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles.bars)[0].noChangeColor);\n                }\n                var style = prevMacd < currentMacd ? 'stroke' : 'fill';\n                return { style: style, color: color, borderColor: color };\n            }\n        }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var closeSum = 0;\n        var emaShort = 0;\n        var emaLong = 0;\n        var dif = 0;\n        var difSum = 0;\n        var dea = 0;\n        var maxPeriod = Math.max(params[0], params[1]);\n        return dataList.map(function (kLineData, i) {\n            var macd = {};\n            var close = kLineData.close;\n            closeSum += close;\n            if (i >= params[0] - 1) {\n                if (i > params[0] - 1) {\n                    emaShort = (2 * close + (params[0] - 1) * emaShort) / (params[0] + 1);\n                }\n                else {\n                    emaShort = closeSum / params[0];\n                }\n            }\n            if (i >= params[1] - 1) {\n                if (i > params[1] - 1) {\n                    emaLong = (2 * close + (params[1] - 1) * emaLong) / (params[1] + 1);\n                }\n                else {\n                    emaLong = closeSum / params[1];\n                }\n            }\n            if (i >= maxPeriod - 1) {\n                dif = emaShort - emaLong;\n                macd.dif = dif;\n                difSum += dif;\n                if (i >= maxPeriod + params[2] - 2) {\n                    if (i > maxPeriod + params[2] - 2) {\n                        dea = (dif * 2 + dea * (params[2] - 1)) / (params[2] + 1);\n                    }\n                    else {\n                        dea = difSum / params[2];\n                    }\n                    macd.macd = (dif - dea) * 2;\n                    macd.dea = dea;\n                }\n            }\n            return macd;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * OBV\n * OBV = REF(OBV) + sign * V\n */\nvar onBalanceVolume = {\n    name: 'OBV',\n    shortName: 'OBV',\n    calcParams: [30],\n    figures: [\n        { key: 'obv', title: 'OBV: ', type: 'line' },\n        { key: 'maObv', title: 'MAOBV: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var obvSum = 0;\n        var oldObv = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b, _c, _d;\n            var prevKLineData = (_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData;\n            if (kLineData.close < prevKLineData.close) {\n                oldObv -= ((_b = kLineData.volume) !== null && _b !== void 0 ? _b : 0);\n            }\n            else if (kLineData.close > prevKLineData.close) {\n                oldObv += ((_c = kLineData.volume) !== null && _c !== void 0 ? _c : 0);\n            }\n            var obv = { obv: oldObv };\n            obvSum += oldObv;\n            if (i >= params[0] - 1) {\n                obv.maObv = obvSum / params[0];\n                obvSum -= ((_d = result[i - (params[0] - 1)].obv) !== null && _d !== void 0 ? _d : 0);\n            }\n            result.push(obv);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * ‰ª∑ÈáèË∂ãÂäøÊåáÊ†á\n * ÂÖ¨Âºè:\n * X = (CLOSE - REF(CLOSE, 1)) / REF(CLOSE, 1) * VOLUME\n * PVT = SUM(X)\n *\n */\nvar priceAndVolumeTrend = {\n    name: 'PVT',\n    shortName: 'PVT',\n    figures: [\n        { key: 'pvt', title: 'PVT: ', type: 'line' }\n    ],\n    calc: function (dataList) {\n        var sum = 0;\n        return dataList.map(function (kLineData, i) {\n            var _a, _b;\n            var pvt = {};\n            var close = kLineData.close;\n            var volume = (_a = kLineData.volume) !== null && _a !== void 0 ? _a : 1;\n            var prevClose = ((_b = dataList[i - 1]) !== null && _b !== void 0 ? _b : kLineData).close;\n            var x = 0;\n            var total = prevClose * volume;\n            if (total !== 0) {\n                x = (close - prevClose) / total;\n            }\n            sum += x;\n            pvt.pvt = sum;\n            return pvt;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * PSY\n * ÂÖ¨ÂºèÔºöPSY=NÊó•ÂÜÖÁöÑ‰∏äÊ∂®Â§©Êï∞/N√ó100%„ÄÇ\n */\nvar psychologicalLine = {\n    name: 'PSY',\n    shortName: 'PSY',\n    calcParams: [12, 6],\n    figures: [\n        { key: 'psy', title: 'PSY: ', type: 'line' },\n        { key: 'maPsy', title: 'MAPSY: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var upCount = 0;\n        var psySum = 0;\n        var upList = [];\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b;\n            var psy = {};\n            var prevClose = ((_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData).close;\n            var upFlag = kLineData.close - prevClose > 0 ? 1 : 0;\n            upList.push(upFlag);\n            upCount += upFlag;\n            if (i >= params[0] - 1) {\n                psy.psy = upCount / params[0] * 100;\n                psySum += psy.psy;\n                if (i >= params[0] + params[1] - 2) {\n                    psy.maPsy = psySum / params[1];\n                    psySum -= ((_b = result[i - (params[1] - 1)].psy) !== null && _b !== void 0 ? _b : 0);\n                }\n                upCount -= upList[i - (params[0] - 1)];\n            }\n            result.push(psy);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * ÂèòÂä®ÁéáÊåáÊ†á\n * ÂÖ¨ÂºèÔºöROC = (CLOSE - REF(CLOSE, N)) / REF(CLOSE, N)\n */\nvar rateOfChange = {\n    name: 'ROC',\n    shortName: 'ROC',\n    calcParams: [12, 6],\n    figures: [\n        { key: 'roc', title: 'ROC: ', type: 'line' },\n        { key: 'maRoc', title: 'MAROC: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var result = [];\n        var rocSum = 0;\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b;\n            var roc = {};\n            if (i >= params[0] - 1) {\n                var close_1 = kLineData.close;\n                var agoClose = ((_a = dataList[i - params[0]]) !== null && _a !== void 0 ? _a : dataList[i - (params[0] - 1)]).close;\n                if (agoClose !== 0) {\n                    roc.roc = (close_1 - agoClose) / agoClose * 100;\n                }\n                else {\n                    roc.roc = 0;\n                }\n                rocSum += roc.roc;\n                if (i >= params[0] - 1 + params[1] - 1) {\n                    roc.maRoc = rocSum / params[1];\n                    rocSum -= ((_b = result[i - (params[1] - 1)].roc) !== null && _b !== void 0 ? _b : 0);\n                }\n            }\n            result.push(roc);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * RSI\n * RSI = SUM(MAX(CLOSE - REF(CLOSE,1),0),N) / SUM(ABS(CLOSE - REF(CLOSE,1)),N) √ó 100\n */\nvar relativeStrengthIndex = {\n    name: 'RSI',\n    shortName: 'RSI',\n    calcParams: [6, 12, 24],\n    figures: [\n        { key: 'rsi1', title: 'RSI1: ', type: 'line' },\n        { key: 'rsi2', title: 'RSI2: ', type: 'line' },\n        { key: 'rsi3', title: 'RSI3: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) { return params.map(function (_, index) {\n        var num = index + 1;\n        return { key: \"rsi\".concat(num), title: \"RSI\".concat(num, \": \"), type: 'line' };\n    }); },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var sumCloseAs = [];\n        var sumCloseBs = [];\n        return dataList.map(function (kLineData, i) {\n            var _a;\n            var rsi = {};\n            var prevClose = ((_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData).close;\n            var tmp = kLineData.close - prevClose;\n            params.forEach(function (p, index) {\n                var _a, _b, _c;\n                if (tmp > 0) {\n                    sumCloseAs[index] = ((_a = sumCloseAs[index]) !== null && _a !== void 0 ? _a : 0) + tmp;\n                }\n                else {\n                    sumCloseBs[index] = ((_b = sumCloseBs[index]) !== null && _b !== void 0 ? _b : 0) + Math.abs(tmp);\n                }\n                if (i >= p - 1) {\n                    if (sumCloseBs[index] !== 0) {\n                        rsi[figures[index].key] = 100 - (100.0 / (1 + sumCloseAs[index] / sumCloseBs[index]));\n                    }\n                    else {\n                        rsi[figures[index].key] = 0;\n                    }\n                    var agoData = dataList[i - (p - 1)];\n                    var agoPreData = (_c = dataList[i - p]) !== null && _c !== void 0 ? _c : agoData;\n                    var agoTmp = agoData.close - agoPreData.close;\n                    if (agoTmp > 0) {\n                        sumCloseAs[index] -= agoTmp;\n                    }\n                    else {\n                        sumCloseBs[index] -= Math.abs(agoTmp);\n                    }\n                }\n            });\n            return rsi;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * sma\n */\nvar simpleMovingAverage = {\n    name: 'SMA',\n    shortName: 'SMA',\n    series: 'price',\n    calcParams: [12, 2],\n    precision: 2,\n    figures: [\n        { key: 'sma', title: 'SMA: ', type: 'line' }\n    ],\n    shouldOhlc: true,\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var closeSum = 0;\n        var smaValue = 0;\n        return dataList.map(function (kLineData, i) {\n            var sma = {};\n            var close = kLineData.close;\n            closeSum += close;\n            if (i >= params[0] - 1) {\n                if (i > params[0] - 1) {\n                    smaValue = (close * params[1] + smaValue * (params[0] - params[1] + 1)) / (params[0] + 1);\n                }\n                else {\n                    smaValue = closeSum / params[0];\n                }\n                sma.sma = smaValue;\n            }\n            return sma;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * KDJ\n *\n * ÂΩìÊó•KÂÄº=2/3√óÂâç‰∏ÄÊó•KÂÄº+1/3√óÂΩìÊó•RSV\n * ÂΩìÊó•DÂÄº=2/3√óÂâç‰∏ÄÊó•DÂÄº+1/3√óÂΩìÊó•KÂÄº\n * Ëã•Êó†Ââç‰∏ÄÊó•K ÂÄº‰∏éDÂÄºÔºåÂàôÂèØÂàÜÂà´Áî®50Êù•‰ª£Êõø„ÄÇ\n * JÂÄº=3*ÂΩìÊó•KÂÄº-2*ÂΩìÊó•DÂÄº\n */\nvar stoch = {\n    name: 'KDJ',\n    shortName: 'KDJ',\n    calcParams: [9, 3, 3],\n    figures: [\n        { key: 'k', title: 'K: ', type: 'line' },\n        { key: 'd', title: 'D: ', type: 'line' },\n        { key: 'j', title: 'J: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b, _c, _d;\n            var kdj = {};\n            var close = kLineData.close;\n            if (i >= params[0] - 1) {\n                var lhn = getMaxMin(dataList.slice(i - (params[0] - 1), i + 1), 'high', 'low');\n                var hn = lhn[0];\n                var ln = lhn[1];\n                var hnSubLn = hn - ln;\n                var rsv = (close - ln) / (hnSubLn === 0 ? 1 : hnSubLn) * 100;\n                kdj.k = ((params[1] - 1) * ((_b = (_a = result[i - 1]) === null || _a === void 0 ? void 0 : _a.k) !== null && _b !== void 0 ? _b : 50) + rsv) / params[1];\n                kdj.d = ((params[2] - 1) * ((_d = (_c = result[i - 1]) === null || _c === void 0 ? void 0 : _c.d) !== null && _d !== void 0 ? _d : 50) + kdj.k) / params[2];\n                kdj.j = 3.0 * kdj.k - 2.0 * kdj.d;\n            }\n            result.push(kdj);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar stopAndReverse = {\n    name: 'SAR',\n    shortName: 'SAR',\n    series: 'price',\n    calcParams: [2, 2, 20],\n    precision: 2,\n    shouldOhlc: true,\n    figures: [\n        {\n            key: 'sar',\n            title: 'SAR: ',\n            type: 'circle',\n            styles: function (_a) {\n                var _b, _c, _d;\n                var data = _a.data, indicator = _a.indicator, defaultStyles = _a.defaultStyles;\n                var current = data.current;\n                var sar = (_b = current === null || current === void 0 ? void 0 : current.sar) !== null && _b !== void 0 ? _b : Number.MIN_SAFE_INTEGER;\n                var halfHL = (((_c = current === null || current === void 0 ? void 0 : current.high) !== null && _c !== void 0 ? _c : 0) + ((_d = current === null || current === void 0 ? void 0 : current.low) !== null && _d !== void 0 ? _d : 0)) / 2;\n                var color = sar < halfHL\n                    ? formatValue(indicator.styles, 'circles[0].upColor', (defaultStyles.circles)[0].upColor)\n                    : formatValue(indicator.styles, 'circles[0].downColor', (defaultStyles.circles)[0].downColor);\n                return { color: color };\n            }\n        }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var startAf = params[0] / 100;\n        var step = params[1] / 100;\n        var maxAf = params[2] / 100;\n        // Âä†ÈÄüÂõ†Â≠ê\n        var af = startAf;\n        // ÊûÅÂÄº\n        var ep = -100;\n        // Âà§Êñ≠ÊòØ‰∏äÊ∂®ËøòÊòØ‰∏ãË∑å  falseÔºö‰∏ãË∑å\n        var isIncreasing = false;\n        var sar = 0;\n        return dataList.map(function (kLineData, i) {\n            // ‰∏ä‰∏Ä‰∏™Âë®ÊúüÁöÑsar\n            var preSar = sar;\n            var high = kLineData.high;\n            var low = kLineData.low;\n            if (isIncreasing) {\n                // ‰∏äÊ∂®\n                if (ep === -100 || ep < high) {\n                    // ÈáçÊñ∞ÂàùÂßãÂåñÂÄº\n                    ep = high;\n                    af = Math.min(af + step, maxAf);\n                }\n                sar = preSar + af * (ep - preSar);\n                var lowMin = Math.min(dataList[Math.max(1, i) - 1].low, low);\n                if (sar > kLineData.low) {\n                    sar = ep;\n                    // ÈáçÊñ∞ÂàùÂßãÂåñÂÄº\n                    af = startAf;\n                    ep = -100;\n                    isIncreasing = !isIncreasing;\n                }\n                else if (sar > lowMin) {\n                    sar = lowMin;\n                }\n            }\n            else {\n                if (ep === -100 || ep > low) {\n                    // ÈáçÊñ∞ÂàùÂßãÂåñÂÄº\n                    ep = low;\n                    af = Math.min(af + step, maxAf);\n                }\n                sar = preSar + af * (ep - preSar);\n                var highMax = Math.max(dataList[Math.max(1, i) - 1].high, high);\n                if (sar < kLineData.high) {\n                    sar = ep;\n                    // ÈáçÊñ∞ÂàùÂßãÂåñÂÄº\n                    af = 0;\n                    ep = -100;\n                    isIncreasing = !isIncreasing;\n                }\n                else if (sar < highMax) {\n                    sar = highMax;\n                }\n            }\n            return { high: high, low: low, sar: sar };\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http:*www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * trix\n *\n * TR=Êî∂Áõò‰ª∑ÁöÑNÊó•ÊåáÊï∞ÁßªÂä®Âπ≥ÂùáÁöÑNÊó•ÊåáÊï∞ÁßªÂä®Âπ≥ÂùáÁöÑNÊó•ÊåáÊï∞ÁßªÂä®Âπ≥ÂùáÔºõ\n * TRIX=(TR-Êò®Êó•TR)/Êò®Êó•TR*100Ôºõ\n * MATRIX=TRIXÁöÑMÊó•ÁÆÄÂçïÁßªÂä®Âπ≥ÂùáÔºõ\n * ÈªòËÆ§ÂèÇÊï∞NËÆæ‰∏∫12ÔºåÈªòËÆ§ÂèÇÊï∞MËÆæ‰∏∫9Ôºõ\n * ÈªòËÆ§ÂèÇÊï∞12„ÄÅ9\n * ÂÖ¨ÂºèÔºöMTR:=EMA(EMA(EMA(CLOSE,N),N),N)\n * TRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\n * TRMA:MA(TRIX,M)\n *\n */\nvar tripleExponentiallySmoothedAverage = {\n    name: 'TRIX',\n    shortName: 'TRIX',\n    calcParams: [12, 9],\n    figures: [\n        { key: 'trix', title: 'TRIX: ', type: 'line' },\n        { key: 'maTrix', title: 'MATRIX: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var closeSum = 0;\n        var ema1 = 0;\n        var ema2 = 0;\n        var oldTr = 0;\n        var ema1Sum = 0;\n        var ema2Sum = 0;\n        var trixSum = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a;\n            var trix = {};\n            var close = kLineData.close;\n            closeSum += close;\n            if (i >= params[0] - 1) {\n                if (i > params[0] - 1) {\n                    ema1 = (2 * close + (params[0] - 1) * ema1) / (params[0] + 1);\n                }\n                else {\n                    ema1 = closeSum / params[0];\n                }\n                ema1Sum += ema1;\n                if (i >= params[0] * 2 - 2) {\n                    if (i > params[0] * 2 - 2) {\n                        ema2 = (2 * ema1 + (params[0] - 1) * ema2) / (params[0] + 1);\n                    }\n                    else {\n                        ema2 = ema1Sum / params[0];\n                    }\n                    ema2Sum += ema2;\n                    if (i >= params[0] * 3 - 3) {\n                        var tr = 0;\n                        var trixValue = 0;\n                        if (i > params[0] * 3 - 3) {\n                            tr = (2 * ema2 + (params[0] - 1) * oldTr) / (params[0] + 1);\n                            trixValue = (tr - oldTr) / oldTr * 100;\n                        }\n                        else {\n                            tr = ema2Sum / params[0];\n                        }\n                        oldTr = tr;\n                        trix.trix = trixValue;\n                        trixSum += trixValue;\n                        if (i >= params[0] * 3 + params[1] - 4) {\n                            trix.maTrix = trixSum / params[1];\n                            trixSum -= ((_a = result[i - (params[1] - 1)].trix) !== null && _a !== void 0 ? _a : 0);\n                        }\n                    }\n                }\n            }\n            result.push(trix);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getVolumeFigure() {\n    return {\n        key: 'volume',\n        title: 'VOLUME: ',\n        type: 'bar',\n        baseValue: 0,\n        styles: function (_a) {\n            var data = _a.data, indicator = _a.indicator, defaultStyles = _a.defaultStyles;\n            var current = data.current;\n            var color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles.bars)[0].noChangeColor);\n            if (isValid(current)) {\n                if (current.close > current.open) {\n                    color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor);\n                }\n                else if (current.close < current.open) {\n                    color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor);\n                }\n            }\n            return { color: color };\n        }\n    };\n}\nvar volume = {\n    name: 'VOL',\n    shortName: 'VOL',\n    series: 'volume',\n    calcParams: [5, 10, 20],\n    shouldFormatBigNumber: true,\n    precision: 0,\n    minValue: 0,\n    figures: [\n        { key: 'ma1', title: 'MA5: ', type: 'line' },\n        { key: 'ma2', title: 'MA10: ', type: 'line' },\n        { key: 'ma3', title: 'MA20: ', type: 'line' },\n        getVolumeFigure()\n    ],\n    regenerateFigures: function (params) {\n        var figures = params.map(function (p, i) { return ({ key: \"ma\".concat(i + 1), title: \"MA\".concat(p, \": \"), type: 'line' }); });\n        figures.push(getVolumeFigure());\n        return figures;\n    },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var volSums = [];\n        return dataList.map(function (kLineData, i) {\n            var _a;\n            var volume = (_a = kLineData.volume) !== null && _a !== void 0 ? _a : 0;\n            var vol = { volume: volume, open: kLineData.open, close: kLineData.close };\n            params.forEach(function (p, index) {\n                var _a, _b;\n                volSums[index] = ((_a = volSums[index]) !== null && _a !== void 0 ? _a : 0) + volume;\n                if (i >= p - 1) {\n                    vol[figures[index].key] = volSums[index] / p;\n                    volSums[index] -= ((_b = dataList[i - (p - 1)].volume) !== null && _b !== void 0 ? _b : 0);\n                }\n            });\n            return vol;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * VR\n * VR=ÔºàUVS+1/2PVSÔºâ/ÔºàDVS+1/2PVSÔºâ\n * 24Â§©‰ª•Êù•Âá°ÊòØËÇ°‰ª∑‰∏äÊ∂®ÈÇ£‰∏ÄÂ§©ÁöÑÊàê‰∫§ÈáèÈÉΩÁß∞‰∏∫AVÔºåÂ∞Ü24Â§©ÂÜÖÁöÑAVÊÄªÂíåÁõ∏Âä†ÂêéÁß∞‰∏∫UVS\n * 24Â§©‰ª•Êù•Âá°ÊòØËÇ°‰ª∑‰∏ãË∑åÈÇ£‰∏ÄÂ§©ÁöÑÊàê‰∫§ÈáèÈÉΩÁß∞‰∏∫BVÔºåÂ∞Ü24Â§©ÂÜÖÁöÑBVÊÄªÂíåÁõ∏Âä†ÂêéÁß∞‰∏∫DVS\n * 24Â§©‰ª•Êù•Âá°ÊòØËÇ°‰ª∑‰∏çÊ∂®‰∏çË∑åÔºåÂàôÈÇ£‰∏ÄÂ§©ÁöÑÊàê‰∫§ÈáèÈÉΩÁß∞‰∏∫CVÔºåÂ∞Ü24Â§©ÂÜÖÁöÑCVÊÄªÂíåÁõ∏Âä†ÂêéÁß∞‰∏∫PVS\n *\n */\nvar volumeRatio = {\n    name: 'VR',\n    shortName: 'VR',\n    calcParams: [26, 6],\n    figures: [\n        { key: 'vr', title: 'VR: ', type: 'line' },\n        { key: 'maVr', title: 'MAVR: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var uvs = 0;\n        var dvs = 0;\n        var pvs = 0;\n        var vrSum = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b, _c, _d, _e;\n            var vr = {};\n            var close = kLineData.close;\n            var preClose = ((_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData).close;\n            var volume = (_b = kLineData.volume) !== null && _b !== void 0 ? _b : 0;\n            if (close > preClose) {\n                uvs += volume;\n            }\n            else if (close < preClose) {\n                dvs += volume;\n            }\n            else {\n                pvs += volume;\n            }\n            if (i >= params[0] - 1) {\n                var halfPvs = pvs / 2;\n                if (dvs + halfPvs === 0) {\n                    vr.vr = 0;\n                }\n                else {\n                    vr.vr = (uvs + halfPvs) / (dvs + halfPvs) * 100;\n                }\n                vrSum += vr.vr;\n                if (i >= params[0] + params[1] - 2) {\n                    vr.maVr = vrSum / params[1];\n                    vrSum -= ((_c = result[i - (params[1] - 1)].vr) !== null && _c !== void 0 ? _c : 0);\n                }\n                var agoData = dataList[i - (params[0] - 1)];\n                var agoPreData = (_d = dataList[i - params[0]]) !== null && _d !== void 0 ? _d : agoData;\n                var agoClose = agoData.close;\n                var agoVolume = (_e = agoData.volume) !== null && _e !== void 0 ? _e : 0;\n                if (agoClose > agoPreData.close) {\n                    uvs -= agoVolume;\n                }\n                else if (agoClose < agoPreData.close) {\n                    dvs -= agoVolume;\n                }\n                else {\n                    pvs -= agoVolume;\n                }\n            }\n            result.push(vr);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * WR\n * ÂÖ¨Âºè WR(N) = 100 * [ C - HIGH(N) ] / [ HIGH(N)-LOW(N) ]\n */\nvar williamsR = {\n    name: 'WR',\n    shortName: 'WR',\n    calcParams: [6, 10, 14],\n    figures: [\n        { key: 'wr1', title: 'WR1: ', type: 'line' },\n        { key: 'wr2', title: 'WR2: ', type: 'line' },\n        { key: 'wr3', title: 'WR3: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) { return params.map(function (_, i) { return ({ key: \"wr\".concat(i + 1), title: \"WR\".concat(i + 1, \": \"), type: 'line' }); }); },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        return dataList.map(function (kLineData, i) {\n            var wr = {};\n            var close = kLineData.close;\n            params.forEach(function (param, index) {\n                var p = param - 1;\n                if (i >= p) {\n                    var hln = getMaxMin(dataList.slice(i - p, i + 1), 'high', 'low');\n                    var hn = hln[0];\n                    var ln = hln[1];\n                    var hnSubLn = hn - ln;\n                    wr[figures[index].key] = hnSubLn === 0 ? 0 : (close - hn) / hnSubLn * 100;\n                }\n            });\n            return wr;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar indicators = {};\nvar extensions$2 = [\n    averagePrice, awesomeOscillator, bias, bollingerBands, brar,\n    bullAndBearIndex, commodityChannelIndex, currentRatio, differentOfMovingAverage,\n    directionalMovementIndex, easeOfMovementValue, exponentialMovingAverage, momentum,\n    movingAverage, movingAverageConvergenceDivergence, onBalanceVolume, priceAndVolumeTrend,\n    psychologicalLine, rateOfChange, relativeStrengthIndex, simpleMovingAverage,\n    stoch, stopAndReverse, tripleExponentiallySmoothedAverage, volume, volumeRatio, williamsR\n];\nextensions$2.forEach(function (indicator) {\n    indicators[indicator.name] = IndicatorImp.extend(indicator);\n});\nfunction registerIndicator(indicator) {\n    indicators[indicator.name] = IndicatorImp.extend(indicator);\n}\nfunction getIndicatorClass(name) {\n    var _a;\n    return (_a = indicators[name]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getSupportedIndicators() {\n    return Object.keys(indicators);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkOverlayFigureEvent(targetEventType, figure) {\n    var _a;\n    var ignoreEvent = (_a = figure === null || figure === void 0 ? void 0 : figure.ignoreEvent) !== null && _a !== void 0 ? _a : false;\n    if (isBoolean(ignoreEvent)) {\n        return !ignoreEvent;\n    }\n    return !ignoreEvent.includes(targetEventType);\n}\nvar OVERLAY_DRAW_STEP_START = 1;\nvar OVERLAY_DRAW_STEP_FINISHED = -1;\nvar OVERLAY_ID_PREFIX = 'overlay_';\nvar OVERLAY_FIGURE_KEY_PREFIX = 'overlay_figure_';\nvar OverlayImp = /** @class */ (function () {\n    function OverlayImp(overlay) {\n        this.groupId = '';\n        this.totalStep = 1;\n        this.currentStep = OVERLAY_DRAW_STEP_START;\n        this.lock = false;\n        this.visible = true;\n        this.zLevel = 0;\n        this.needDefaultPointFigure = false;\n        this.needDefaultXAxisFigure = false;\n        this.needDefaultYAxisFigure = false;\n        this.mode = 'normal';\n        this.modeSensitivity = 8;\n        this.points = [];\n        this.styles = null;\n        this.createPointFigures = null;\n        this.createXAxisFigures = null;\n        this.createYAxisFigures = null;\n        this.performEventPressedMove = null;\n        this.performEventMoveForDrawing = null;\n        this.onDrawStart = null;\n        this.onDrawing = null;\n        this.onDrawEnd = null;\n        this.onClick = null;\n        this.onDoubleClick = null;\n        this.onRightClick = null;\n        this.onPressedMoveStart = null;\n        this.onPressedMoving = null;\n        this.onPressedMoveEnd = null;\n        this.onMouseMove = null;\n        this.onMouseEnter = null;\n        this.onMouseLeave = null;\n        this.onRemoved = null;\n        this.onSelected = null;\n        this.onDeselected = null;\n        this._prevZLevel = 0;\n        this._prevPressedPoint = null;\n        this._prevPressedPoints = [];\n        this.override(overlay);\n    }\n    OverlayImp.prototype.override = function (overlay) {\n        var _a, _b;\n        this._prevOverlay = clone(__assign(__assign({}, this), { _prevOverlay: null }));\n        var id = overlay.id, name = overlay.name; overlay.currentStep; var points = overlay.points, styles = overlay.styles, others = __rest(overlay, [\"id\", \"name\", \"currentStep\", \"points\", \"styles\"]);\n        merge(this, others);\n        if (!isString(this.name)) {\n            this.name = name !== null && name !== void 0 ? name : '';\n        }\n        if (!isString(this.id) && isString(id)) {\n            this.id = id;\n        }\n        if (isValid(styles)) {\n            (_a = this.styles) !== null && _a !== void 0 ? _a : (this.styles = {});\n            merge(this.styles, styles);\n        }\n        if (isArray(points) && points.length > 0) {\n            var repeatTotalStep = 0;\n            this.points = __spreadArray([], __read(points), false);\n            if (points.length >= this.totalStep - 1) {\n                this.currentStep = OVERLAY_DRAW_STEP_FINISHED;\n                repeatTotalStep = this.totalStep - 1;\n            }\n            else {\n                this.currentStep = points.length + 1;\n                repeatTotalStep = points.length;\n            }\n            // Prevent wrong drawing due to wrong points\n            if (isFunction(this.performEventMoveForDrawing)) {\n                for (var i = 0; i < repeatTotalStep; i++) {\n                    this.performEventMoveForDrawing({\n                        currentStep: i + 2,\n                        mode: this.mode,\n                        points: this.points,\n                        performPointIndex: i,\n                        performPoint: this.points[i]\n                    });\n                }\n            }\n            if (this.currentStep === OVERLAY_DRAW_STEP_FINISHED) {\n                (_b = this.performEventPressedMove) === null || _b === void 0 ? void 0 : _b.call(this, {\n                    currentStep: this.currentStep,\n                    mode: this.mode,\n                    points: this.points,\n                    performPointIndex: this.points.length - 1,\n                    performPoint: this.points[this.points.length - 1]\n                });\n            }\n        }\n    };\n    OverlayImp.prototype.getPrevZLevel = function () { return this._prevZLevel; };\n    OverlayImp.prototype.setPrevZLevel = function (zLevel) { this._prevZLevel = zLevel; };\n    OverlayImp.prototype.shouldUpdate = function () {\n        var sort = this._prevOverlay.zLevel !== this.zLevel;\n        var draw = sort ||\n            JSON.stringify(this._prevOverlay.points) !== JSON.stringify(this.points) ||\n            this._prevOverlay.visible !== this.visible ||\n            this._prevOverlay.extendData !== this.extendData ||\n            this._prevOverlay.styles !== this.styles;\n        return { sort: sort, draw: draw };\n    };\n    OverlayImp.prototype.nextStep = function () {\n        if (this.currentStep === this.totalStep - 1) {\n            this.currentStep = OVERLAY_DRAW_STEP_FINISHED;\n        }\n        else {\n            this.currentStep++;\n        }\n    };\n    OverlayImp.prototype.forceComplete = function () {\n        this.currentStep = OVERLAY_DRAW_STEP_FINISHED;\n    };\n    OverlayImp.prototype.isDrawing = function () {\n        return this.currentStep !== OVERLAY_DRAW_STEP_FINISHED;\n    };\n    OverlayImp.prototype.isStart = function () {\n        return this.currentStep === OVERLAY_DRAW_STEP_START;\n    };\n    OverlayImp.prototype.eventMoveForDrawing = function (point) {\n        var _a;\n        var pointIndex = this.currentStep - 1;\n        var newPoint = {};\n        if (isNumber(point.timestamp)) {\n            newPoint.timestamp = point.timestamp;\n        }\n        if (isNumber(point.dataIndex)) {\n            newPoint.dataIndex = point.dataIndex;\n        }\n        if (isNumber(point.value)) {\n            newPoint.value = point.value;\n        }\n        this.points[pointIndex] = newPoint;\n        (_a = this.performEventMoveForDrawing) === null || _a === void 0 ? void 0 : _a.call(this, {\n            currentStep: this.currentStep,\n            mode: this.mode,\n            points: this.points,\n            performPointIndex: pointIndex,\n            performPoint: newPoint\n        });\n    };\n    OverlayImp.prototype.eventPressedPointMove = function (point, pointIndex) {\n        var _a;\n        this.points[pointIndex].timestamp = point.timestamp;\n        if (isNumber(point.value)) {\n            this.points[pointIndex].value = point.value;\n        }\n        (_a = this.performEventPressedMove) === null || _a === void 0 ? void 0 : _a.call(this, {\n            currentStep: this.currentStep,\n            points: this.points,\n            mode: this.mode,\n            performPointIndex: pointIndex,\n            performPoint: this.points[pointIndex]\n        });\n    };\n    OverlayImp.prototype.startPressedMove = function (point) {\n        this._prevPressedPoint = __assign({}, point);\n        this._prevPressedPoints = clone(this.points);\n    };\n    OverlayImp.prototype.eventPressedOtherMove = function (point, chartStore) {\n        if (this._prevPressedPoint !== null) {\n            var difDataIndex_1 = null;\n            if (isNumber(point.dataIndex) && isNumber(this._prevPressedPoint.dataIndex)) {\n                difDataIndex_1 = point.dataIndex - this._prevPressedPoint.dataIndex;\n            }\n            var difValue_1 = null;\n            if (isNumber(point.value) && isNumber(this._prevPressedPoint.value)) {\n                difValue_1 = point.value - this._prevPressedPoint.value;\n            }\n            this.points = this._prevPressedPoints.map(function (p) {\n                var _a;\n                if (isNumber(p.timestamp)) {\n                    p.dataIndex = chartStore.timestampToDataIndex(p.timestamp);\n                }\n                var newPoint = __assign({}, p);\n                if (isNumber(difDataIndex_1) && isNumber(p.dataIndex)) {\n                    newPoint.dataIndex = p.dataIndex + difDataIndex_1;\n                    newPoint.timestamp = (_a = chartStore.dataIndexToTimestamp(newPoint.dataIndex)) !== null && _a !== void 0 ? _a : undefined;\n                }\n                if (isNumber(difValue_1) && isNumber(p.value)) {\n                    newPoint.value = p.value + difValue_1;\n                }\n                return newPoint;\n            });\n        }\n    };\n    OverlayImp.extend = function (template) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom() {\n                return _super.call(this, template) || this;\n            }\n            return Custom;\n        }(OverlayImp));\n        return Custom;\n    };\n    return OverlayImp;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar fibonacciLine = {\n    name: 'fibonacciLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var _b, _c, _d;\n        var chart = _a.chart, coordinates = _a.coordinates, bounding = _a.bounding, overlay = _a.overlay, yAxis = _a.yAxis;\n        var points = overlay.points;\n        if (coordinates.length > 0) {\n            var precision_1 = 0;\n            if ((_b = yAxis === null || yAxis === void 0 ? void 0 : yAxis.isInCandle()) !== null && _b !== void 0 ? _b : true) {\n                precision_1 = (_d = (_c = chart.getSymbol()) === null || _c === void 0 ? void 0 : _c.pricePrecision) !== null && _d !== void 0 ? _d : SymbolDefaultPrecisionConstants.PRICE;\n            }\n            else {\n                var indicators = chart.getIndicators({ paneId: overlay.paneId });\n                indicators.forEach(function (indicator) {\n                    precision_1 = Math.max(precision_1, indicator.precision);\n                });\n            }\n            var lines_1 = [];\n            var texts_1 = [];\n            var startX_1 = 0;\n            var endX_1 = bounding.width;\n            if (coordinates.length > 1 && isNumber(points[0].value) && isNumber(points[1].value)) {\n                var percents = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0];\n                var yDif_1 = coordinates[0].y - coordinates[1].y;\n                var valueDif_1 = points[0].value - points[1].value;\n                percents.forEach(function (percent) {\n                    var _a;\n                    var y = coordinates[1].y + yDif_1 * percent;\n                    var value = chart.getDecimalFold().format(chart.getThousandsSeparator().format((((_a = points[1].value) !== null && _a !== void 0 ? _a : 0) + valueDif_1 * percent).toFixed(precision_1)));\n                    lines_1.push({ coordinates: [{ x: startX_1, y: y }, { x: endX_1, y: y }] });\n                    texts_1.push({\n                        x: startX_1,\n                        y: y,\n                        text: \"\".concat(value, \" (\").concat((percent * 100).toFixed(1), \"%)\"),\n                        baseline: 'bottom'\n                    });\n                });\n            }\n            return [\n                {\n                    type: 'line',\n                    attrs: lines_1\n                }, {\n                    type: 'text',\n                    isCheckEvent: false,\n                    attrs: texts_1\n                }\n            ];\n        }\n        return [];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar horizontalRayLine = {\n    name: 'horizontalRayLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        var coordinate = { x: 0, y: coordinates[0].y };\n        if (isValid(coordinates[1]) && coordinates[0].x < coordinates[1].x) {\n            coordinate.x = bounding.width;\n        }\n        return [\n            {\n                type: 'line',\n                attrs: { coordinates: [coordinates[0], coordinate] }\n            }\n        ];\n    },\n    performEventPressedMove: function (_a) {\n        var points = _a.points, performPoint = _a.performPoint;\n        points[0].value = performPoint.value;\n        points[1].value = performPoint.value;\n    },\n    performEventMoveForDrawing: function (_a) {\n        var currentStep = _a.currentStep, points = _a.points, performPoint = _a.performPoint;\n        if (currentStep === 2) {\n            points[0].value = performPoint.value;\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar horizontalSegment = {\n    name: 'horizontalSegment',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates;\n        var lines = [];\n        if (coordinates.length === 2) {\n            lines.push({ coordinates: coordinates });\n        }\n        return [\n            {\n                type: 'line',\n                attrs: lines\n            }\n        ];\n    },\n    performEventPressedMove: function (_a) {\n        var points = _a.points, performPoint = _a.performPoint;\n        points[0].value = performPoint.value;\n        points[1].value = performPoint.value;\n    },\n    performEventMoveForDrawing: function (_a) {\n        var currentStep = _a.currentStep, points = _a.points, performPoint = _a.performPoint;\n        if (currentStep === 2) {\n            points[0].value = performPoint.value;\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar horizontalStraightLine = {\n    name: 'horizontalStraightLine',\n    totalStep: 2,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [{\n                type: 'line',\n                attrs: {\n                    coordinates: [\n                        {\n                            x: 0,\n                            y: coordinates[0].y\n                        }, {\n                            x: bounding.width,\n                            y: coordinates[0].y\n                        }\n                    ]\n                }\n            }];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Eventful = /** @class */ (function () {\n    function Eventful() {\n        this._children = [];\n        this._callbacks = new Map();\n    }\n    Eventful.prototype.registerEvent = function (name, callback) {\n        this._callbacks.set(name, callback);\n        return this;\n    };\n    Eventful.prototype.onEvent = function (name, event) {\n        var callback = this._callbacks.get(name);\n        if (isValid(callback) && this.checkEventOn(event)) {\n            return callback(event);\n        }\n        return false;\n    };\n    Eventful.prototype.dispatchEventToChildren = function (name, event) {\n        var start = this._children.length - 1;\n        if (start > -1) {\n            for (var i = start; i > -1; i--) {\n                if (this._children[i].dispatchEvent(name, event)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Eventful.prototype.dispatchEvent = function (name, event) {\n        if (this.dispatchEventToChildren(name, event)) {\n            return true;\n        }\n        return this.onEvent(name, event);\n    };\n    Eventful.prototype.addChild = function (eventful) {\n        this._children.push(eventful);\n        return this;\n    };\n    Eventful.prototype.clear = function () {\n        this._children = [];\n    };\n    return Eventful;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DEVIATION = 2;\nvar FigureImp = /** @class */ (function (_super) {\n    __extends(FigureImp, _super);\n    function FigureImp(figure) {\n        var _this = _super.call(this) || this;\n        _this.attrs = figure.attrs;\n        _this.styles = figure.styles;\n        return _this;\n    }\n    FigureImp.prototype.checkEventOn = function (event) {\n        return this.checkEventOnImp(event, this.attrs, this.styles);\n    };\n    FigureImp.prototype.setAttrs = function (attrs) {\n        this.attrs = attrs;\n        return this;\n    };\n    FigureImp.prototype.setStyles = function (styles) {\n        this.styles = styles;\n        return this;\n    };\n    FigureImp.prototype.draw = function (ctx) {\n        this.drawImp(ctx, this.attrs, this.styles);\n    };\n    FigureImp.extend = function (figure) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            Custom.prototype.checkEventOnImp = function (coordinate, attrs, styles) {\n                return figure.checkEventOn(coordinate, attrs, styles);\n            };\n            Custom.prototype.drawImp = function (ctx, attrs, styles) {\n                figure.draw(ctx, attrs, styles);\n            };\n            return Custom;\n        }(FigureImp));\n        return Custom;\n    };\n    return FigureImp;\n}(Eventful));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnLine(coordinate, attrs) {\n    var e_1, _a;\n    var lines = [];\n    lines = lines.concat(attrs);\n    try {\n        for (var lines_1 = __values(lines), lines_1_1 = lines_1.next(); !lines_1_1.done; lines_1_1 = lines_1.next()) {\n            var line_1 = lines_1_1.value;\n            var coordinates = line_1.coordinates;\n            if (coordinates.length > 1) {\n                for (var i = 1; i < coordinates.length; i++) {\n                    var prevCoordinate = coordinates[i - 1];\n                    var currentCoordinate = coordinates[i];\n                    if (prevCoordinate.x === currentCoordinate.x) {\n                        if (Math.abs(prevCoordinate.y - coordinate.y) + Math.abs(currentCoordinate.y - coordinate.y) - Math.abs(prevCoordinate.y - currentCoordinate.y) < DEVIATION + DEVIATION &&\n                            Math.abs(coordinate.x - prevCoordinate.x) < DEVIATION) {\n                            return true;\n                        }\n                    }\n                    else {\n                        var kb = getLinearSlopeIntercept(prevCoordinate, currentCoordinate);\n                        var y = getLinearYFromSlopeIntercept(kb, coordinate);\n                        var yDif = Math.abs(y - coordinate.y);\n                        if (Math.abs(prevCoordinate.x - coordinate.x) + Math.abs(currentCoordinate.x - coordinate.x) - Math.abs(prevCoordinate.x - currentCoordinate.x) < DEVIATION + DEVIATION &&\n                            yDif * yDif / (kb[0] * kb[0] + 1) < DEVIATION * DEVIATION) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (lines_1_1 && !lines_1_1.done && (_a = lines_1.return)) _a.call(lines_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\nfunction getLinearYFromSlopeIntercept(kb, coordinate) {\n    if (kb !== null) {\n        return coordinate.x * kb[0] + kb[1];\n    }\n    return coordinate.y;\n}\n/**\n * Ëé∑ÂèñÁÇπÂú®‰∏§ÁÇπÂÜ≥ÂÆöÁöÑ‰∏ÄÊ¨°ÂáΩÊï∞‰∏äÁöÑyÂÄº\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nfunction getLinearYFromCoordinates(coordinate1, coordinate2, targetCoordinate) {\n    var kb = getLinearSlopeIntercept(coordinate1, coordinate2);\n    return getLinearYFromSlopeIntercept(kb, targetCoordinate);\n}\nfunction getLinearSlopeIntercept(coordinate1, coordinate2) {\n    var difX = coordinate1.x - coordinate2.x;\n    if (difX !== 0) {\n        var k = (coordinate1.y - coordinate2.y) / difX;\n        var b = coordinate1.y - k * coordinate1.x;\n        return [k, b];\n    }\n    return null;\n}\nfunction lineTo(ctx, coordinates, smooth) {\n    var length = coordinates.length;\n    var smoothParam = isNumber(smooth) ? (smooth > 0 && smooth < 1 ? smooth : 0) : (smooth ? 0.5 : 0);\n    if ((smoothParam > 0) && length > 2) {\n        var cpx0 = coordinates[0].x;\n        var cpy0 = coordinates[0].y;\n        for (var i = 1; i < length - 1; i++) {\n            var prevCoordinate = coordinates[i - 1];\n            var coordinate = coordinates[i];\n            var nextCoordinate = coordinates[i + 1];\n            var dx01 = coordinate.x - prevCoordinate.x;\n            var dy01 = coordinate.y - prevCoordinate.y;\n            var dx12 = nextCoordinate.x - coordinate.x;\n            var dy12 = nextCoordinate.y - coordinate.y;\n            var dx02 = nextCoordinate.x - prevCoordinate.x;\n            var dy02 = nextCoordinate.y - prevCoordinate.y;\n            var prevSegmentLength = Math.sqrt(dx01 * dx01 + dy01 * dy01);\n            var nextSegmentLength = Math.sqrt(dx12 * dx12 + dy12 * dy12);\n            var segmentLengthRatio = nextSegmentLength / (nextSegmentLength + prevSegmentLength);\n            var nextCpx = coordinate.x + dx02 * smoothParam * segmentLengthRatio;\n            var nextCpy = coordinate.y + dy02 * smoothParam * segmentLengthRatio;\n            nextCpx = Math.min(nextCpx, Math.max(nextCoordinate.x, coordinate.x));\n            nextCpy = Math.min(nextCpy, Math.max(nextCoordinate.y, coordinate.y));\n            nextCpx = Math.max(nextCpx, Math.min(nextCoordinate.x, coordinate.x));\n            nextCpy = Math.max(nextCpy, Math.min(nextCoordinate.y, coordinate.y));\n            dx02 = nextCpx - coordinate.x;\n            dy02 = nextCpy - coordinate.y;\n            var cpx1 = coordinate.x - dx02 * prevSegmentLength / nextSegmentLength;\n            var cpy1 = coordinate.y - dy02 * prevSegmentLength / nextSegmentLength;\n            cpx1 = Math.min(cpx1, Math.max(prevCoordinate.x, coordinate.x));\n            cpy1 = Math.min(cpy1, Math.max(prevCoordinate.y, coordinate.y));\n            cpx1 = Math.max(cpx1, Math.min(prevCoordinate.x, coordinate.x));\n            cpy1 = Math.max(cpy1, Math.min(prevCoordinate.y, coordinate.y));\n            dx02 = coordinate.x - cpx1;\n            dy02 = coordinate.y - cpy1;\n            nextCpx = coordinate.x + dx02 * nextSegmentLength / prevSegmentLength;\n            nextCpy = coordinate.y + dy02 * nextSegmentLength / prevSegmentLength;\n            ctx.bezierCurveTo(cpx0, cpy0, cpx1, cpy1, coordinate.x, coordinate.y);\n            cpx0 = nextCpx;\n            cpy0 = nextCpy;\n        }\n        var lastCoordinate = coordinates[length - 1];\n        ctx.bezierCurveTo(cpx0, cpy0, lastCoordinate.x, lastCoordinate.y, lastCoordinate.x, lastCoordinate.y);\n    }\n    else {\n        for (var i = 1; i < length; i++) {\n            ctx.lineTo(coordinates[i].x, coordinates[i].y);\n        }\n    }\n}\nfunction drawLine(ctx, attrs, styles) {\n    var lines = [];\n    lines = lines.concat(attrs);\n    var _a = styles.style, style = _a === void 0 ? 'solid' : _a, _b = styles.smooth, smooth = _b === void 0 ? false : _b, _c = styles.size, size = _c === void 0 ? 1 : _c, _d = styles.color, color = _d === void 0 ? 'currentColor' : _d, _e = styles.dashedValue, dashedValue = _e === void 0 ? [2, 2] : _e;\n    ctx.lineWidth = size;\n    ctx.strokeStyle = color;\n    if (style === 'dashed') {\n        ctx.setLineDash(dashedValue);\n    }\n    else {\n        ctx.setLineDash([]);\n    }\n    var correction = size % 2 === 1 ? 0.5 : 0;\n    lines.forEach(function (_a) {\n        var coordinates = _a.coordinates;\n        if (coordinates.length > 1) {\n            if (coordinates.length === 2 &&\n                (coordinates[0].x === coordinates[1].x ||\n                    coordinates[0].y === coordinates[1].y)) {\n                ctx.beginPath();\n                if (coordinates[0].x === coordinates[1].x) {\n                    ctx.moveTo(coordinates[0].x + correction, coordinates[0].y);\n                    ctx.lineTo(coordinates[1].x + correction, coordinates[1].y);\n                }\n                else {\n                    ctx.moveTo(coordinates[0].x, coordinates[0].y + correction);\n                    ctx.lineTo(coordinates[1].x, coordinates[1].y + correction);\n                }\n                ctx.stroke();\n                ctx.closePath();\n            }\n            else {\n                ctx.save();\n                if (size % 2 === 1) {\n                    ctx.translate(0.5, 0.5);\n                }\n                ctx.beginPath();\n                ctx.moveTo(coordinates[0].x, coordinates[0].y);\n                lineTo(ctx, coordinates, smooth);\n                ctx.stroke();\n                ctx.closePath();\n                ctx.restore();\n            }\n        }\n    });\n}\nvar line = {\n    name: 'line',\n    checkEventOn: checkCoordinateOnLine,\n    draw: function (ctx, attrs, styles) {\n        drawLine(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Ëé∑ÂèñÂπ≥Ë°åÁ∫ø\n * @param coordinates\n * @param bounding\n * @param extendParallelLineCount\n * @returns {Array}\n */\nfunction getParallelLines(coordinates, bounding, extendParallelLineCount) {\n    var count = extendParallelLineCount !== null && extendParallelLineCount !== void 0 ? extendParallelLineCount : 0;\n    var lines = [];\n    if (coordinates.length > 1) {\n        if (coordinates[0].x === coordinates[1].x) {\n            var startY = 0;\n            var endY = bounding.height;\n            lines.push({ coordinates: [{ x: coordinates[0].x, y: startY }, { x: coordinates[0].x, y: endY }] });\n            if (coordinates.length > 2) {\n                lines.push({ coordinates: [{ x: coordinates[2].x, y: startY }, { x: coordinates[2].x, y: endY }] });\n                var distance = coordinates[0].x - coordinates[2].x;\n                for (var i = 0; i < count; i++) {\n                    var d = distance * (i + 1);\n                    lines.push({ coordinates: [{ x: coordinates[0].x + d, y: startY }, { x: coordinates[0].x + d, y: endY }] });\n                }\n            }\n        }\n        else {\n            var startX = 0;\n            var endX = bounding.width;\n            var kb = getLinearSlopeIntercept(coordinates[0], coordinates[1]);\n            var k = kb[0];\n            var b = kb[1];\n            lines.push({ coordinates: [{ x: startX, y: startX * k + b }, { x: endX, y: endX * k + b }] });\n            if (coordinates.length > 2) {\n                var b1 = coordinates[2].y - k * coordinates[2].x;\n                lines.push({ coordinates: [{ x: startX, y: startX * k + b1 }, { x: endX, y: endX * k + b1 }] });\n                var distance = b - b1;\n                for (var i = 0; i < count; i++) {\n                    var b2 = b + distance * (i + 1);\n                    lines.push({ coordinates: [{ x: startX, y: startX * k + b2 }, { x: endX, y: endX * k + b2 }] });\n                }\n            }\n        }\n    }\n    return lines;\n}\nvar parallelStraightLine = {\n    name: 'parallelStraightLine',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [\n            {\n                type: 'line',\n                attrs: getParallelLines(coordinates, bounding)\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar priceChannelLine = {\n    name: 'priceChannelLine',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [\n            {\n                type: 'line',\n                attrs: getParallelLines(coordinates, bounding, 1)\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar priceLine = {\n    name: 'priceLine',\n    totalStep: 2,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var _b, _c, _d;\n        var chart = _a.chart, coordinates = _a.coordinates, bounding = _a.bounding, overlay = _a.overlay, yAxis = _a.yAxis;\n        var precision = 0;\n        if ((_b = yAxis === null || yAxis === void 0 ? void 0 : yAxis.isInCandle()) !== null && _b !== void 0 ? _b : true) {\n            precision = (_d = (_c = chart.getSymbol()) === null || _c === void 0 ? void 0 : _c.pricePrecision) !== null && _d !== void 0 ? _d : SymbolDefaultPrecisionConstants.PRICE;\n        }\n        else {\n            var indicators = chart.getIndicators({ paneId: overlay.paneId });\n            indicators.forEach(function (indicator) {\n                precision = Math.max(precision, indicator.precision);\n            });\n        }\n        var _e = (overlay.points)[0].value, value = _e === void 0 ? 0 : _e;\n        return [\n            {\n                type: 'line',\n                attrs: { coordinates: [coordinates[0], { x: bounding.width, y: coordinates[0].y }] }\n            },\n            {\n                type: 'text',\n                ignoreEvent: true,\n                attrs: {\n                    x: coordinates[0].x,\n                    y: coordinates[0].y,\n                    text: chart.getDecimalFold().format(chart.getThousandsSeparator().format(value.toFixed(precision))),\n                    baseline: 'bottom'\n                }\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getRayLine(coordinates, bounding) {\n    if (coordinates.length > 1) {\n        var coordinate = { x: 0, y: 0 };\n        if (coordinates[0].x === coordinates[1].x && coordinates[0].y !== coordinates[1].y) {\n            if (coordinates[0].y < coordinates[1].y) {\n                coordinate = {\n                    x: coordinates[0].x,\n                    y: bounding.height\n                };\n            }\n            else {\n                coordinate = {\n                    x: coordinates[0].x,\n                    y: 0\n                };\n            }\n        }\n        else if (coordinates[0].x > coordinates[1].x) {\n            coordinate = {\n                x: 0,\n                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: 0, y: coordinates[0].y })\n            };\n        }\n        else {\n            coordinate = {\n                x: bounding.width,\n                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: bounding.width, y: coordinates[0].y })\n            };\n        }\n        return { coordinates: [coordinates[0], coordinate] };\n    }\n    return [];\n}\nvar rayLine = {\n    name: 'rayLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [\n            {\n                type: 'line',\n                attrs: getRayLine(coordinates, bounding)\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar segment = {\n    name: 'segment',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates;\n        if (coordinates.length === 2) {\n            return [\n                {\n                    type: 'line',\n                    attrs: { coordinates: coordinates }\n                }\n            ];\n        }\n        return [];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar straightLine = {\n    name: 'straightLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        if (coordinates.length === 2) {\n            if (coordinates[0].x === coordinates[1].x) {\n                return [\n                    {\n                        type: 'line',\n                        attrs: {\n                            coordinates: [\n                                {\n                                    x: coordinates[0].x,\n                                    y: 0\n                                }, {\n                                    x: coordinates[0].x,\n                                    y: bounding.height\n                                }\n                            ]\n                        }\n                    }\n                ];\n            }\n            return [\n                {\n                    type: 'line',\n                    attrs: {\n                        coordinates: [\n                            {\n                                x: 0,\n                                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: 0, y: coordinates[0].y })\n                            }, {\n                                x: bounding.width,\n                                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: bounding.width, y: coordinates[0].y })\n                            }\n                        ]\n                    }\n                }\n            ];\n        }\n        return [];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar verticalRayLine = {\n    name: 'verticalRayLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        if (coordinates.length === 2) {\n            var coordinate = { x: coordinates[0].x, y: 0 };\n            if (coordinates[0].y < coordinates[1].y) {\n                coordinate.y = bounding.height;\n            }\n            return [\n                {\n                    type: 'line',\n                    attrs: { coordinates: [coordinates[0], coordinate] }\n                }\n            ];\n        }\n        return [];\n    },\n    performEventPressedMove: function (_a) {\n        var points = _a.points, performPoint = _a.performPoint;\n        points[0].timestamp = performPoint.timestamp;\n        points[0].dataIndex = performPoint.dataIndex;\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n    },\n    performEventMoveForDrawing: function (_a) {\n        var currentStep = _a.currentStep, points = _a.points, performPoint = _a.performPoint;\n        if (currentStep === 2) {\n            points[0].timestamp = performPoint.timestamp;\n            points[0].dataIndex = performPoint.dataIndex;\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar verticalSegment = {\n    name: 'verticalSegment',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates;\n        if (coordinates.length === 2) {\n            return [\n                {\n                    type: 'line',\n                    attrs: { coordinates: coordinates }\n                }\n            ];\n        }\n        return [];\n    },\n    performEventPressedMove: function (_a) {\n        var points = _a.points, performPoint = _a.performPoint;\n        points[0].timestamp = performPoint.timestamp;\n        points[0].dataIndex = performPoint.dataIndex;\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n    },\n    performEventMoveForDrawing: function (_a) {\n        var currentStep = _a.currentStep, points = _a.points, performPoint = _a.performPoint;\n        if (currentStep === 2) {\n            points[0].timestamp = performPoint.timestamp;\n            points[0].dataIndex = performPoint.dataIndex;\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar verticalStraightLine = {\n    name: 'verticalStraightLine',\n    totalStep: 2,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [\n            {\n                type: 'line',\n                attrs: {\n                    coordinates: [\n                        {\n                            x: coordinates[0].x,\n                            y: 0\n                        }, {\n                            x: coordinates[0].x,\n                            y: bounding.height\n                        }\n                    ]\n                }\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar simpleAnnotation = {\n    name: 'simpleAnnotation',\n    totalStep: 2,\n    styles: {\n        line: { style: 'dashed' }\n    },\n    createPointFigures: function (_a) {\n        var _b;\n        var overlay = _a.overlay, coordinates = _a.coordinates;\n        var text = '';\n        if (isValid(overlay.extendData)) {\n            if (!isFunction(overlay.extendData)) {\n                text = ((_b = overlay.extendData) !== null && _b !== void 0 ? _b : '');\n            }\n            else {\n                text = (overlay.extendData(overlay));\n            }\n        }\n        var startX = coordinates[0].x;\n        var startY = coordinates[0].y - 6;\n        var lineEndY = startY - 50;\n        var arrowEndY = lineEndY - 5;\n        return [\n            {\n                type: 'line',\n                attrs: { coordinates: [{ x: startX, y: startY }, { x: startX, y: lineEndY }] },\n                ignoreEvent: true\n            },\n            {\n                type: 'polygon',\n                attrs: { coordinates: [{ x: startX, y: lineEndY }, { x: startX - 4, y: arrowEndY }, { x: startX + 4, y: arrowEndY }] },\n                ignoreEvent: true\n            },\n            {\n                type: 'text',\n                attrs: { x: startX, y: arrowEndY, text: text, align: 'center', baseline: 'bottom' },\n                ignoreEvent: true\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar simpleTag = {\n    name: 'simpleTag',\n    totalStep: 2,\n    styles: {\n        line: { style: 'dashed' }\n    },\n    createPointFigures: function (_a) {\n        var bounding = _a.bounding, coordinates = _a.coordinates;\n        return ({\n            type: 'line',\n            attrs: {\n                coordinates: [\n                    { x: 0, y: coordinates[0].y },\n                    { x: bounding.width, y: coordinates[0].y }\n                ]\n            },\n            ignoreEvent: true\n        });\n    },\n    createYAxisFigures: function (_a) {\n        var _b, _c, _d, _e;\n        var chart = _a.chart, overlay = _a.overlay, coordinates = _a.coordinates, bounding = _a.bounding, yAxis = _a.yAxis;\n        var isFromZero = (_b = yAxis === null || yAxis === void 0 ? void 0 : yAxis.isFromZero()) !== null && _b !== void 0 ? _b : false;\n        var textAlign = 'left';\n        var x = 0;\n        if (isFromZero) {\n            textAlign = 'left';\n            x = 0;\n        }\n        else {\n            textAlign = 'right';\n            x = bounding.width;\n        }\n        var text = '';\n        if (isValid(overlay.extendData)) {\n            if (!isFunction(overlay.extendData)) {\n                text = ((_c = overlay.extendData) !== null && _c !== void 0 ? _c : '');\n            }\n            else {\n                text = overlay.extendData(overlay);\n            }\n        }\n        if (!isValid(text) && isNumber(overlay.points[0].value)) {\n            text = formatPrecision(overlay.points[0].value, (_e = (_d = chart.getSymbol()) === null || _d === void 0 ? void 0 : _d.pricePrecision) !== null && _e !== void 0 ? _e : SymbolDefaultPrecisionConstants.PRICE);\n        }\n        return { type: 'text', attrs: { x: x, y: coordinates[0].y, text: text, align: textAlign, baseline: 'middle' } };\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar overlays = {};\nvar extensions$1 = [\n    fibonacciLine, horizontalRayLine, horizontalSegment, horizontalStraightLine,\n    parallelStraightLine, priceChannelLine, priceLine, rayLine, segment,\n    straightLine, verticalRayLine, verticalSegment, verticalStraightLine,\n    simpleAnnotation, simpleTag\n];\nextensions$1.forEach(function (template) {\n    overlays[template.name] = OverlayImp.extend(template);\n});\nfunction registerOverlay(template) {\n    overlays[template.name] = OverlayImp.extend(template);\n}\nfunction getOverlayInnerClass(name) {\n    var _a;\n    return (_a = overlays[name]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getOverlayClass(name) {\n    var _a;\n    return (_a = overlays[name]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getSupportedOverlays() {\n    return Object.keys(overlays);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar light = {\n    grid: {\n        horizontal: {\n            color: '#EDEDED'\n        },\n        vertical: {\n            color: '#EDEDED'\n        }\n    },\n    candle: {\n        priceMark: {\n            high: {\n                color: '#76808F'\n            },\n            low: {\n                color: '#76808F'\n            }\n        },\n        tooltip: {\n            rect: {\n                color: '#FEFEFE',\n                borderColor: '#F2F3F5'\n            },\n            title: {\n                color: '#76808F'\n            },\n            legend: {\n                color: '#76808F'\n            }\n        }\n    },\n    indicator: {\n        tooltip: {\n            title: {\n                color: '#76808F'\n            },\n            legend: {\n                color: '#76808F'\n            }\n        }\n    },\n    xAxis: {\n        axisLine: {\n            color: '#DDDDDD'\n        },\n        tickText: {\n            color: '#76808F'\n        },\n        tickLine: {\n            color: '#DDDDDD'\n        }\n    },\n    yAxis: {\n        axisLine: {\n            color: '#DDDDDD'\n        },\n        tickText: {\n            color: '#76808F'\n        },\n        tickLine: {\n            color: '#DDDDDD'\n        }\n    },\n    separator: {\n        color: '#DDDDDD'\n    },\n    crosshair: {\n        horizontal: {\n            line: {\n                color: '#76808F'\n            },\n            text: {\n                borderColor: '#686D76',\n                backgroundColor: '#686D76'\n            }\n        },\n        vertical: {\n            line: {\n                color: '#76808F'\n            },\n            text: {\n                borderColor: '#686D76',\n                backgroundColor: '#686D76'\n            }\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar dark = {\n    grid: {\n        horizontal: {\n            color: '#292929'\n        },\n        vertical: {\n            color: '#292929'\n        }\n    },\n    candle: {\n        priceMark: {\n            high: {\n                color: '#929AA5'\n            },\n            low: {\n                color: '#929AA5'\n            }\n        },\n        tooltip: {\n            rect: {\n                color: 'rgba(10, 10, 10, .6)',\n                borderColor: 'rgba(10, 10, 10, .6)'\n            },\n            title: {\n                color: '#929AA5'\n            },\n            legend: {\n                color: '#929AA5'\n            }\n        }\n    },\n    indicator: {\n        tooltip: {\n            title: {\n                color: '#929AA5'\n            },\n            legend: {\n                color: '#929AA5'\n            }\n        }\n    },\n    xAxis: {\n        axisLine: {\n            color: '#333333'\n        },\n        tickText: {\n            color: '#929AA5'\n        },\n        tickLine: {\n            color: '#333333'\n        }\n    },\n    yAxis: {\n        axisLine: {\n            color: '#333333'\n        },\n        tickText: {\n            color: '#929AA5'\n        },\n        tickLine: {\n            color: '#333333'\n        }\n    },\n    separator: {\n        color: '#333333'\n    },\n    crosshair: {\n        horizontal: {\n            line: {\n                color: '#929AA5'\n            },\n            text: {\n                borderColor: '#373a40',\n                backgroundColor: '#373a40'\n            }\n        },\n        vertical: {\n            line: {\n                color: '#929AA5'\n            },\n            text: {\n                borderColor: '#373a40',\n                backgroundColor: '#373a40'\n            }\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar styles = {\n    light: light,\n    dark: dark\n};\nfunction registerStyles(name, ss) {\n    styles[name] = ss;\n}\nfunction getStyles(name) {\n    var _a;\n    return (_a = styles[name]) !== null && _a !== void 0 ? _a : null;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar PANE_MIN_HEIGHT = 30;\nvar PANE_DEFAULT_HEIGHT = 100;\nvar PaneIdConstants = {\n    CANDLE: 'candle_pane',\n    INDICATOR: 'indicator_pane_',\n    X_AXIS: 'x_axis_pane'\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar BarSpaceLimitConstants = {\n    MIN: 1,\n    MAX: 50\n};\nvar DEFAULT_BAR_SPACE = 10;\nvar DEFAULT_OFFSET_RIGHT_DISTANCE = 80;\nvar BAR_GAP_RATIO = 0.2;\nvar SCALE_MULTIPLIER = 10;\nvar StoreImp = /** @class */ (function () {\n    function StoreImp(chart, options) {\n        var _this = this;\n        /**\n         * Styles\n         */\n        this._styles = getDefaultStyles();\n        /**\n         * Custom api\n         */\n        this._formatter = {\n            formatDate: function (_a) {\n                var dateTimeFormat = _a.dateTimeFormat, timestamp = _a.timestamp, template = _a.template;\n                return formatTimestampByTemplate(dateTimeFormat, timestamp, template);\n            },\n            formatBigNumber: formatBigNumber,\n            formatExtendText: function (_) { return ''; }\n        };\n        /**\n         * Inner formatter\n         * @description Internal use only\n         */\n        this._innerFormatter = {\n            formatDate: function (timestamp, template, type) { return _this._formatter.formatDate({ dateTimeFormat: _this._dateTimeFormat, timestamp: timestamp, template: template, type: type }); },\n            formatBigNumber: function (value) { return _this._formatter.formatBigNumber(value); },\n            formatExtendText: function (params) { return _this._formatter.formatExtendText(params); }\n        };\n        /**\n         * Locale\n         */\n        this._locale = 'en-US';\n        /**\n         * Thousands separator\n         */\n        this._thousandsSeparator = {\n            sign: ',',\n            format: function (value) { return formatThousands(value, _this._thousandsSeparator.sign); }\n        };\n        /**\n         * Decimal fold\n         */\n        this._decimalFold = {\n            threshold: 3,\n            format: function (value) { return formatFoldDecimal(value, _this._decimalFold.threshold); }\n        };\n        /**\n         * Symbol\n         */\n        this._symbol = null;\n        /**\n         * Period\n         */\n        this._period = null;\n        /**\n         * Data source\n         */\n        this._dataList = [];\n        /**\n         * Load more data callback\n         */\n        this._dataLoader = null;\n        /**\n         * Is loading data flag\n         */\n        this._loading = false;\n        /**\n        * Whether there are forward and backward more flag\n         */\n        this._dataLoadMore = { forward: false, backward: false };\n        /**\n         * Scale enabled flag\n         */\n        this._zoomEnabled = true;\n        /**\n         * Zoom anchor point flag\n         */\n        this._zoomAnchor = {\n            main: 'cursor',\n            xAxis: 'cursor'\n        };\n        /**\n         * Scroll enabled flag\n         */\n        this._scrollEnabled = true;\n        /**\n         * Total space of drawing area\n         */\n        this._totalBarSpace = 0;\n        /**\n         * Space occupied by a single piece of data\n         */\n        this._barSpace = DEFAULT_BAR_SPACE;\n        /**\n         * Distance from the last data to the right of the drawing area\n         */\n        this._offsetRightDistance = DEFAULT_OFFSET_RIGHT_DISTANCE;\n        /**\n         * The number of bar to the right of the drawing area from the last data when scrolling starts\n         */\n        this._startLastBarRightSideDiffBarCount = 0;\n        /**\n         * Scroll limit role\n         */\n        this._scrollLimitRole = 'bar_count';\n        /**\n         * Scroll to the leftmost and rightmost visible bar\n         */\n        this._minVisibleBarCount = { left: 2, right: 2 };\n        /**\n         * Scroll to the leftmost and rightmost distance\n         */\n        this._maxOffsetDistance = { left: 50, right: 50 };\n        /**\n         * Start and end points of visible area data index\n         */\n        this._visibleRange = getDefaultVisibleRange();\n        /**\n         * Visible data array\n         */\n        this._visibleRangeDataList = [];\n        /**\n         * Visible highest lowest price data\n         */\n        this._visibleRangeHighLowPrice = [\n            { x: 0, price: Number.MIN_SAFE_INTEGER },\n            { x: 0, price: Number.MAX_SAFE_INTEGER }\n        ];\n        /**\n         * Crosshair info\n         */\n        this._crosshair = {};\n        /**\n         * Actions\n         */\n        this._actions = new Map();\n        /**\n         * Indicator\n         */\n        this._indicators = new Map();\n        /**\n         * Overlay\n         */\n        this._overlays = new Map();\n        /**\n         * Overlay information in painting\n         */\n        this._progressOverlayInfo = null;\n        this._lastPriceMarkExtendTextUpdateTimers = [];\n        /**\n         * Overlay information by the mouse pressed\n         */\n        this._pressedOverlayInfo = {\n            paneId: '',\n            overlay: null,\n            figureType: 'none',\n            figureIndex: -1,\n            figure: null\n        };\n        /**\n         * Overlay information by hover\n         */\n        this._hoverOverlayInfo = {\n            paneId: '',\n            overlay: null,\n            figureType: 'none',\n            figureIndex: -1,\n            figure: null\n        };\n        /**\n         * Overlay information by the mouse click\n         */\n        this._clickOverlayInfo = {\n            paneId: '',\n            overlay: null,\n            figureType: 'none',\n            figureIndex: -1,\n            figure: null\n        };\n        this._chart = chart;\n        this._calcOptimalBarSpace();\n        this._lastBarRightSideDiffBarCount = this._offsetRightDistance / this._barSpace;\n        var _a = options !== null && options !== void 0 ? options : {}, styles = _a.styles, locale = _a.locale, timezone = _a.timezone, formatter = _a.formatter, thousandsSeparator = _a.thousandsSeparator, decimalFold = _a.decimalFold, zoomAnchor = _a.zoomAnchor;\n        if (isValid(styles)) {\n            this.setStyles(styles);\n        }\n        if (isString(locale)) {\n            this.setLocale(locale);\n        }\n        this.setTimezone(timezone !== null && timezone !== void 0 ? timezone : '');\n        if (isValid(formatter)) {\n            this.setFormatter(formatter);\n        }\n        if (isValid(thousandsSeparator)) {\n            this.setThousandsSeparator(thousandsSeparator);\n        }\n        if (isValid(decimalFold)) {\n            this.setDecimalFold(decimalFold);\n        }\n        if (isValid(zoomAnchor)) {\n            this.setZoomAnchor(zoomAnchor);\n        }\n        this._taskScheduler = new TaskScheduler(function () {\n            _this._chart.layout({\n                measureWidth: true,\n                update: true,\n                buildYAxisTick: true\n            });\n        });\n    }\n    StoreImp.prototype.setStyles = function (value) {\n        var _this = this;\n        var _a, _b, _c, _d, _e, _f;\n        var styles = null;\n        if (isString(value)) {\n            styles = getStyles(value);\n        }\n        else {\n            styles = value;\n        }\n        merge(this._styles, styles);\n        // `candle.tooltip.custom` should override\n        if (isArray((_c = (_b = (_a = styles === null || styles === void 0 ? void 0 : styles.candle) === null || _a === void 0 ? void 0 : _a.tooltip) === null || _b === void 0 ? void 0 : _b.legend) === null || _c === void 0 ? void 0 : _c.template)) {\n            this._styles.candle.tooltip.legend.template = styles.candle.tooltip.legend.template;\n        }\n        if (isValid((_f = (_e = (_d = styles === null || styles === void 0 ? void 0 : styles.candle) === null || _d === void 0 ? void 0 : _d.priceMark) === null || _e === void 0 ? void 0 : _e.last) === null || _f === void 0 ? void 0 : _f.extendTexts)) {\n            this._clearLastPriceMarkExtendTextUpdateTimer();\n            var intervals_1 = [];\n            this._styles.candle.priceMark.last.extendTexts.forEach(function (item) {\n                var updateInterval = item.updateInterval;\n                if (item.show && updateInterval > 0 && !intervals_1.includes(updateInterval)) {\n                    intervals_1.push(updateInterval);\n                    var timer = setInterval(function () {\n                        _this._chart.updatePane(0 /* UpdateLevel.Main */, PaneIdConstants.CANDLE);\n                    }, updateInterval);\n                    _this._lastPriceMarkExtendTextUpdateTimers.push(timer);\n                }\n            });\n        }\n    };\n    StoreImp.prototype.getStyles = function () { return this._styles; };\n    StoreImp.prototype.setFormatter = function (formatter) {\n        merge(this._formatter, formatter);\n    };\n    StoreImp.prototype.getFormatter = function () { return this._formatter; };\n    StoreImp.prototype.getInnerFormatter = function () {\n        return this._innerFormatter;\n    };\n    StoreImp.prototype.setLocale = function (locale) { this._locale = locale; };\n    StoreImp.prototype.getLocale = function () { return this._locale; };\n    StoreImp.prototype.setTimezone = function (timezone) {\n        if (!isValid(this._dateTimeFormat) ||\n            (this.getTimezone() !== timezone)) {\n            var options = {\n                hour12: false,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit'\n            };\n            if (timezone.length > 0) {\n                options.timeZone = timezone;\n            }\n            var dateTimeFormat = null;\n            try {\n                dateTimeFormat = new Intl.DateTimeFormat('en', options);\n            }\n            catch (e) {\n                logWarn('', '', 'Timezone is error!!!');\n            }\n            if (dateTimeFormat !== null) {\n                this._dateTimeFormat = dateTimeFormat;\n            }\n        }\n    };\n    StoreImp.prototype.getTimezone = function () { return this._dateTimeFormat.resolvedOptions().timeZone; };\n    StoreImp.prototype.getDateTimeFormat = function () {\n        return this._dateTimeFormat;\n    };\n    StoreImp.prototype.setThousandsSeparator = function (thousandsSeparator) {\n        merge(this._thousandsSeparator, thousandsSeparator);\n    };\n    StoreImp.prototype.getThousandsSeparator = function () { return this._thousandsSeparator; };\n    StoreImp.prototype.setDecimalFold = function (decimalFold) { merge(this._decimalFold, decimalFold); };\n    StoreImp.prototype.getDecimalFold = function () { return this._decimalFold; };\n    StoreImp.prototype.setSymbol = function (symbol) {\n        var _this = this;\n        this.resetData(function () {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n            // @ts-expect-error\n            _this._symbol = __assign(__assign({ pricePrecision: SymbolDefaultPrecisionConstants.PRICE, volumePrecision: SymbolDefaultPrecisionConstants.VOLUME }, _this._symbol), symbol);\n            _this._synchronizeIndicatorSeriesPrecision();\n        });\n    };\n    StoreImp.prototype.getSymbol = function () {\n        return this._symbol;\n    };\n    StoreImp.prototype.setPeriod = function (period) {\n        var _this = this;\n        this.resetData(function () {\n            _this._period = period;\n        });\n    };\n    StoreImp.prototype.getPeriod = function () {\n        return this._period;\n    };\n    StoreImp.prototype.getDataList = function () {\n        return this._dataList;\n    };\n    StoreImp.prototype.getVisibleRangeDataList = function () {\n        return this._visibleRangeDataList;\n    };\n    StoreImp.prototype.getVisibleRangeHighLowPrice = function () {\n        return this._visibleRangeHighLowPrice;\n    };\n    StoreImp.prototype._addData = function (data, type, more) {\n        var _a, _b;\n        var success = false;\n        var adjustFlag = false;\n        var dataLengthChange = 0;\n        if (isArray(data)) {\n            var realMore = { backward: false, forward: false };\n            if (isBoolean(more)) {\n                realMore.backward = more;\n                realMore.forward = more;\n            }\n            else {\n                realMore.backward = (_a = more === null || more === void 0 ? void 0 : more.backward) !== null && _a !== void 0 ? _a : false;\n                realMore.forward = (_b = more === null || more === void 0 ? void 0 : more.forward) !== null && _b !== void 0 ? _b : false;\n            }\n            dataLengthChange = data.length;\n            switch (type) {\n                case 'init': {\n                    this._clearData();\n                    this._dataList = data;\n                    this._dataLoadMore.backward = realMore.backward;\n                    this._dataLoadMore.forward = realMore.forward;\n                    this.setOffsetRightDistance(this._offsetRightDistance);\n                    adjustFlag = true;\n                    break;\n                }\n                case 'backward': {\n                    this._dataList = this._dataList.concat(data);\n                    this._dataLoadMore.backward = realMore.backward;\n                    this._lastBarRightSideDiffBarCount -= dataLengthChange;\n                    adjustFlag = dataLengthChange > 0;\n                    break;\n                }\n                case 'forward': {\n                    this._dataList = data.concat(this._dataList);\n                    this._dataLoadMore.forward = realMore.forward;\n                    adjustFlag = dataLengthChange > 0;\n                    break;\n                }\n            }\n            success = true;\n        }\n        else {\n            var dataCount = this._dataList.length;\n            // Determine where individual data should be added\n            var timestamp = data.timestamp;\n            var lastDataTimestamp = formatValue(this._dataList[dataCount - 1], 'timestamp', 0);\n            if (timestamp > lastDataTimestamp) {\n                this._dataList.push(data);\n                var lastBarRightSideDiffBarCount = this.getLastBarRightSideDiffBarCount();\n                if (lastBarRightSideDiffBarCount < 0) {\n                    this.setLastBarRightSideDiffBarCount(--lastBarRightSideDiffBarCount);\n                }\n                dataLengthChange = 1;\n                success = true;\n                adjustFlag = true;\n            }\n            else if (timestamp === lastDataTimestamp) {\n                this._dataList[dataCount - 1] = data;\n                success = true;\n                adjustFlag = true;\n            }\n        }\n        if (success && adjustFlag) {\n            this._adjustVisibleRange();\n            this.setCrosshair(this._crosshair, { notInvalidate: true });\n            var filterIndicators = this.getIndicatorsByFilter({});\n            if (filterIndicators.length > 0) {\n                this._calcIndicator(filterIndicators);\n            }\n            else {\n                this._chart.layout({\n                    measureWidth: true,\n                    update: true,\n                    buildYAxisTick: true,\n                    cacheYAxisWidth: type !== 'init'\n                });\n            }\n        }\n    };\n    StoreImp.prototype.setDataLoader = function (dataLoader) {\n        var _this = this;\n        this.resetData(function () {\n            _this._dataLoader = dataLoader;\n        });\n    };\n    StoreImp.prototype._calcOptimalBarSpace = function () {\n        var specialBarSpace = 4;\n        var ratio = 1 - BAR_GAP_RATIO * Math.atan(Math.max(specialBarSpace, this._barSpace) - specialBarSpace) / (Math.PI * 0.5);\n        var gapBarSpace = Math.min(Math.floor(this._barSpace * ratio), Math.floor(this._barSpace));\n        if (gapBarSpace % 2 === 0 && gapBarSpace + 2 >= this._barSpace) {\n            --gapBarSpace;\n        }\n        this._gapBarSpace = Math.max(1, gapBarSpace);\n    };\n    StoreImp.prototype._adjustVisibleRange = function () {\n        var _a, _b;\n        var totalBarCount = this._dataList.length;\n        var visibleBarCount = this._totalBarSpace / this._barSpace;\n        var leftMinVisibleBarCount = 0;\n        var rightMinVisibleBarCount = 0;\n        if (this._scrollLimitRole === 'distance') {\n            leftMinVisibleBarCount = (this._totalBarSpace - this._maxOffsetDistance.right) / this._barSpace;\n            rightMinVisibleBarCount = (this._totalBarSpace - this._maxOffsetDistance.left) / this._barSpace;\n        }\n        else {\n            leftMinVisibleBarCount = this._minVisibleBarCount.left;\n            rightMinVisibleBarCount = this._minVisibleBarCount.right;\n        }\n        leftMinVisibleBarCount = Math.max(0, leftMinVisibleBarCount);\n        rightMinVisibleBarCount = Math.max(0, rightMinVisibleBarCount);\n        var maxRightOffsetBarCount = visibleBarCount - Math.min(leftMinVisibleBarCount, totalBarCount);\n        if (this._lastBarRightSideDiffBarCount > maxRightOffsetBarCount) {\n            this._lastBarRightSideDiffBarCount = maxRightOffsetBarCount;\n        }\n        var minRightOffsetBarCount = -totalBarCount + Math.min(rightMinVisibleBarCount, totalBarCount);\n        if (this._lastBarRightSideDiffBarCount < minRightOffsetBarCount) {\n            this._lastBarRightSideDiffBarCount = minRightOffsetBarCount;\n        }\n        var to = Math.round(this._lastBarRightSideDiffBarCount + totalBarCount + 0.5);\n        var realTo = to;\n        if (to > totalBarCount) {\n            to = totalBarCount;\n        }\n        var from = Math.round(to - visibleBarCount) - 1;\n        if (from < 0) {\n            from = 0;\n        }\n        var realFrom = this._lastBarRightSideDiffBarCount > 0 ? Math.round(totalBarCount + this._lastBarRightSideDiffBarCount - visibleBarCount) - 1 : from;\n        this._visibleRange = { from: from, to: to, realFrom: realFrom, realTo: realTo };\n        this.executeAction('onVisibleRangeChange', this._visibleRange);\n        this._visibleRangeDataList = [];\n        this._visibleRangeHighLowPrice = [\n            { x: 0, price: Number.MIN_SAFE_INTEGER },\n            { x: 0, price: Number.MAX_SAFE_INTEGER }\n        ];\n        for (var i = realFrom; i < realTo; i++) {\n            var kLineData = this._dataList[i];\n            var x = this.dataIndexToCoordinate(i);\n            this._visibleRangeDataList.push({\n                dataIndex: i,\n                x: x,\n                data: {\n                    prev: (_a = this._dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData,\n                    current: kLineData,\n                    next: (_b = this._dataList[i + 1]) !== null && _b !== void 0 ? _b : kLineData\n                }\n            });\n            if (isValid(kLineData)) {\n                if (this._visibleRangeHighLowPrice[0].price < kLineData.high) {\n                    this._visibleRangeHighLowPrice[0].price = kLineData.high;\n                    this._visibleRangeHighLowPrice[0].x = x;\n                }\n                if (this._visibleRangeHighLowPrice[1].price > kLineData.low) {\n                    this._visibleRangeHighLowPrice[1].price = kLineData.low;\n                    this._visibleRangeHighLowPrice[1].x = x;\n                }\n            }\n        }\n        // More processing and loading, more loading if there are callback methods and no data is being loaded\n        if (from === 0) {\n            if (this._dataLoadMore.forward) {\n                this._processDataLoad('forward');\n            }\n        }\n        else if (to === totalBarCount) {\n            if (this._dataLoadMore.backward) {\n                this._processDataLoad('backward');\n            }\n        }\n    };\n    StoreImp.prototype._processDataLoad = function (type) {\n        var _this = this;\n        var _a, _b, _c, _d;\n        if (!this._loading && isValid(this._dataLoader) && isValid(this._symbol) && isValid(this._period)) {\n            this._loading = true;\n            var params = {\n                type: type,\n                symbol: this._symbol,\n                period: this._period,\n                timestamp: null,\n                callback: function (data, more) {\n                    var _a, _b;\n                    _this._loading = false;\n                    _this._addData(data, type, more);\n                    if (type === 'init') {\n                        (_b = (_a = _this._dataLoader) === null || _a === void 0 ? void 0 : _a.subscribeBar) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                            symbol: _this._symbol,\n                            period: _this._period,\n                            callback: function (data) {\n                                _this._addData(data, 'update');\n                            }\n                        });\n                    }\n                }\n            };\n            switch (type) {\n                case 'backward': {\n                    params.timestamp = (_b = (_a = this._dataList[this._dataList.length - 1]) === null || _a === void 0 ? void 0 : _a.timestamp) !== null && _b !== void 0 ? _b : null;\n                    break;\n                }\n                case 'forward': {\n                    params.timestamp = (_d = (_c = this._dataList[0]) === null || _c === void 0 ? void 0 : _c.timestamp) !== null && _d !== void 0 ? _d : null;\n                    break;\n                }\n            }\n            void this._dataLoader.getBars(params);\n        }\n    };\n    StoreImp.prototype._processDataUnsubscribe = function () {\n        var _a, _b;\n        if (isValid(this._dataLoader) && isValid(this._symbol) && isValid(this._period)) {\n            (_b = (_a = this._dataLoader).unsubscribeBar) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                symbol: this._symbol,\n                period: this._period\n            });\n        }\n    };\n    StoreImp.prototype.resetData = function (fn) {\n        this._processDataUnsubscribe();\n        fn === null || fn === void 0 ? void 0 : fn();\n        this._loading = false;\n        this._processDataLoad('init');\n    };\n    StoreImp.prototype.getBarSpace = function () {\n        return {\n            bar: this._barSpace,\n            halfBar: this._barSpace / 2,\n            gapBar: this._gapBarSpace,\n            halfGapBar: Math.floor(this._gapBarSpace / 2)\n        };\n    };\n    StoreImp.prototype.setBarSpace = function (barSpace, adjustBeforeFunc) {\n        if (barSpace < BarSpaceLimitConstants.MIN || barSpace > BarSpaceLimitConstants.MAX || this._barSpace === barSpace) {\n            return;\n        }\n        this._barSpace = barSpace;\n        this._calcOptimalBarSpace();\n        adjustBeforeFunc === null || adjustBeforeFunc === void 0 ? void 0 : adjustBeforeFunc();\n        this._adjustVisibleRange();\n        this.setCrosshair(this._crosshair, { notInvalidate: true });\n        this._chart.layout({\n            measureWidth: true,\n            update: true,\n            buildYAxisTick: true,\n            cacheYAxisWidth: true\n        });\n    };\n    StoreImp.prototype.setTotalBarSpace = function (totalSpace) {\n        if (this._totalBarSpace !== totalSpace) {\n            this._totalBarSpace = totalSpace;\n            this._adjustVisibleRange();\n            this.setCrosshair(this._crosshair, { notInvalidate: true });\n        }\n    };\n    StoreImp.prototype.setOffsetRightDistance = function (distance, isUpdate) {\n        this._offsetRightDistance = this._scrollLimitRole === 'distance' ? Math.min(this._maxOffsetDistance.right, distance) : distance;\n        this._lastBarRightSideDiffBarCount = this._offsetRightDistance / this._barSpace;\n        if (isUpdate !== null && isUpdate !== void 0 ? isUpdate : false) {\n            this._adjustVisibleRange();\n            this.setCrosshair(this._crosshair, { notInvalidate: true });\n            this._chart.layout({\n                measureWidth: true,\n                update: true,\n                buildYAxisTick: true,\n                cacheYAxisWidth: true\n            });\n        }\n        return this;\n    };\n    StoreImp.prototype.getInitialOffsetRightDistance = function () {\n        return this._offsetRightDistance;\n    };\n    StoreImp.prototype.getOffsetRightDistance = function () {\n        return Math.max(0, this._lastBarRightSideDiffBarCount * this._barSpace);\n    };\n    StoreImp.prototype.getLastBarRightSideDiffBarCount = function () {\n        return this._lastBarRightSideDiffBarCount;\n    };\n    StoreImp.prototype.setLastBarRightSideDiffBarCount = function (barCount) {\n        this._lastBarRightSideDiffBarCount = barCount;\n    };\n    StoreImp.prototype.setMaxOffsetLeftDistance = function (distance) {\n        this._scrollLimitRole = 'distance';\n        this._maxOffsetDistance.left = distance;\n    };\n    StoreImp.prototype.setMaxOffsetRightDistance = function (distance) {\n        this._scrollLimitRole = 'distance';\n        this._maxOffsetDistance.right = distance;\n    };\n    StoreImp.prototype.setLeftMinVisibleBarCount = function (barCount) {\n        this._scrollLimitRole = 'bar_count';\n        this._minVisibleBarCount.left = barCount;\n    };\n    StoreImp.prototype.setRightMinVisibleBarCount = function (barCount) {\n        this._scrollLimitRole = 'bar_count';\n        this._minVisibleBarCount.right = barCount;\n    };\n    StoreImp.prototype.getVisibleRange = function () {\n        return this._visibleRange;\n    };\n    StoreImp.prototype.startScroll = function () {\n        this._startLastBarRightSideDiffBarCount = this._lastBarRightSideDiffBarCount;\n    };\n    StoreImp.prototype.scroll = function (distance) {\n        if (!this._scrollEnabled) {\n            return;\n        }\n        var distanceBarCount = distance / this._barSpace;\n        var prevLastBarRightSideDistance = this._lastBarRightSideDiffBarCount * this._barSpace;\n        this._lastBarRightSideDiffBarCount = this._startLastBarRightSideDiffBarCount - distanceBarCount;\n        this._adjustVisibleRange();\n        this.setCrosshair(this._crosshair, { notInvalidate: true });\n        this._chart.layout({\n            measureWidth: true,\n            update: true,\n            buildYAxisTick: true,\n            cacheYAxisWidth: true\n        });\n        var realDistance = Math.round(prevLastBarRightSideDistance - this._lastBarRightSideDiffBarCount * this._barSpace);\n        if (realDistance !== 0) {\n            this.executeAction('onScroll', { distance: realDistance });\n        }\n    };\n    StoreImp.prototype.getDataByDataIndex = function (dataIndex) {\n        var _a;\n        return (_a = this._dataList[dataIndex]) !== null && _a !== void 0 ? _a : null;\n    };\n    StoreImp.prototype.coordinateToFloatIndex = function (x) {\n        var dataCount = this._dataList.length;\n        var deltaFromRight = (this._totalBarSpace - x) / this._barSpace;\n        var index = dataCount + this._lastBarRightSideDiffBarCount - deltaFromRight;\n        return Math.round(index * 1000000) / 1000000;\n    };\n    StoreImp.prototype.dataIndexToTimestamp = function (dataIndex) {\n        var length = this._dataList.length;\n        if (length === 0) {\n            return null;\n        }\n        var data = this.getDataByDataIndex(dataIndex);\n        if (isValid(data)) {\n            return data.timestamp;\n        }\n        if (isValid(this._period)) {\n            var lastIndex = length - 1;\n            var referenceTimestamp = null;\n            var diff = 0;\n            if (dataIndex > lastIndex) {\n                referenceTimestamp = this._dataList[lastIndex].timestamp;\n                diff = dataIndex - lastIndex;\n            }\n            else if (dataIndex < 0) {\n                referenceTimestamp = this._dataList[0].timestamp;\n                diff = dataIndex;\n            }\n            if (isNumber(referenceTimestamp)) {\n                var _a = this._period, type = _a.type, span = _a.span;\n                switch (type) {\n                    case 'second': {\n                        return referenceTimestamp + span * 1000 * diff;\n                    }\n                    case 'minute': {\n                        return referenceTimestamp + span * 60 * 1000 * diff;\n                    }\n                    case 'hour': {\n                        return referenceTimestamp + span * 60 * 60 * 1000 * diff;\n                    }\n                    case 'day': {\n                        return referenceTimestamp + span * 24 * 60 * 60 * 1000 * diff;\n                    }\n                    case 'week': {\n                        return referenceTimestamp + span * 7 * 24 * 60 * 60 * 1000 * diff;\n                    }\n                    case 'month': {\n                        var date = new Date(referenceTimestamp);\n                        var referenceDay = date.getDate();\n                        date.setDate(1);\n                        date.setMonth(date.getMonth() + span * diff);\n                        var lastDayOfTargetMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                        date.setDate(Math.min(referenceDay, lastDayOfTargetMonth));\n                        return date.getTime();\n                    }\n                    case 'year': {\n                        var date = new Date(referenceTimestamp);\n                        date.setFullYear(date.getFullYear() + span * diff);\n                        return date.getTime();\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    StoreImp.prototype.timestampToDataIndex = function (timestamp) {\n        var length = this._dataList.length;\n        if (length === 0) {\n            return 0;\n        }\n        if (isValid(this._period)) {\n            var referenceTimestamp = null;\n            var baseDataIndex = 0;\n            var lastIndex = length - 1;\n            var lastTimestamp = this._dataList[lastIndex].timestamp;\n            if (timestamp > lastTimestamp) {\n                referenceTimestamp = lastTimestamp;\n                baseDataIndex = lastIndex;\n            }\n            var firstTimestamp = this._dataList[0].timestamp;\n            if (timestamp < firstTimestamp) {\n                referenceTimestamp = firstTimestamp;\n                baseDataIndex = 0;\n            }\n            if (isNumber(referenceTimestamp)) {\n                var _a = this._period, type = _a.type, span = _a.span;\n                switch (type) {\n                    case 'second': {\n                        return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 1000));\n                    }\n                    case 'minute': {\n                        return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 60 * 1000));\n                    }\n                    case 'hour': {\n                        return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 60 * 60 * 1000));\n                    }\n                    case 'day': {\n                        return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 24 * 60 * 60 * 1000));\n                    }\n                    case 'week': {\n                        return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 7 * 24 * 60 * 60 * 1000));\n                    }\n                    case 'month': {\n                        var referenceDate = new Date(referenceTimestamp);\n                        var currentDate = new Date(timestamp);\n                        var referenceYear = referenceDate.getFullYear();\n                        var currentYear = currentDate.getFullYear();\n                        var referenceMonth = referenceDate.getMonth();\n                        var currentMonth = currentDate.getMonth();\n                        return baseDataIndex + Math.floor(((currentYear - referenceYear) * 12 + (currentMonth - referenceMonth)) / span);\n                    }\n                    case 'year': {\n                        var referenceYear = new Date(referenceTimestamp).getFullYear();\n                        var currentYear = new Date(timestamp).getFullYear();\n                        return baseDataIndex + Math.floor((currentYear - referenceYear) / span);\n                    }\n                }\n            }\n        }\n        return binarySearchNearest(this._dataList, 'timestamp', timestamp);\n    };\n    StoreImp.prototype.dataIndexToCoordinate = function (dataIndex) {\n        var dataCount = this._dataList.length;\n        var deltaFromRight = dataCount + this._lastBarRightSideDiffBarCount - dataIndex;\n        return Math.floor(this._totalBarSpace - (deltaFromRight - 0.5) * this._barSpace + 0.5);\n    };\n    StoreImp.prototype.coordinateToDataIndex = function (x) {\n        return Math.ceil(this.coordinateToFloatIndex(x)) - 1;\n    };\n    StoreImp.prototype.zoom = function (scale, coordinate, position) {\n        var _this = this;\n        var _a;\n        if (!this._zoomEnabled) {\n            return;\n        }\n        var zoomCoordinate = coordinate !== null && coordinate !== void 0 ? coordinate : { x: (_a = this._crosshair.x) !== null && _a !== void 0 ? _a : this._totalBarSpace / 2 };\n        if (position === 'xAxis') {\n            if (this._zoomAnchor.xAxis === 'last_bar') {\n                zoomCoordinate.x = this.dataIndexToCoordinate(this._dataList.length - 1);\n            }\n        }\n        else {\n            if (this._zoomAnchor.main === 'last_bar') {\n                zoomCoordinate.x = this.dataIndexToCoordinate(this._dataList.length - 1);\n            }\n        }\n        var x = zoomCoordinate.x;\n        var floatIndex = this.coordinateToFloatIndex(x);\n        var prevBarSpace = this._barSpace;\n        var barSpace = this._barSpace + scale * (this._barSpace / SCALE_MULTIPLIER);\n        this.setBarSpace(barSpace, function () {\n            _this._lastBarRightSideDiffBarCount += (floatIndex - _this.coordinateToFloatIndex(x));\n        });\n        var realScale = this._barSpace / prevBarSpace;\n        if (realScale !== 1) {\n            this.executeAction('onZoom', { scale: realScale });\n        }\n    };\n    StoreImp.prototype.setZoomEnabled = function (enabled) {\n        this._zoomEnabled = enabled;\n    };\n    StoreImp.prototype.isZoomEnabled = function () {\n        return this._zoomEnabled;\n    };\n    StoreImp.prototype.setZoomAnchor = function (anchor) {\n        if (isString(anchor)) {\n            this._zoomAnchor.main = anchor;\n            this._zoomAnchor.xAxis = anchor;\n        }\n        else {\n            if (isString(anchor.main)) {\n                this._zoomAnchor.main = anchor.main;\n            }\n            if (isString(anchor.xAxis)) {\n                this._zoomAnchor.xAxis = anchor.xAxis;\n            }\n        }\n    };\n    StoreImp.prototype.getZoomAnchor = function () {\n        return __assign({}, this._zoomAnchor);\n    };\n    StoreImp.prototype.setScrollEnabled = function (enabled) {\n        this._scrollEnabled = enabled;\n    };\n    StoreImp.prototype.isScrollEnabled = function () {\n        return this._scrollEnabled;\n    };\n    StoreImp.prototype.setCrosshair = function (crosshair, options) {\n        var _a;\n        var _b = options !== null && options !== void 0 ? options : {}, notInvalidate = _b.notInvalidate, notExecuteAction = _b.notExecuteAction, forceInvalidate = _b.forceInvalidate;\n        var cr = crosshair !== null && crosshair !== void 0 ? crosshair : {};\n        var realDataIndex = 0;\n        var dataIndex = 0;\n        if (isNumber(cr.x)) {\n            realDataIndex = this.coordinateToDataIndex(cr.x);\n            if (realDataIndex < 0) {\n                dataIndex = 0;\n            }\n            else if (realDataIndex > this._dataList.length - 1) {\n                dataIndex = this._dataList.length - 1;\n            }\n            else {\n                dataIndex = realDataIndex;\n            }\n        }\n        else {\n            realDataIndex = this._dataList.length - 1;\n            dataIndex = realDataIndex;\n        }\n        var kLineData = this._dataList[dataIndex];\n        var realX = this.dataIndexToCoordinate(realDataIndex);\n        var prevCrosshair = { x: this._crosshair.x, y: this._crosshair.y, paneId: this._crosshair.paneId };\n        this._crosshair = __assign(__assign({}, cr), { realX: realX, kLineData: kLineData, realDataIndex: realDataIndex, dataIndex: dataIndex, timestamp: (_a = this.dataIndexToTimestamp(realDataIndex)) !== null && _a !== void 0 ? _a : undefined });\n        if (prevCrosshair.x !== cr.x ||\n            prevCrosshair.y !== cr.y ||\n            prevCrosshair.paneId !== cr.paneId ||\n            (forceInvalidate !== null && forceInvalidate !== void 0 ? forceInvalidate : false)) {\n            if (isValid(kLineData) && !(notExecuteAction !== null && notExecuteAction !== void 0 ? notExecuteAction : false) && this.hasAction('onCrosshairChange') && isString(this._crosshair.paneId)) {\n                this.executeAction('onCrosshairChange', crosshair);\n            }\n            if (!(notInvalidate !== null && notInvalidate !== void 0 ? notInvalidate : false)) {\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n            }\n        }\n    };\n    StoreImp.prototype.getCrosshair = function () {\n        return this._crosshair;\n    };\n    StoreImp.prototype.executeAction = function (type, data) {\n        var _a;\n        (_a = this._actions.get(type)) === null || _a === void 0 ? void 0 : _a.execute(data);\n    };\n    StoreImp.prototype.subscribeAction = function (type, callback) {\n        var _a;\n        if (!this._actions.has(type)) {\n            this._actions.set(type, new Action());\n        }\n        (_a = this._actions.get(type)) === null || _a === void 0 ? void 0 : _a.subscribe(callback);\n    };\n    StoreImp.prototype.unsubscribeAction = function (type, callback) {\n        var action = this._actions.get(type);\n        if (isValid(action)) {\n            action.unsubscribe(callback);\n            if (action.isEmpty()) {\n                this._actions.delete(type);\n            }\n        }\n    };\n    StoreImp.prototype.hasAction = function (type) {\n        var action = this._actions.get(type);\n        return isValid(action) && !action.isEmpty();\n    };\n    StoreImp.prototype._sortIndicators = function (paneId) {\n        var _a;\n        if (isString(paneId)) {\n            (_a = this._indicators.get(paneId)) === null || _a === void 0 ? void 0 : _a.sort(function (i1, i2) { return i1.zLevel - i2.zLevel; });\n        }\n        else {\n            this._indicators.forEach(function (paneIndicators) {\n                paneIndicators.sort(function (i1, i2) { return i1.zLevel - i2.zLevel; });\n            });\n        }\n    };\n    StoreImp.prototype._calcIndicator = function (data) {\n        var _this = this;\n        var indicators = [];\n        indicators = indicators.concat(data);\n        if (indicators.length > 0) {\n            var tasks_1 = {};\n            indicators.forEach(function (indicator) {\n                tasks_1[indicator.id] = indicator.calcImp(_this._dataList);\n            });\n            this._taskScheduler.add(tasks_1);\n        }\n    };\n    StoreImp.prototype.addIndicator = function (create, paneId, isStack) {\n        var name = create.name;\n        var filterIndicators = this.getIndicatorsByFilter(create);\n        if (filterIndicators.length > 0) {\n            return false;\n        }\n        var paneIndicators = this.getIndicatorsByPaneId(paneId);\n        var IndicatorClazz = getIndicatorClass(name);\n        var indicator = new IndicatorClazz();\n        this._synchronizeIndicatorSeriesPrecision(indicator);\n        indicator.paneId = paneId;\n        indicator.override(create);\n        if (!isStack) {\n            this.removeIndicator({ paneId: paneId });\n            paneIndicators = [];\n        }\n        paneIndicators.push(indicator);\n        this._indicators.set(paneId, paneIndicators);\n        this._sortIndicators(paneId);\n        this._calcIndicator(indicator);\n        return true;\n    };\n    StoreImp.prototype.getIndicatorsByPaneId = function (paneId) {\n        var _a;\n        return (_a = this._indicators.get(paneId)) !== null && _a !== void 0 ? _a : [];\n    };\n    StoreImp.prototype.getIndicatorsByFilter = function (filter) {\n        var paneId = filter.paneId, name = filter.name, id = filter.id;\n        var match = function (indicator) {\n            if (isValid(id)) {\n                return indicator.id === id;\n            }\n            return !isValid(name) || indicator.name === name;\n        };\n        var indicators = [];\n        if (isValid(paneId)) {\n            indicators = indicators.concat(this.getIndicatorsByPaneId(paneId).filter(match));\n        }\n        else {\n            this._indicators.forEach(function (paneIndicators) {\n                indicators = indicators.concat(paneIndicators.filter(match));\n            });\n        }\n        return indicators;\n    };\n    StoreImp.prototype.removeIndicator = function (filter) {\n        var _this = this;\n        var removed = false;\n        var filterIndicators = this.getIndicatorsByFilter(filter);\n        filterIndicators.forEach(function (indicator) {\n            var paneIndicators = _this.getIndicatorsByPaneId(indicator.paneId);\n            var index = paneIndicators.findIndex(function (ins) { return ins.id === indicator.id; });\n            if (index > -1) {\n                paneIndicators.splice(index, 1);\n                removed = true;\n            }\n            if (paneIndicators.length === 0) {\n                _this._indicators.delete(indicator.paneId);\n            }\n        });\n        return removed;\n    };\n    StoreImp.prototype.hasIndicators = function (paneId) {\n        return this._indicators.has(paneId);\n    };\n    StoreImp.prototype._synchronizeIndicatorSeriesPrecision = function (indicator) {\n        if (isValid(this._symbol)) {\n            var _a = this._symbol, _b = _a.pricePrecision, pricePrecision_1 = _b === void 0 ? SymbolDefaultPrecisionConstants.PRICE : _b, _c = _a.volumePrecision, volumePrecision_1 = _c === void 0 ? SymbolDefaultPrecisionConstants.VOLUME : _c;\n            var synchronize_1 = function (indicator) {\n                switch (indicator.series) {\n                    case 'price': {\n                        indicator.setSeriesPrecision(pricePrecision_1);\n                        break;\n                    }\n                    case 'volume': {\n                        indicator.setSeriesPrecision(volumePrecision_1);\n                        break;\n                    }\n                }\n            };\n            if (isValid(indicator)) {\n                synchronize_1(indicator);\n            }\n            else {\n                this._indicators.forEach(function (paneIndicators) {\n                    paneIndicators.forEach(function (indicator) {\n                        synchronize_1(indicator);\n                    });\n                });\n            }\n        }\n    };\n    StoreImp.prototype.overrideIndicator = function (override) {\n        var _this = this;\n        var updateFlag = false;\n        var sortFlag = false;\n        var filterIndicators = this.getIndicatorsByFilter(override);\n        filterIndicators.forEach(function (indicator) {\n            indicator.override(override);\n            var _a = indicator.shouldUpdateImp(), calc = _a.calc, draw = _a.draw, sort = _a.sort;\n            if (sort) {\n                sortFlag = true;\n            }\n            if (calc) {\n                _this._calcIndicator(indicator);\n            }\n            else {\n                if (draw) {\n                    updateFlag = true;\n                }\n            }\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n        if (sortFlag) {\n            this._sortIndicators();\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n        if (updateFlag) {\n            this._chart.layout({ update: true });\n            return true;\n        }\n        return false;\n    };\n    StoreImp.prototype.getOverlaysByFilter = function (filter) {\n        var _a;\n        var id = filter.id, groupId = filter.groupId, paneId = filter.paneId, name = filter.name;\n        var match = function (overlay) {\n            if (isValid(id)) {\n                return overlay.id === id;\n            }\n            else {\n                if (isValid(groupId)) {\n                    return overlay.groupId === groupId && (!isValid(name) || overlay.name === name);\n                }\n            }\n            return !isValid(name) || overlay.name === name;\n        };\n        var overlays = [];\n        if (isValid(paneId)) {\n            overlays = overlays.concat(this.getOverlaysByPaneId(paneId).filter(match));\n        }\n        else {\n            this._overlays.forEach(function (paneOverlays) {\n                overlays = overlays.concat(paneOverlays.filter(match));\n            });\n        }\n        var progressOverlay = (_a = this._progressOverlayInfo) === null || _a === void 0 ? void 0 : _a.overlay;\n        if (isValid(progressOverlay) && match(progressOverlay)) {\n            overlays.push(progressOverlay);\n        }\n        return overlays;\n    };\n    StoreImp.prototype.getOverlaysByPaneId = function (paneId) {\n        var _a;\n        if (!isString(paneId)) {\n            var overlays_1 = [];\n            this._overlays.forEach(function (paneOverlays) {\n                overlays_1 = overlays_1.concat(paneOverlays);\n            });\n            return overlays_1;\n        }\n        return (_a = this._overlays.get(paneId)) !== null && _a !== void 0 ? _a : [];\n    };\n    StoreImp.prototype._sortOverlays = function (paneId) {\n        var _a;\n        if (isString(paneId)) {\n            (_a = this._overlays.get(paneId)) === null || _a === void 0 ? void 0 : _a.sort(function (o1, o2) { return o1.zLevel - o2.zLevel; });\n        }\n        else {\n            this._overlays.forEach(function (paneOverlays) {\n                paneOverlays.sort(function (o1, o2) { return o1.zLevel - o2.zLevel; });\n            });\n        }\n    };\n    StoreImp.prototype.addOverlays = function (os, appointPaneFlags) {\n        var _this = this;\n        var updatePaneIds = [];\n        var ids = os.map(function (create, index) {\n            var e_1, _a;\n            var _b, _c, _d, _e, _f, _g;\n            if (isValid(create.id)) {\n                var findOverlay = null;\n                try {\n                    for (var _h = __values(_this._overlays), _j = _h.next(); !_j.done; _j = _h.next()) {\n                        var item = _j.value;\n                        var overlays = item[1];\n                        var overlay = overlays.find(function (o) { return o.id === create.id; });\n                        if (isValid(overlay)) {\n                            findOverlay = overlay;\n                            break;\n                        }\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_j && !_j.done && (_a = _h.return)) _a.call(_h);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                if (isValid(findOverlay)) {\n                    return create.id;\n                }\n            }\n            var OverlayClazz = getOverlayInnerClass(create.name);\n            if (isValid(OverlayClazz)) {\n                var id = (_b = create.id) !== null && _b !== void 0 ? _b : createId(OVERLAY_ID_PREFIX);\n                var overlay = new OverlayClazz();\n                var paneId = (_c = create.paneId) !== null && _c !== void 0 ? _c : PaneIdConstants.CANDLE;\n                create.id = id;\n                (_d = create.groupId) !== null && _d !== void 0 ? _d : (create.groupId = id);\n                var zLevel = _this.getOverlaysByPaneId(paneId).length;\n                (_e = create.zLevel) !== null && _e !== void 0 ? _e : (create.zLevel = zLevel);\n                overlay.override(create);\n                if (!updatePaneIds.includes(paneId)) {\n                    updatePaneIds.push(paneId);\n                }\n                if (overlay.isDrawing()) {\n                    _this._progressOverlayInfo = { paneId: paneId, overlay: overlay, appointPaneFlag: appointPaneFlags[index] };\n                }\n                else {\n                    if (!_this._overlays.has(paneId)) {\n                        _this._overlays.set(paneId, []);\n                    }\n                    (_f = _this._overlays.get(paneId)) === null || _f === void 0 ? void 0 : _f.push(overlay);\n                }\n                if (overlay.isStart()) {\n                    (_g = overlay.onDrawStart) === null || _g === void 0 ? void 0 : _g.call(overlay, ({ overlay: overlay, chart: _this._chart }));\n                }\n                return id;\n            }\n            return null;\n        });\n        if (updatePaneIds.length > 0) {\n            this._sortOverlays();\n            updatePaneIds.forEach(function (paneId) {\n                _this._chart.updatePane(1 /* UpdateLevel.Overlay */, paneId);\n            });\n            this._chart.updatePane(1 /* UpdateLevel.Overlay */, PaneIdConstants.X_AXIS);\n        }\n        return ids;\n    };\n    StoreImp.prototype.getProgressOverlayInfo = function () {\n        return this._progressOverlayInfo;\n    };\n    StoreImp.prototype.progressOverlayComplete = function () {\n        var _a;\n        if (this._progressOverlayInfo !== null) {\n            var _b = this._progressOverlayInfo, overlay = _b.overlay, paneId = _b.paneId;\n            if (!overlay.isDrawing()) {\n                if (!this._overlays.has(paneId)) {\n                    this._overlays.set(paneId, []);\n                }\n                (_a = this._overlays.get(paneId)) === null || _a === void 0 ? void 0 : _a.push(overlay);\n                this._sortOverlays(paneId);\n                this._progressOverlayInfo = null;\n            }\n        }\n    };\n    StoreImp.prototype.updateProgressOverlayInfo = function (paneId, appointPaneFlag) {\n        if (this._progressOverlayInfo !== null) {\n            if (isBoolean(appointPaneFlag) && appointPaneFlag) {\n                this._progressOverlayInfo.appointPaneFlag = appointPaneFlag;\n            }\n            this._progressOverlayInfo.paneId = paneId;\n            this._progressOverlayInfo.overlay.override({ paneId: paneId });\n        }\n    };\n    StoreImp.prototype.overrideOverlay = function (override) {\n        var _this = this;\n        var sortFlag = false;\n        var updatePaneIds = [];\n        var filterOverlays = this.getOverlaysByFilter(override);\n        filterOverlays.forEach(function (overlay) {\n            overlay.override(override);\n            var _a = overlay.shouldUpdate(), sort = _a.sort, draw = _a.draw;\n            if (sort) {\n                sortFlag = true;\n            }\n            if (sort || draw) {\n                if (!updatePaneIds.includes(overlay.paneId)) {\n                    updatePaneIds.push(overlay.paneId);\n                }\n            }\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n        if (sortFlag) {\n            this._sortOverlays();\n        }\n        if (updatePaneIds.length > 0) {\n            updatePaneIds.forEach(function (paneId) {\n                _this._chart.updatePane(1 /* UpdateLevel.Overlay */, paneId);\n            });\n            this._chart.updatePane(1 /* UpdateLevel.Overlay */, PaneIdConstants.X_AXIS);\n            return true;\n        }\n        return false;\n    };\n    StoreImp.prototype.removeOverlay = function (filter) {\n        var _this = this;\n        var updatePaneIds = [];\n        var filterOverlays = this.getOverlaysByFilter(filter);\n        filterOverlays.forEach(function (overlay) {\n            var _a;\n            var paneId = overlay.paneId;\n            var paneOverlays = _this.getOverlaysByPaneId(overlay.paneId);\n            (_a = overlay.onRemoved) === null || _a === void 0 ? void 0 : _a.call(overlay, { overlay: overlay, chart: _this._chart });\n            if (!updatePaneIds.includes(paneId)) {\n                updatePaneIds.push(paneId);\n            }\n            if (overlay.isDrawing()) {\n                _this._progressOverlayInfo = null;\n            }\n            else {\n                var index = paneOverlays.findIndex(function (o) { return o.id === overlay.id; });\n                if (index > -1) {\n                    paneOverlays.splice(index, 1);\n                }\n            }\n            if (paneOverlays.length === 0) {\n                _this._overlays.delete(paneId);\n            }\n        });\n        if (updatePaneIds.length > 0) {\n            updatePaneIds.forEach(function (paneId) {\n                _this._chart.updatePane(1 /* UpdateLevel.Overlay */, paneId);\n            });\n            this._chart.updatePane(1 /* UpdateLevel.Overlay */, PaneIdConstants.X_AXIS);\n            return true;\n        }\n        return false;\n    };\n    StoreImp.prototype.setPressedOverlayInfo = function (info) {\n        this._pressedOverlayInfo = info;\n    };\n    StoreImp.prototype.getPressedOverlayInfo = function () {\n        return this._pressedOverlayInfo;\n    };\n    StoreImp.prototype.setHoverOverlayInfo = function (info, processOnMouseEnterEvent, processOnMouseLeaveEvent) {\n        var _a = this._hoverOverlayInfo, overlay = _a.overlay, figureType = _a.figureType, figureIndex = _a.figureIndex, figure = _a.figure;\n        var infoOverlay = info.overlay;\n        if ((overlay === null || overlay === void 0 ? void 0 : overlay.id) !== (infoOverlay === null || infoOverlay === void 0 ? void 0 : infoOverlay.id) ||\n            figureType !== info.figureType ||\n            figureIndex !== info.figureIndex) {\n            this._hoverOverlayInfo = info;\n            if ((overlay === null || overlay === void 0 ? void 0 : overlay.id) !== (infoOverlay === null || infoOverlay === void 0 ? void 0 : infoOverlay.id)) {\n                var ignoreUpdateFlag = false;\n                var sortFlag = false;\n                if (overlay !== null) {\n                    overlay.override({ zLevel: overlay.getPrevZLevel() });\n                    sortFlag = true;\n                    if (processOnMouseLeaveEvent(overlay, figure)) {\n                        ignoreUpdateFlag = true;\n                    }\n                }\n                if (infoOverlay !== null) {\n                    infoOverlay.setPrevZLevel(infoOverlay.zLevel);\n                    infoOverlay.override({ zLevel: Number.MAX_SAFE_INTEGER });\n                    sortFlag = true;\n                    if (processOnMouseEnterEvent(infoOverlay, info.figure)) {\n                        ignoreUpdateFlag = true;\n                    }\n                }\n                if (sortFlag) {\n                    this._sortOverlays();\n                }\n                if (!ignoreUpdateFlag) {\n                    this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                }\n            }\n        }\n    };\n    StoreImp.prototype.getHoverOverlayInfo = function () {\n        return this._hoverOverlayInfo;\n    };\n    StoreImp.prototype.setClickOverlayInfo = function (info, processOnSelectedEvent, processOnDeselectedEvent) {\n        var _a = this._clickOverlayInfo, paneId = _a.paneId, overlay = _a.overlay, figureType = _a.figureType, figure = _a.figure, figureIndex = _a.figureIndex;\n        var infoOverlay = info.overlay;\n        if ((overlay === null || overlay === void 0 ? void 0 : overlay.id) !== (infoOverlay === null || infoOverlay === void 0 ? void 0 : infoOverlay.id) || figureType !== info.figureType || figureIndex !== info.figureIndex) {\n            this._clickOverlayInfo = info;\n            if ((overlay === null || overlay === void 0 ? void 0 : overlay.id) !== (infoOverlay === null || infoOverlay === void 0 ? void 0 : infoOverlay.id)) {\n                if (isValid(overlay)) {\n                    processOnDeselectedEvent(overlay, figure);\n                }\n                if (isValid(infoOverlay)) {\n                    processOnSelectedEvent(infoOverlay, info.figure);\n                }\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */, info.paneId);\n                if (paneId !== info.paneId) {\n                    this._chart.updatePane(1 /* UpdateLevel.Overlay */, paneId);\n                }\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */, PaneIdConstants.X_AXIS);\n            }\n        }\n    };\n    StoreImp.prototype.getClickOverlayInfo = function () {\n        return this._clickOverlayInfo;\n    };\n    StoreImp.prototype.isOverlayEmpty = function () {\n        return this._overlays.size === 0 && this._progressOverlayInfo === null;\n    };\n    StoreImp.prototype.isOverlayDrawing = function () {\n        var _a, _b;\n        return (_b = (_a = this._progressOverlayInfo) === null || _a === void 0 ? void 0 : _a.overlay.isDrawing()) !== null && _b !== void 0 ? _b : false;\n    };\n    StoreImp.prototype._clearLastPriceMarkExtendTextUpdateTimer = function () {\n        this._lastPriceMarkExtendTextUpdateTimers.forEach(function (timer) {\n            clearInterval(timer);\n        });\n        this._lastPriceMarkExtendTextUpdateTimers = [];\n    };\n    StoreImp.prototype._clearData = function () {\n        this._dataLoadMore.backward = false;\n        this._dataLoadMore.forward = false;\n        this._loading = false;\n        this._dataList = [];\n        this._visibleRangeDataList = [];\n        this._visibleRangeHighLowPrice = [\n            { x: 0, price: Number.MIN_SAFE_INTEGER },\n            { x: 0, price: Number.MAX_SAFE_INTEGER }\n        ];\n        this._visibleRange = getDefaultVisibleRange();\n        this._crosshair = {};\n    };\n    StoreImp.prototype.getChart = function () {\n        return this._chart;\n    };\n    StoreImp.prototype.destroy = function () {\n        this._clearData();\n        this._clearLastPriceMarkExtendTextUpdateTimer();\n        this._taskScheduler.clear();\n        this._overlays.clear();\n        this._indicators.clear();\n        this._actions.clear();\n    };\n    return StoreImp;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar WidgetNameConstants = {\n    MAIN: 'main',\n    X_AXIS: 'xAxis',\n    Y_AXIS: 'yAxis',\n    SEPARATOR: 'separator'\n};\nvar REAL_SEPARATOR_HEIGHT = 7;\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction isSupportedDevicePixelContentBox() {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, new Promise(function (resolve) {\n                        var ro = new ResizeObserver(function (entries) {\n                            resolve(entries.every(function (entry) { return 'devicePixelContentBoxSize' in entry; }));\n                            ro.disconnect();\n                        });\n                        ro.observe(document.body, { box: 'device-pixel-content-box' });\n                    }).catch(function () { return false; })];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    });\n}\nvar Canvas = /** @class */ (function () {\n    function Canvas(style, listener) {\n        var _this = this;\n        this._supportedDevicePixelContentBox = false;\n        this._width = 0;\n        this._height = 0;\n        this._pixelWidth = 0;\n        this._pixelHeight = 0;\n        this._nextPixelWidth = 0;\n        this._nextPixelHeight = 0;\n        this._requestAnimationId = DEFAULT_REQUEST_ID;\n        this._mediaQueryListener = function () {\n            var pixelRatio = getPixelRatio(_this._element);\n            _this._nextPixelWidth = Math.round(_this._element.clientWidth * pixelRatio);\n            _this._nextPixelHeight = Math.round(_this._element.clientHeight * pixelRatio);\n            _this._resetPixelRatio();\n        };\n        this._listener = listener;\n        this._element = createDom('canvas', style);\n        this._ctx = this._element.getContext('2d');\n        isSupportedDevicePixelContentBox().then(function (result) {\n            _this._supportedDevicePixelContentBox = result;\n            if (result) {\n                _this._resizeObserver = new ResizeObserver(function (entries) {\n                    var entry = entries.find(function (entry) { return entry.target === _this._element; });\n                    var size = entry === null || entry === void 0 ? void 0 : entry.devicePixelContentBoxSize[0];\n                    if (isValid(size)) {\n                        _this._nextPixelWidth = size.inlineSize;\n                        _this._nextPixelHeight = size.blockSize;\n                        if (_this._pixelWidth !== _this._nextPixelWidth || _this._pixelHeight !== _this._nextPixelHeight) {\n                            _this._resetPixelRatio();\n                        }\n                    }\n                });\n                _this._resizeObserver.observe(_this._element, { box: 'device-pixel-content-box' });\n            }\n            else {\n                _this._mediaQueryList = window.matchMedia(\"(resolution: \".concat(getPixelRatio(_this._element), \"dppx)\"));\n                // eslint-disable-next-line @typescript-eslint/no-deprecated -- ignore\n                _this._mediaQueryList.addListener(_this._mediaQueryListener);\n            }\n        }).catch(function (_) { return false; });\n    }\n    Canvas.prototype._resetPixelRatio = function () {\n        var _this = this;\n        this._executeListener(function () {\n            var width = _this._element.clientWidth;\n            var height = _this._element.clientHeight;\n            _this._width = width;\n            _this._height = height;\n            _this._pixelWidth = _this._nextPixelWidth;\n            _this._pixelHeight = _this._nextPixelHeight;\n            _this._element.width = _this._nextPixelWidth;\n            _this._element.height = _this._nextPixelHeight;\n            var horizontalPixelRatio = _this._nextPixelWidth / width;\n            var verticalPixelRatio = _this._nextPixelHeight / height;\n            _this._ctx.scale(horizontalPixelRatio, verticalPixelRatio);\n        });\n    };\n    Canvas.prototype._executeListener = function (fn) {\n        var _this = this;\n        if (this._requestAnimationId === DEFAULT_REQUEST_ID) {\n            this._requestAnimationId = requestAnimationFrame(function () {\n                _this._ctx.clearRect(0, 0, _this._width, _this._height);\n                fn === null || fn === void 0 ? void 0 : fn();\n                _this._listener();\n                _this._requestAnimationId = DEFAULT_REQUEST_ID;\n            });\n        }\n    };\n    Canvas.prototype.update = function (w, h) {\n        if (this._width !== w || this._height !== h) {\n            this._element.style.width = \"\".concat(w, \"px\");\n            this._element.style.height = \"\".concat(h, \"px\");\n            if (!this._supportedDevicePixelContentBox) {\n                var pixelRatio = getPixelRatio(this._element);\n                this._nextPixelWidth = Math.round(w * pixelRatio);\n                this._nextPixelHeight = Math.round(h * pixelRatio);\n                this._resetPixelRatio();\n            }\n        }\n        else {\n            this._executeListener();\n        }\n    };\n    Canvas.prototype.getElement = function () {\n        return this._element;\n    };\n    Canvas.prototype.getContext = function () {\n        return this._ctx;\n    };\n    Canvas.prototype.destroy = function () {\n        if (isValid(this._resizeObserver)) {\n            this._resizeObserver.unobserve(this._element);\n        }\n        if (isValid(this._mediaQueryList)) {\n            // eslint-disable-next-line @typescript-eslint/no-deprecated -- ignore\n            this._mediaQueryList.removeListener(this._mediaQueryListener);\n        }\n    };\n    return Canvas;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Widget = /** @class */ (function (_super) {\n    __extends(Widget, _super);\n    function Widget(rootContainer, pane) {\n        var _this = _super.call(this) || this;\n        _this._bounding = createDefaultBounding();\n        _this._cursor = 'crosshair';\n        _this._forceCursor = null;\n        _this._pane = pane;\n        _this._rootContainer = rootContainer;\n        _this._container = _this.createContainer();\n        rootContainer.appendChild(_this._container);\n        return _this;\n    }\n    Widget.prototype.setBounding = function (bounding) {\n        merge(this._bounding, bounding);\n        return this;\n    };\n    Widget.prototype.getContainer = function () { return this._container; };\n    Widget.prototype.getBounding = function () {\n        return this._bounding;\n    };\n    Widget.prototype.getPane = function () {\n        return this._pane;\n    };\n    Widget.prototype.checkEventOn = function (_) {\n        return true;\n    };\n    Widget.prototype.setCursor = function (cursor) {\n        if (!isString(this._forceCursor)) {\n            if (cursor !== this._cursor) {\n                this._cursor = cursor;\n                this._container.style.cursor = this._cursor;\n            }\n        }\n    };\n    Widget.prototype.setForceCursor = function (cursor) {\n        var _a;\n        if (cursor !== this._forceCursor) {\n            this._forceCursor = cursor;\n            this._container.style.cursor = (_a = this._forceCursor) !== null && _a !== void 0 ? _a : this._cursor;\n        }\n    };\n    Widget.prototype.getForceCursor = function () {\n        return this._forceCursor;\n    };\n    Widget.prototype.update = function (level) {\n        this.updateImp(this._container, this._bounding, level !== null && level !== void 0 ? level : 3 /* UpdateLevel.Drawer */);\n    };\n    Widget.prototype.destroy = function () {\n        this._rootContainer.removeChild(this._container);\n    };\n    return Widget;\n}(Eventful));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DrawWidget = /** @class */ (function (_super) {\n    __extends(DrawWidget, _super);\n    function DrawWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._mainCanvas = new Canvas({\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            zIndex: '2',\n            boxSizing: 'border-box'\n        }, function () {\n            _this.updateMain(_this._mainCanvas.getContext());\n        });\n        _this._overlayCanvas = new Canvas({\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            zIndex: '2',\n            boxSizing: 'border-box'\n        }, function () {\n            _this.updateOverlay(_this._overlayCanvas.getContext());\n        });\n        var container = _this.getContainer();\n        container.appendChild(_this._mainCanvas.getElement());\n        container.appendChild(_this._overlayCanvas.getElement());\n        return _this;\n    }\n    DrawWidget.prototype.createContainer = function () {\n        return createDom('div', {\n            margin: '0',\n            padding: '0',\n            position: 'absolute',\n            top: '0',\n            overflow: 'hidden',\n            boxSizing: 'border-box',\n            zIndex: '1'\n        });\n    };\n    DrawWidget.prototype.updateImp = function (container, bounding, level) {\n        var width = bounding.width, height = bounding.height, left = bounding.left;\n        container.style.left = \"\".concat(left, \"px\");\n        var l = level;\n        var w = container.clientWidth;\n        var h = container.clientHeight;\n        if (width !== w || height !== h) {\n            container.style.width = \"\".concat(width, \"px\");\n            container.style.height = \"\".concat(height, \"px\");\n            l = 3 /* UpdateLevel.Drawer */;\n        }\n        switch (l) {\n            case 0 /* UpdateLevel.Main */: {\n                this._mainCanvas.update(width, height);\n                break;\n            }\n            case 1 /* UpdateLevel.Overlay */: {\n                this._overlayCanvas.update(width, height);\n                break;\n            }\n            case 3 /* UpdateLevel.Drawer */:\n            case 4 /* UpdateLevel.All */: {\n                this._mainCanvas.update(width, height);\n                this._overlayCanvas.update(width, height);\n                break;\n            }\n        }\n    };\n    DrawWidget.prototype.destroy = function () {\n        this._mainCanvas.destroy();\n        this._overlayCanvas.destroy();\n    };\n    DrawWidget.prototype.getImage = function (includeOverlay) {\n        var _a = this.getBounding(), width = _a.width, height = _a.height;\n        var canvas = createDom('canvas', {\n            width: \"\".concat(width, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            boxSizing: 'border-box'\n        });\n        var ctx = canvas.getContext('2d');\n        var pixelRatio = getPixelRatio(canvas);\n        canvas.width = width * pixelRatio;\n        canvas.height = height * pixelRatio;\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.drawImage(this._mainCanvas.getElement(), 0, 0, width, height);\n        if (includeOverlay) {\n            ctx.drawImage(this._overlayCanvas.getElement(), 0, 0, width, height);\n        }\n        return canvas;\n    };\n    return DrawWidget;\n}(Widget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnCircle(coordinate, attrs) {\n    var e_1, _a;\n    var circles = [];\n    circles = circles.concat(attrs);\n    try {\n        for (var circles_1 = __values(circles), circles_1_1 = circles_1.next(); !circles_1_1.done; circles_1_1 = circles_1.next()) {\n            var circle_1 = circles_1_1.value;\n            var x = circle_1.x, y = circle_1.y, r = circle_1.r;\n            var difX = coordinate.x - x;\n            var difY = coordinate.y - y;\n            if (!(difX * difX + difY * difY > r * r)) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (circles_1_1 && !circles_1_1.done && (_a = circles_1.return)) _a.call(circles_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\nfunction drawCircle(ctx, attrs, styles) {\n    var circles = [];\n    circles = circles.concat(attrs);\n    var _a = styles.style, style = _a === void 0 ? 'fill' : _a, _b = styles.color, color = _b === void 0 ? 'currentColor' : _b, _c = styles.borderSize, borderSize = _c === void 0 ? 1 : _c, _d = styles.borderColor, borderColor = _d === void 0 ? 'currentColor' : _d, _e = styles.borderStyle, borderStyle = _e === void 0 ? 'solid' : _e, _f = styles.borderDashedValue, borderDashedValue = _f === void 0 ? [2, 2] : _f;\n    var solid = (style === 'fill' || styles.style === 'stroke_fill') && (!isString(color) || !isTransparent(color));\n    if (solid) {\n        ctx.fillStyle = color;\n        circles.forEach(function (_a) {\n            var x = _a.x, y = _a.y, r = _a.r;\n            ctx.beginPath();\n            ctx.arc(x, y, r, 0, Math.PI * 2);\n            ctx.closePath();\n            ctx.fill();\n        });\n    }\n    if ((style === 'stroke' || styles.style === 'stroke_fill') && borderSize > 0 && !isTransparent(borderColor)) {\n        ctx.strokeStyle = borderColor;\n        ctx.lineWidth = borderSize;\n        if (borderStyle === 'dashed') {\n            ctx.setLineDash(borderDashedValue);\n        }\n        else {\n            ctx.setLineDash([]);\n        }\n        circles.forEach(function (_a) {\n            var x = _a.x, y = _a.y, r = _a.r;\n            if (!solid || r > borderSize) {\n                ctx.beginPath();\n                ctx.arc(x, y, r, 0, Math.PI * 2);\n                ctx.closePath();\n                ctx.stroke();\n            }\n        });\n    }\n}\nvar circle = {\n    name: 'circle',\n    checkEventOn: checkCoordinateOnCircle,\n    draw: function (ctx, attrs, styles) {\n        drawCircle(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnPolygon(coordinate, attrs) {\n    var e_1, _a;\n    var polygons = [];\n    polygons = polygons.concat(attrs);\n    try {\n        for (var polygons_1 = __values(polygons), polygons_1_1 = polygons_1.next(); !polygons_1_1.done; polygons_1_1 = polygons_1.next()) {\n            var polygon_1 = polygons_1_1.value;\n            var on = false;\n            var coordinates = polygon_1.coordinates;\n            for (var i = 0, j = coordinates.length - 1; i < coordinates.length; j = i++) {\n                if ((coordinates[i].y > coordinate.y) !== (coordinates[j].y > coordinate.y) &&\n                    (coordinate.x < (coordinates[j].x - coordinates[i].x) * (coordinate.y - coordinates[i].y) / (coordinates[j].y - coordinates[i].y) + coordinates[i].x)) {\n                    on = !on;\n                }\n            }\n            if (on) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (polygons_1_1 && !polygons_1_1.done && (_a = polygons_1.return)) _a.call(polygons_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\nfunction drawPolygon(ctx, attrs, styles) {\n    var polygons = [];\n    polygons = polygons.concat(attrs);\n    var _a = styles.style, style = _a === void 0 ? 'fill' : _a, _b = styles.color, color = _b === void 0 ? 'currentColor' : _b, _c = styles.borderSize, borderSize = _c === void 0 ? 1 : _c, _d = styles.borderColor, borderColor = _d === void 0 ? 'currentColor' : _d, _e = styles.borderStyle, borderStyle = _e === void 0 ? 'solid' : _e, _f = styles.borderDashedValue, borderDashedValue = _f === void 0 ? [2, 2] : _f;\n    if ((style === 'fill' || styles.style === 'stroke_fill') &&\n        (!isString(color) || !isTransparent(color))) {\n        ctx.fillStyle = color;\n        polygons.forEach(function (_a) {\n            var coordinates = _a.coordinates;\n            ctx.beginPath();\n            ctx.moveTo(coordinates[0].x, coordinates[0].y);\n            for (var i = 1; i < coordinates.length; i++) {\n                ctx.lineTo(coordinates[i].x, coordinates[i].y);\n            }\n            ctx.closePath();\n            ctx.fill();\n        });\n    }\n    if ((style === 'stroke' || styles.style === 'stroke_fill') && borderSize > 0 && !isTransparent(borderColor)) {\n        ctx.strokeStyle = borderColor;\n        ctx.lineWidth = borderSize;\n        if (borderStyle === 'dashed') {\n            ctx.setLineDash(borderDashedValue);\n        }\n        else {\n            ctx.setLineDash([]);\n        }\n        polygons.forEach(function (_a) {\n            var coordinates = _a.coordinates;\n            ctx.beginPath();\n            ctx.moveTo(coordinates[0].x, coordinates[0].y);\n            for (var i = 1; i < coordinates.length; i++) {\n                ctx.lineTo(coordinates[i].x, coordinates[i].y);\n            }\n            ctx.closePath();\n            ctx.stroke();\n        });\n    }\n}\nvar polygon = {\n    name: 'polygon',\n    checkEventOn: checkCoordinateOnPolygon,\n    draw: function (ctx, attrs, styles) {\n        drawPolygon(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnRect(coordinate, attrs) {\n    var e_1, _a;\n    var rects = [];\n    rects = rects.concat(attrs);\n    try {\n        for (var rects_1 = __values(rects), rects_1_1 = rects_1.next(); !rects_1_1.done; rects_1_1 = rects_1.next()) {\n            var rect_1 = rects_1_1.value;\n            var x = rect_1.x;\n            var width = rect_1.width;\n            if (width < DEVIATION * 2) {\n                x -= DEVIATION;\n                width = DEVIATION * 2;\n            }\n            var y = rect_1.y;\n            var height = rect_1.height;\n            if (height < DEVIATION * 2) {\n                y -= DEVIATION;\n                height = DEVIATION * 2;\n            }\n            if (coordinate.x >= x &&\n                coordinate.x <= x + width &&\n                coordinate.y >= y &&\n                coordinate.y <= y + height) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (rects_1_1 && !rects_1_1.done && (_a = rects_1.return)) _a.call(rects_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\nfunction drawRect(ctx, attrs, styles) {\n    var _a;\n    var rects = [];\n    rects = rects.concat(attrs);\n    var _b = styles.style, style = _b === void 0 ? 'fill' : _b, _c = styles.color, color = _c === void 0 ? 'transparent' : _c, _d = styles.borderSize, borderSize = _d === void 0 ? 1 : _d, _e = styles.borderColor, borderColor = _e === void 0 ? 'transparent' : _e, _f = styles.borderStyle, borderStyle = _f === void 0 ? 'solid' : _f, _g = styles.borderRadius, r = _g === void 0 ? 0 : _g, _h = styles.borderDashedValue, borderDashedValue = _h === void 0 ? [2, 2] : _h;\n    // eslint-disable-next-line @typescript-eslint/unbound-method, @typescript-eslint/no-unnecessary-condition -- ignore\n    var draw = (_a = ctx.roundRect) !== null && _a !== void 0 ? _a : ctx.rect;\n    var solid = (style === 'fill' || styles.style === 'stroke_fill') && (!isString(color) || !isTransparent(color));\n    if (solid) {\n        ctx.fillStyle = color;\n        rects.forEach(function (_a) {\n            var x = _a.x, y = _a.y, w = _a.width, h = _a.height;\n            ctx.beginPath();\n            draw.call(ctx, x, y, w, h, r);\n            ctx.closePath();\n            ctx.fill();\n        });\n    }\n    if ((style === 'stroke' || styles.style === 'stroke_fill') && borderSize > 0 && !isTransparent(borderColor)) {\n        ctx.strokeStyle = borderColor;\n        ctx.fillStyle = borderColor;\n        ctx.lineWidth = borderSize;\n        if (borderStyle === 'dashed') {\n            ctx.setLineDash(borderDashedValue);\n        }\n        else {\n            ctx.setLineDash([]);\n        }\n        var correction_1 = borderSize % 2 === 1 ? 0.5 : 0;\n        var doubleCorrection_1 = Math.round(correction_1 * 2);\n        rects.forEach(function (_a) {\n            var x = _a.x, y = _a.y, w = _a.width, h = _a.height;\n            if (w > borderSize * 2 && h > borderSize * 2) {\n                ctx.beginPath();\n                draw.call(ctx, x + correction_1, y + correction_1, w - doubleCorrection_1, h - doubleCorrection_1, r);\n                ctx.closePath();\n                ctx.stroke();\n            }\n            else {\n                if (!solid) {\n                    ctx.fillRect(x, y, w, h);\n                }\n            }\n        });\n    }\n}\nvar rect = {\n    name: 'rect',\n    checkEventOn: checkCoordinateOnRect,\n    draw: function (ctx, attrs, styles) {\n        drawRect(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getTextRect(attrs, styles) {\n    var _a = styles.size, size = _a === void 0 ? 12 : _a, _b = styles.paddingLeft, paddingLeft = _b === void 0 ? 0 : _b, _c = styles.paddingTop, paddingTop = _c === void 0 ? 0 : _c, _d = styles.paddingRight, paddingRight = _d === void 0 ? 0 : _d, _e = styles.paddingBottom, paddingBottom = _e === void 0 ? 0 : _e, _f = styles.weight, weight = _f === void 0 ? 'normal' : _f, family = styles.family;\n    var x = attrs.x, y = attrs.y, text = attrs.text, _g = attrs.align, align = _g === void 0 ? 'left' : _g, _h = attrs.baseline, baseline = _h === void 0 ? 'top' : _h, w = attrs.width, h = attrs.height;\n    var width = w !== null && w !== void 0 ? w : (paddingLeft + calcTextWidth(text, size, weight, family) + paddingRight);\n    var height = h !== null && h !== void 0 ? h : (paddingTop + size + paddingBottom);\n    var startX = 0;\n    switch (align) {\n        case 'left':\n        case 'start': {\n            startX = x;\n            break;\n        }\n        case 'right':\n        case 'end': {\n            startX = x - width;\n            break;\n        }\n        default: {\n            startX = x - width / 2;\n            break;\n        }\n    }\n    var startY = 0;\n    switch (baseline) {\n        case 'top':\n        case 'hanging': {\n            startY = y;\n            break;\n        }\n        case 'bottom':\n        case 'ideographic':\n        case 'alphabetic': {\n            startY = y - height;\n            break;\n        }\n        default: {\n            startY = y - height / 2;\n            break;\n        }\n    }\n    return { x: startX, y: startY, width: width, height: height };\n}\nfunction checkCoordinateOnText(coordinate, attrs, styles) {\n    var e_1, _a;\n    var texts = [];\n    texts = texts.concat(attrs);\n    try {\n        for (var texts_1 = __values(texts), texts_1_1 = texts_1.next(); !texts_1_1.done; texts_1_1 = texts_1.next()) {\n            var text_1 = texts_1_1.value;\n            var _b = getTextRect(text_1, styles), x = _b.x, y = _b.y, width = _b.width, height = _b.height;\n            if (coordinate.x >= x &&\n                coordinate.x <= x + width &&\n                coordinate.y >= y &&\n                coordinate.y <= y + height) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (texts_1_1 && !texts_1_1.done && (_a = texts_1.return)) _a.call(texts_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\nfunction drawText(ctx, attrs, styles) {\n    var texts = [];\n    texts = texts.concat(attrs);\n    var _a = styles.color, color = _a === void 0 ? 'currentColor' : _a, _b = styles.size, size = _b === void 0 ? 12 : _b, family = styles.family, weight = styles.weight, _c = styles.paddingLeft, paddingLeft = _c === void 0 ? 0 : _c, _d = styles.paddingTop, paddingTop = _d === void 0 ? 0 : _d, _e = styles.paddingRight, paddingRight = _e === void 0 ? 0 : _e;\n    var rects = texts.map(function (text) { return getTextRect(text, styles); });\n    drawRect(ctx, rects, __assign(__assign({}, styles), { color: styles.backgroundColor }));\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'top';\n    ctx.font = createFont(size, weight, family);\n    ctx.fillStyle = color;\n    texts.forEach(function (text, index) {\n        var rect = rects[index];\n        ctx.fillText(text.text, rect.x + paddingLeft, rect.y + paddingTop, rect.width - paddingLeft - paddingRight);\n    });\n}\nvar text = {\n    name: 'text',\n    checkEventOn: checkCoordinateOnText,\n    draw: function (ctx, attrs, styles) {\n        drawText(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getDistance(coordinate1, coordinate2) {\n    var xDif = coordinate1.x - coordinate2.x;\n    var yDif = coordinate1.y - coordinate2.y;\n    return Math.sqrt(xDif * xDif + yDif * yDif);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnArc(coordinate, attrs) {\n    var e_1, _a;\n    var arcs = [];\n    arcs = arcs.concat(attrs);\n    try {\n        for (var arcs_1 = __values(arcs), arcs_1_1 = arcs_1.next(); !arcs_1_1.done; arcs_1_1 = arcs_1.next()) {\n            var arc_1 = arcs_1_1.value;\n            if (Math.abs(getDistance(coordinate, arc_1) - arc_1.r) < DEVIATION) {\n                var r = arc_1.r, startAngle = arc_1.startAngle, endAngle = arc_1.endAngle;\n                var startCoordinateX = r * Math.cos(startAngle) + arc_1.x;\n                var startCoordinateY = r * Math.sin(startAngle) + arc_1.y;\n                var endCoordinateX = r * Math.cos(endAngle) + arc_1.x;\n                var endCoordinateY = r * Math.sin(endAngle) + arc_1.y;\n                if (coordinate.x <= Math.max(startCoordinateX, endCoordinateX) + DEVIATION &&\n                    coordinate.x >= Math.min(startCoordinateX, endCoordinateX) - DEVIATION &&\n                    coordinate.y <= Math.max(startCoordinateY, endCoordinateY) + DEVIATION &&\n                    coordinate.y >= Math.min(startCoordinateY, endCoordinateY) - DEVIATION) {\n                    return true;\n                }\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (arcs_1_1 && !arcs_1_1.done && (_a = arcs_1.return)) _a.call(arcs_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\nfunction drawArc(ctx, attrs, styles) {\n    var arcs = [];\n    arcs = arcs.concat(attrs);\n    var _a = styles.style, style = _a === void 0 ? 'solid' : _a, _b = styles.size, size = _b === void 0 ? 1 : _b, _c = styles.color, color = _c === void 0 ? 'currentColor' : _c, _d = styles.dashedValue, dashedValue = _d === void 0 ? [2, 2] : _d;\n    ctx.lineWidth = size;\n    ctx.strokeStyle = color;\n    if (style === 'dashed') {\n        ctx.setLineDash(dashedValue);\n    }\n    else {\n        ctx.setLineDash([]);\n    }\n    arcs.forEach(function (_a) {\n        var x = _a.x, y = _a.y, r = _a.r, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        ctx.beginPath();\n        ctx.arc(x, y, r, startAngle, endAngle);\n        ctx.stroke();\n        ctx.closePath();\n    });\n}\nvar arc = {\n    name: 'arc',\n    checkEventOn: checkCoordinateOnArc,\n    draw: function (ctx, attrs, styles) {\n        drawArc(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction drawEllipticalArc(ctx, x1, y1, args, offsetX, offsetY, isRelative) {\n    var _a = __read(args, 7), rx = _a[0], ry = _a[1], rotation = _a[2], largeArcFlag = _a[3], sweepFlag = _a[4], x2 = _a[5], y2 = _a[6];\n    var targetX = isRelative ? x1 + x2 : x2 + offsetX;\n    var targetY = isRelative ? y1 + y2 : y2 + offsetY;\n    var segments = ellipticalArcToBeziers(x1, y1, rx, ry, rotation, largeArcFlag, sweepFlag, targetX, targetY);\n    segments.forEach(function (segment) {\n        ctx.bezierCurveTo(segment[0], segment[1], segment[2], segment[3], segment[4], segment[5]);\n    });\n}\nfunction ellipticalArcToBeziers(x1, y1, rx, ry, rotation, largeArcFlag, sweepFlag, x2, y2) {\n    var _a = computeEllipticalArcParameters(x1, y1, rx, ry, rotation, largeArcFlag, sweepFlag, x2, y2), cx = _a.cx, cy = _a.cy, startAngle = _a.startAngle, deltaAngle = _a.deltaAngle;\n    var segments = [];\n    var numSegments = Math.ceil(Math.abs(deltaAngle) / (Math.PI / 2));\n    for (var i = 0; i < numSegments; i++) {\n        var start = startAngle + (i * deltaAngle) / numSegments;\n        var end = startAngle + ((i + 1) * deltaAngle) / numSegments;\n        var bezier = ellipticalArcToBezier(cx, cy, rx, ry, rotation, start, end);\n        segments.push(bezier);\n    }\n    return segments;\n}\nfunction computeEllipticalArcParameters(x1, y1, rx, ry, rotation, largeArcFlag, sweepFlag, x2, y2) {\n    var phi = (rotation * Math.PI) / 180;\n    var dx = (x1 - x2) / 2;\n    var dy = (y1 - y2) / 2;\n    var x1p = Math.cos(phi) * dx + Math.sin(phi) * dy;\n    var y1p = -Math.sin(phi) * dx + Math.cos(phi) * dy;\n    var lambda = (Math.pow(x1p, 2)) / (Math.pow(rx, 2)) + (Math.pow(y1p, 2)) / (Math.pow(ry, 2));\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var sign = largeArcFlag === sweepFlag ? -1 : 1;\n    var numerator = (Math.pow(rx, 2)) * (Math.pow(ry, 2)) - (Math.pow(rx, 2)) * (Math.pow(y1p, 2)) - (Math.pow(ry, 2)) * (Math.pow(x1p, 2));\n    var denominator = (Math.pow(rx, 2)) * (Math.pow(y1p, 2)) + (Math.pow(ry, 2)) * (Math.pow(x1p, 2));\n    var cxp = sign * Math.sqrt(Math.abs(numerator / denominator)) * (rx * y1p / ry);\n    var cyp = sign * Math.sqrt(Math.abs(numerator / denominator)) * (-ry * x1p / rx);\n    var cx = Math.cos(phi) * cxp - Math.sin(phi) * cyp + (x1 + x2) / 2;\n    var cy = Math.sin(phi) * cxp + Math.cos(phi) * cyp + (y1 + y2) / 2;\n    var startAngle = Math.atan2((y1p - cyp) / ry, (x1p - cxp) / rx);\n    var deltaAngle = Math.atan2((-y1p - cyp) / ry, (-x1p - cxp) / rx) - startAngle;\n    if (deltaAngle < 0 && sweepFlag === 1) {\n        deltaAngle += 2 * Math.PI;\n    }\n    else if (deltaAngle > 0 && sweepFlag === 0) {\n        deltaAngle -= 2 * Math.PI;\n    }\n    return { cx: cx, cy: cy, startAngle: startAngle, deltaAngle: deltaAngle };\n}\n/**\n * Ellipse arc segment to Bezier curve\n * @param cx\n * @param cy\n * @param rx\n * @param ry\n * @param rotation\n * @param startAngle\n * @param endAngle\n * @returns\n */\nfunction ellipticalArcToBezier(cx, cy, rx, ry, rotation, startAngle, endAngle) {\n    // ËÆ°ÁÆóÊéßÂà∂ÁÇπ\n    var alpha = Math.sin(endAngle - startAngle) * (Math.sqrt(4 + 3 * Math.pow(Math.tan((endAngle - startAngle) / 2), 2)) - 1) / 3;\n    var cosPhi = Math.cos(rotation);\n    var sinPhi = Math.sin(rotation);\n    var x1 = cx + rx * Math.cos(startAngle) * cosPhi - ry * Math.sin(startAngle) * sinPhi;\n    var y1 = cy + rx * Math.cos(startAngle) * sinPhi + ry * Math.sin(startAngle) * cosPhi;\n    var x2 = cx + rx * Math.cos(endAngle) * cosPhi - ry * Math.sin(endAngle) * sinPhi;\n    var y2 = cy + rx * Math.cos(endAngle) * sinPhi + ry * Math.sin(endAngle) * cosPhi;\n    var cp1x = x1 + alpha * (-rx * Math.sin(startAngle) * cosPhi - ry * Math.cos(startAngle) * sinPhi);\n    var cp1y = y1 + alpha * (-rx * Math.sin(startAngle) * sinPhi + ry * Math.cos(startAngle) * cosPhi);\n    var cp2x = x2 - alpha * (-rx * Math.sin(endAngle) * cosPhi - ry * Math.cos(endAngle) * sinPhi);\n    var cp2y = y2 - alpha * (-rx * Math.sin(endAngle) * sinPhi + ry * Math.cos(endAngle) * cosPhi);\n    return [cp1x, cp1y, cp2x, cp2y, x2, y2];\n}\nfunction drawPath(ctx, attrs, styles) {\n    var paths = [];\n    paths = paths.concat(attrs);\n    var _a = styles.lineWidth, lineWidth = _a === void 0 ? 1 : _a, _b = styles.color, color = _b === void 0 ? 'currentColor' : _b;\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = color;\n    ctx.setLineDash([]);\n    paths.forEach(function (_a) {\n        var x = _a.x, y = _a.y, path = _a.path;\n        var commands = path.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi);\n        if (isValid(commands)) {\n            var offsetX_1 = x;\n            var offsetY_1 = y;\n            ctx.beginPath();\n            commands.forEach(function (command) {\n                var currentX = 0;\n                var currentY = 0;\n                var startX = 0;\n                var startY = 0;\n                var type = command[0];\n                var args = command.slice(1).trim().split(/[\\s,]+/).map(Number);\n                switch (type) {\n                    case 'M':\n                        currentX = args[0] + offsetX_1;\n                        currentY = args[1] + offsetY_1;\n                        ctx.moveTo(currentX, currentY);\n                        startX = currentX;\n                        startY = currentY;\n                        break;\n                    case 'm':\n                        currentX += args[0];\n                        currentY += args[1];\n                        ctx.moveTo(currentX, currentY);\n                        startX = currentX;\n                        startY = currentY;\n                        break;\n                    case 'L':\n                        currentX = args[0] + offsetX_1;\n                        currentY = args[1] + offsetY_1;\n                        ctx.lineTo(currentX, currentY);\n                        break;\n                    case 'l':\n                        currentX += args[0];\n                        currentY += args[1];\n                        ctx.lineTo(currentX, currentY);\n                        break;\n                    case 'H':\n                        currentX = args[0] + offsetX_1;\n                        ctx.lineTo(currentX, currentY);\n                        break;\n                    case 'h':\n                        currentX += args[0];\n                        ctx.lineTo(currentX, currentY);\n                        break;\n                    case 'V':\n                        currentY = args[0] + offsetY_1;\n                        ctx.lineTo(currentX, currentY);\n                        break;\n                    case 'v':\n                        currentY += args[0];\n                        ctx.lineTo(currentX, currentY);\n                        break;\n                    case 'C':\n                        ctx.bezierCurveTo(args[0] + offsetX_1, args[1] + offsetY_1, args[2] + offsetX_1, args[3] + offsetY_1, args[4] + offsetX_1, args[5] + offsetY_1);\n                        currentX = args[4] + offsetX_1;\n                        currentY = args[5] + offsetY_1;\n                        break;\n                    case 'c':\n                        ctx.bezierCurveTo(currentX + args[0], currentY + args[1], currentX + args[2], currentY + args[3], currentX + args[4], currentY + args[5]);\n                        currentX += args[4];\n                        currentY += args[5];\n                        break;\n                    case 'S':\n                        ctx.bezierCurveTo(currentX, currentY, args[0] + offsetX_1, args[1] + offsetY_1, args[2] + offsetX_1, args[3] + offsetY_1);\n                        currentX = args[2] + offsetX_1;\n                        currentY = args[3] + offsetY_1;\n                        break;\n                    case 's':\n                        ctx.bezierCurveTo(currentX, currentY, currentX + args[0], currentY + args[1], currentX + args[2], currentY + args[3]);\n                        currentX += args[2];\n                        currentY += args[3];\n                        break;\n                    case 'Q':\n                        ctx.quadraticCurveTo(args[0] + offsetX_1, args[1] + offsetY_1, args[2] + offsetX_1, args[3] + offsetY_1);\n                        currentX = args[2] + offsetX_1;\n                        currentY = args[3] + offsetY_1;\n                        break;\n                    case 'q':\n                        ctx.quadraticCurveTo(currentX + args[0], currentY + args[1], currentX + args[2], currentY + args[3]);\n                        currentX += args[2];\n                        currentY += args[3];\n                        break;\n                    case 'T':\n                        ctx.quadraticCurveTo(currentX, currentY, args[0] + offsetX_1, args[1] + offsetY_1);\n                        currentX = args[0] + offsetX_1;\n                        currentY = args[1] + offsetY_1;\n                        break;\n                    case 't':\n                        ctx.quadraticCurveTo(currentX, currentY, currentX + args[0], currentY + args[1]);\n                        currentX += args[0];\n                        currentY += args[1];\n                        break;\n                    case 'A':\n                        // arc\n                        // reference https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n                        drawEllipticalArc(ctx, currentX, currentY, args, offsetX_1, offsetY_1, false);\n                        currentX = args[5] + offsetX_1;\n                        currentY = args[6] + offsetY_1;\n                        break;\n                    case 'a':\n                        // arc\n                        // reference https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n                        drawEllipticalArc(ctx, currentX, currentY, args, offsetX_1, offsetY_1, true);\n                        currentX += args[5];\n                        currentY += args[6];\n                        break;\n                    case 'Z':\n                    case 'z':\n                        ctx.closePath();\n                        currentX = startX;\n                        currentY = startY;\n                        break;\n                }\n            });\n            if (styles.style === 'fill') {\n                ctx.fill();\n            }\n            else {\n                ctx.stroke();\n            }\n        }\n    });\n}\nvar path = {\n    name: 'path',\n    checkEventOn: checkCoordinateOnRect,\n    draw: function (ctx, attrs, styles) {\n        drawPath(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar figures = {};\nvar extensions = [circle, line, polygon, rect, text, arc, path];\nextensions.forEach(function (figure) {\n    figures[figure.name] = FigureImp.extend(figure);\n});\nfunction getSupportedFigures() {\n    return Object.keys(figures);\n}\nfunction registerFigure(figure) {\n    figures[figure.name] = FigureImp.extend(figure);\n}\nfunction getInnerFigureClass(name) {\n    var _a;\n    return (_a = figures[name]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getFigureClass(name) {\n    var _a;\n    return (_a = figures[name]) !== null && _a !== void 0 ? _a : null;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View(widget) {\n        var _this = _super.call(this) || this;\n        _this._widget = widget;\n        return _this;\n    }\n    View.prototype.getWidget = function () { return this._widget; };\n    View.prototype.createFigure = function (create, eventHandler) {\n        var FigureClazz = getInnerFigureClass(create.name);\n        if (FigureClazz !== null) {\n            var figure = new FigureClazz(create);\n            if (isValid(eventHandler)) {\n                for (var key in eventHandler) {\n                    // eslint-disable-next-line no-prototype-builtins -- ignore\n                    if (eventHandler.hasOwnProperty(key)) {\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n                        figure.registerEvent(key, eventHandler[key]);\n                    }\n                }\n                this.addChild(figure);\n            }\n            return figure;\n        }\n        return null;\n    };\n    View.prototype.draw = function (ctx) {\n        var extend = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            extend[_i - 1] = arguments[_i];\n        }\n        this.clear();\n        this.drawImp(ctx, extend);\n    };\n    View.prototype.checkEventOn = function (_) {\n        return true;\n    };\n    return View;\n}(Eventful));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar GridView = /** @class */ (function (_super) {\n    __extends(GridView, _super);\n    function GridView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GridView.prototype.drawImp = function (ctx) {\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = this.getWidget().getPane();\n        var chart = pane.getChart();\n        var bounding = widget.getBounding();\n        var styles = chart.getStyles().grid;\n        var show = styles.show;\n        if (show) {\n            ctx.save();\n            ctx.globalCompositeOperation = 'destination-over';\n            var horizontalStyles = styles.horizontal;\n            var horizontalShow = horizontalStyles.show;\n            if (horizontalShow) {\n                var yAxis = pane.getAxisComponent();\n                var attrs = yAxis.getTicks().map(function (tick) { return ({\n                    coordinates: [\n                        { x: 0, y: tick.coord },\n                        { x: bounding.width, y: tick.coord }\n                    ]\n                }); });\n                (_a = this.createFigure({\n                    name: 'line',\n                    attrs: attrs,\n                    styles: horizontalStyles\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            }\n            var verticalStyles = styles.vertical;\n            var verticalShow = verticalStyles.show;\n            if (verticalShow) {\n                var xAxis = chart.getXAxisPane().getAxisComponent();\n                var attrs = xAxis.getTicks().map(function (tick) { return ({\n                    coordinates: [\n                        { x: tick.coord, y: 0 },\n                        { x: tick.coord, y: bounding.height }\n                    ]\n                }); });\n                (_b = this.createFigure({\n                    name: 'line',\n                    attrs: attrs,\n                    styles: verticalStyles\n                })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n            }\n            ctx.restore();\n        }\n    };\n    return GridView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ChildrenView = /** @class */ (function (_super) {\n    __extends(ChildrenView, _super);\n    function ChildrenView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ChildrenView.prototype.eachChildren = function (childCallback) {\n        var pane = this.getWidget().getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var visibleRangeDataList = chartStore.getVisibleRangeDataList();\n        var barSpace = chartStore.getBarSpace();\n        var dataLength = visibleRangeDataList.length;\n        var index = 0;\n        while (index < dataLength) {\n            childCallback(visibleRangeDataList[index], barSpace, index);\n            ++index;\n        }\n    };\n    return ChildrenView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleBarView = /** @class */ (function (_super) {\n    __extends(CandleBarView, _super);\n    function CandleBarView() {\n        var _this = _super.apply(this, __spreadArray([], __read(arguments), false)) || this;\n        _this._boundCandleBarClickEvent = function (data) { return function () {\n            _this.getWidget().getPane().getChart().getChartStore().executeAction('onCandleBarClick', data);\n            return false;\n        }; };\n        return _this;\n    }\n    CandleBarView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var pane = this.getWidget().getPane();\n        var isMain = pane.getId() === PaneIdConstants.CANDLE;\n        var chartStore = pane.getChart().getChartStore();\n        var candleBarOptions = this.getCandleBarOptions();\n        if (candleBarOptions !== null) {\n            var type_1 = candleBarOptions.type, styles_1 = candleBarOptions.styles;\n            var ohlcSize_1 = 0;\n            var halfOhlcSize_1 = 0;\n            if (candleBarOptions.type === 'ohlc') {\n                var gapBar = chartStore.getBarSpace().gapBar;\n                ohlcSize_1 = Math.min(Math.max(Math.round(gapBar * 0.2), 1), 8);\n                if (ohlcSize_1 > 2 && ohlcSize_1 % 2 === 1) {\n                    ohlcSize_1--;\n                }\n                halfOhlcSize_1 = Math.floor(ohlcSize_1 / 2);\n            }\n            var yAxis_1 = pane.getAxisComponent();\n            this.eachChildren(function (visibleData, barSpace) {\n                var _a;\n                var x = visibleData.x, _b = visibleData.data, current = _b.current, prev = _b.prev;\n                if (isValid(current)) {\n                    var open_1 = current.open, high = current.high, low = current.low, close_1 = current.close;\n                    var comparePrice = styles_1.compareRule === 'current_open' ? open_1 : ((_a = prev === null || prev === void 0 ? void 0 : prev.close) !== null && _a !== void 0 ? _a : close_1);\n                    var colors = [];\n                    if (close_1 > comparePrice) {\n                        colors[0] = styles_1.upColor;\n                        colors[1] = styles_1.upBorderColor;\n                        colors[2] = styles_1.upWickColor;\n                    }\n                    else if (close_1 < comparePrice) {\n                        colors[0] = styles_1.downColor;\n                        colors[1] = styles_1.downBorderColor;\n                        colors[2] = styles_1.downWickColor;\n                    }\n                    else {\n                        colors[0] = styles_1.noChangeColor;\n                        colors[1] = styles_1.noChangeBorderColor;\n                        colors[2] = styles_1.noChangeWickColor;\n                    }\n                    var openY = yAxis_1.convertToPixel(open_1);\n                    var closeY = yAxis_1.convertToPixel(close_1);\n                    var priceY = [\n                        openY, closeY,\n                        yAxis_1.convertToPixel(high),\n                        yAxis_1.convertToPixel(low)\n                    ];\n                    priceY.sort(function (a, b) { return a - b; });\n                    var correction = barSpace.gapBar % 2 === 0 ? 1 : 0;\n                    var rects = [];\n                    switch (type_1) {\n                        case 'candle_solid': {\n                            rects = _this._createSolidBar(x, priceY, barSpace, colors, correction);\n                            break;\n                        }\n                        case 'candle_stroke': {\n                            rects = _this._createStrokeBar(x, priceY, barSpace, colors, correction);\n                            break;\n                        }\n                        case 'candle_up_stroke': {\n                            if (close_1 > open_1) {\n                                rects = _this._createStrokeBar(x, priceY, barSpace, colors, correction);\n                            }\n                            else {\n                                rects = _this._createSolidBar(x, priceY, barSpace, colors, correction);\n                            }\n                            break;\n                        }\n                        case 'candle_down_stroke': {\n                            if (open_1 > close_1) {\n                                rects = _this._createStrokeBar(x, priceY, barSpace, colors, correction);\n                            }\n                            else {\n                                rects = _this._createSolidBar(x, priceY, barSpace, colors, correction);\n                            }\n                            break;\n                        }\n                        case 'ohlc': {\n                            rects = [\n                                {\n                                    name: 'rect',\n                                    attrs: [\n                                        {\n                                            x: x - halfOhlcSize_1,\n                                            y: priceY[0],\n                                            width: ohlcSize_1,\n                                            height: priceY[3] - priceY[0]\n                                        },\n                                        {\n                                            x: x - barSpace.halfGapBar,\n                                            y: openY + ohlcSize_1 > priceY[3] ? priceY[3] - ohlcSize_1 : openY,\n                                            width: barSpace.halfGapBar - halfOhlcSize_1,\n                                            height: ohlcSize_1\n                                        },\n                                        {\n                                            x: x + halfOhlcSize_1,\n                                            y: closeY + ohlcSize_1 > priceY[3] ? priceY[3] - ohlcSize_1 : closeY,\n                                            width: barSpace.halfGapBar - halfOhlcSize_1,\n                                            height: ohlcSize_1\n                                        }\n                                    ],\n                                    styles: { color: colors[0] }\n                                }\n                            ];\n                            break;\n                        }\n                    }\n                    rects.forEach(function (rect) {\n                        var _a;\n                        var handler = null;\n                        if (isMain) {\n                            handler = {\n                                mouseClickEvent: _this._boundCandleBarClickEvent(visibleData)\n                            };\n                        }\n                        (_a = _this.createFigure(rect, handler !== null && handler !== void 0 ? handler : undefined)) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                    });\n                }\n            });\n        }\n    };\n    CandleBarView.prototype.getCandleBarOptions = function () {\n        var candleStyles = this.getWidget().getPane().getChart().getStyles().candle;\n        return {\n            type: candleStyles.type,\n            styles: candleStyles.bar\n        };\n    };\n    CandleBarView.prototype._createSolidBar = function (x, priceY, barSpace, colors, correction) {\n        return [\n            {\n                name: 'rect',\n                attrs: {\n                    x: x,\n                    y: priceY[0],\n                    width: 1,\n                    height: priceY[3] - priceY[0]\n                },\n                styles: { color: colors[2] }\n            },\n            {\n                name: 'rect',\n                attrs: {\n                    x: x - barSpace.halfGapBar,\n                    y: priceY[1],\n                    width: barSpace.gapBar + correction,\n                    height: Math.max(1, priceY[2] - priceY[1])\n                },\n                styles: {\n                    style: 'stroke_fill',\n                    color: colors[0],\n                    borderColor: colors[1]\n                }\n            }\n        ];\n    };\n    CandleBarView.prototype._createStrokeBar = function (x, priceY, barSpace, colors, correction) {\n        return [\n            {\n                name: 'rect',\n                attrs: [\n                    {\n                        x: x,\n                        y: priceY[0],\n                        width: 1,\n                        height: priceY[1] - priceY[0]\n                    },\n                    {\n                        x: x,\n                        y: priceY[2],\n                        width: 1,\n                        height: priceY[3] - priceY[2]\n                    }\n                ],\n                styles: { color: colors[2] }\n            },\n            {\n                name: 'rect',\n                attrs: {\n                    x: x - barSpace.halfGapBar,\n                    y: priceY[1],\n                    width: barSpace.gapBar + correction,\n                    height: Math.max(1, priceY[2] - priceY[1])\n                },\n                styles: {\n                    style: 'stroke',\n                    borderColor: colors[1]\n                }\n            }\n        ];\n    };\n    return CandleBarView;\n}(ChildrenView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorView = /** @class */ (function (_super) {\n    __extends(IndicatorView, _super);\n    function IndicatorView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IndicatorView.prototype.getCandleBarOptions = function () {\n        var e_1, _a;\n        var pane = this.getWidget().getPane();\n        var yAxis = pane.getAxisComponent();\n        if (!yAxis.isInCandle()) {\n            var chartStore = pane.getChart().getChartStore();\n            var indicators = chartStore.getIndicatorsByPaneId(pane.getId());\n            try {\n                for (var indicators_1 = __values(indicators), indicators_1_1 = indicators_1.next(); !indicators_1_1.done; indicators_1_1 = indicators_1.next()) {\n                    var indicator = indicators_1_1.value;\n                    if (indicator.shouldOhlc && indicator.visible) {\n                        var indicatorStyles = indicator.styles;\n                        var defaultStyles = chartStore.getStyles().indicator;\n                        var compareRule = formatValue(indicatorStyles, 'ohlc.compareRule', defaultStyles.ohlc.compareRule);\n                        var upColor = formatValue(indicatorStyles, 'ohlc.upColor', defaultStyles.ohlc.upColor);\n                        var downColor = formatValue(indicatorStyles, 'ohlc.downColor', defaultStyles.ohlc.downColor);\n                        var noChangeColor = formatValue(indicatorStyles, 'ohlc.noChangeColor', defaultStyles.ohlc.noChangeColor);\n                        return {\n                            type: 'ohlc',\n                            styles: {\n                                compareRule: compareRule,\n                                upColor: upColor,\n                                downColor: downColor,\n                                noChangeColor: noChangeColor,\n                                upBorderColor: upColor,\n                                downBorderColor: downColor,\n                                noChangeBorderColor: noChangeColor,\n                                upWickColor: upColor,\n                                downWickColor: downColor,\n                                noChangeWickColor: noChangeColor\n                            }\n                        };\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (indicators_1_1 && !indicators_1_1.done && (_a = indicators_1.return)) _a.call(indicators_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        return null;\n    };\n    IndicatorView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        _super.prototype.drawImp.call(this, ctx);\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chart = pane.getChart();\n        var bounding = widget.getBounding();\n        var xAxis = chart.getXAxisPane().getAxisComponent();\n        var yAxis = pane.getAxisComponent();\n        var chartStore = chart.getChartStore();\n        var indicators = chartStore.getIndicatorsByPaneId(pane.getId());\n        var defaultStyles = chartStore.getStyles().indicator;\n        ctx.save();\n        indicators.forEach(function (indicator) {\n            if (indicator.visible) {\n                if (indicator.zLevel < 0) {\n                    ctx.globalCompositeOperation = 'destination-over';\n                }\n                else {\n                    ctx.globalCompositeOperation = 'source-over';\n                }\n                var isCover = false;\n                if (indicator.draw !== null) {\n                    ctx.save();\n                    isCover = indicator.draw({\n                        ctx: ctx,\n                        chart: chart,\n                        indicator: indicator,\n                        bounding: bounding,\n                        xAxis: xAxis,\n                        yAxis: yAxis\n                    });\n                    ctx.restore();\n                }\n                if (!isCover) {\n                    var result_1 = indicator.result;\n                    var lines_1 = [];\n                    _this.eachChildren(function (data, barSpace) {\n                        var _a, _b, _c;\n                        var halfGapBar = barSpace.halfGapBar;\n                        var dataIndex = data.dataIndex, x = data.x;\n                        var prevX = xAxis.convertToPixel(dataIndex - 1);\n                        var nextX = xAxis.convertToPixel(dataIndex + 1);\n                        var prevData = (_a = result_1[dataIndex - 1]) !== null && _a !== void 0 ? _a : null;\n                        var currentData = (_b = result_1[dataIndex]) !== null && _b !== void 0 ? _b : null;\n                        var nextData = (_c = result_1[dataIndex + 1]) !== null && _c !== void 0 ? _c : null;\n                        var prevCoordinate = { x: prevX };\n                        var currentCoordinate = { x: x };\n                        var nextCoordinate = { x: nextX };\n                        indicator.figures.forEach(function (_a) {\n                            var key = _a.key;\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                            var prevValue = prevData === null || prevData === void 0 ? void 0 : prevData[key];\n                            if (isNumber(prevValue)) {\n                                prevCoordinate[key] = yAxis.convertToPixel(prevValue);\n                            }\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                            var currentValue = currentData === null || currentData === void 0 ? void 0 : currentData[key];\n                            if (isNumber(currentValue)) {\n                                currentCoordinate[key] = yAxis.convertToPixel(currentValue);\n                            }\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                            var nextValue = nextData === null || nextData === void 0 ? void 0 : nextData[key];\n                            if (isNumber(nextValue)) {\n                                nextCoordinate[key] = yAxis.convertToPixel(nextValue);\n                            }\n                        });\n                        eachFigures(indicator, dataIndex, defaultStyles, function (figure, figureStyles, figureIndex) {\n                            var _a, _b, _c;\n                            if (isValid(currentData === null || currentData === void 0 ? void 0 : currentData[figure.key])) {\n                                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                                var valueY = currentCoordinate[figure.key];\n                                var attrs = (_a = figure.attrs) === null || _a === void 0 ? void 0 : _a.call(figure, {\n                                    data: { prev: prevData, current: currentData, next: nextData },\n                                    coordinate: { prev: prevCoordinate, current: currentCoordinate, next: nextCoordinate },\n                                    bounding: bounding,\n                                    barSpace: barSpace,\n                                    xAxis: xAxis,\n                                    yAxis: yAxis\n                                });\n                                if (!isValid(attrs)) {\n                                    switch (figure.type) {\n                                        case 'circle': {\n                                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                                            attrs = { x: x, y: valueY, r: Math.max(1, halfGapBar) };\n                                            break;\n                                        }\n                                        case 'rect':\n                                        case 'bar': {\n                                            var baseValue = (_b = figure.baseValue) !== null && _b !== void 0 ? _b : yAxis.getRange().from;\n                                            var baseValueY = yAxis.convertToPixel(baseValue);\n                                            var height = Math.abs(baseValueY - valueY);\n                                            if (baseValue !== (currentData === null || currentData === void 0 ? void 0 : currentData[figure.key])) {\n                                                height = Math.max(1, height);\n                                            }\n                                            var y = 0;\n                                            if (valueY > baseValueY) {\n                                                y = baseValueY;\n                                            }\n                                            else {\n                                                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                                                y = valueY;\n                                            }\n                                            attrs = {\n                                                x: x - halfGapBar,\n                                                y: y,\n                                                width: Math.max(1, halfGapBar * 2),\n                                                height: height\n                                            };\n                                            break;\n                                        }\n                                        case 'line': {\n                                            if (!isValid(lines_1[figureIndex])) {\n                                                lines_1[figureIndex] = [];\n                                            }\n                                            if (isNumber(currentCoordinate[figure.key]) && isNumber(nextCoordinate[figure.key])) {\n                                                lines_1[figureIndex].push({\n                                                    coordinates: [\n                                                        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                                                        { x: currentCoordinate.x, y: currentCoordinate[figure.key] },\n                                                        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                                                        { x: nextCoordinate.x, y: nextCoordinate[figure.key] }\n                                                    ],\n                                                    styles: figureStyles\n                                                });\n                                            }\n                                            break;\n                                        }\n                                    }\n                                }\n                                var type = figure.type;\n                                if (isValid(attrs) && type !== 'line') {\n                                    (_c = _this.createFigure({\n                                        name: type === 'bar' ? 'rect' : type,\n                                        attrs: attrs,\n                                        styles: figureStyles\n                                    })) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n                                }\n                            }\n                        });\n                    });\n                    // merge line and render\n                    lines_1.forEach(function (items) {\n                        var _a, _b, _c, _d;\n                        if (items.length > 1) {\n                            var mergeLines = [\n                                {\n                                    coordinates: [items[0].coordinates[0], items[0].coordinates[1]],\n                                    styles: items[0].styles\n                                }\n                            ];\n                            for (var i = 1; i < items.length; i++) {\n                                var lastMergeLine = mergeLines[mergeLines.length - 1];\n                                var current = items[i];\n                                var lastMergeLineLastCoordinate = lastMergeLine.coordinates[lastMergeLine.coordinates.length - 1];\n                                if (lastMergeLineLastCoordinate.x === current.coordinates[0].x &&\n                                    lastMergeLineLastCoordinate.y === current.coordinates[0].y &&\n                                    lastMergeLine.styles.style === current.styles.style &&\n                                    lastMergeLine.styles.color === current.styles.color &&\n                                    lastMergeLine.styles.size === current.styles.size &&\n                                    lastMergeLine.styles.smooth === current.styles.smooth &&\n                                    ((_a = lastMergeLine.styles.dashedValue) === null || _a === void 0 ? void 0 : _a[0]) === ((_b = current.styles.dashedValue) === null || _b === void 0 ? void 0 : _b[0]) &&\n                                    ((_c = lastMergeLine.styles.dashedValue) === null || _c === void 0 ? void 0 : _c[1]) === ((_d = current.styles.dashedValue) === null || _d === void 0 ? void 0 : _d[1])) {\n                                    lastMergeLine.coordinates.push(current.coordinates[1]);\n                                }\n                                else {\n                                    mergeLines.push({\n                                        coordinates: [current.coordinates[0], current.coordinates[1]],\n                                        styles: current.styles\n                                    });\n                                }\n                            }\n                            mergeLines.forEach(function (_a) {\n                                var _b;\n                                var coordinates = _a.coordinates, styles = _a.styles;\n                                (_b = _this.createFigure({\n                                    name: 'line',\n                                    attrs: { coordinates: coordinates },\n                                    styles: styles\n                                })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                            });\n                        }\n                    });\n                }\n            }\n        });\n        ctx.restore();\n    };\n    return IndicatorView;\n}(CandleBarView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CrosshairLineView = /** @class */ (function (_super) {\n    __extends(CrosshairLineView, _super);\n    function CrosshairLineView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairLineView.prototype.drawImp = function (ctx) {\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = widget.getPane().getChart().getChartStore();\n        var crosshair = chartStore.getCrosshair();\n        var styles = chartStore.getStyles().crosshair;\n        if (isString(crosshair.paneId) && styles.show) {\n            if (crosshair.paneId === pane.getId()) {\n                var y = crosshair.y;\n                this._drawLine(ctx, [\n                    { x: 0, y: y },\n                    { x: bounding.width, y: y }\n                ], styles.horizontal);\n            }\n            var x = crosshair.realX;\n            this._drawLine(ctx, [\n                { x: x, y: 0 },\n                { x: x, y: bounding.height }\n            ], styles.vertical);\n        }\n    };\n    CrosshairLineView.prototype._drawLine = function (ctx, coordinates, styles) {\n        var _a;\n        if (styles.show) {\n            var lineStyles = styles.line;\n            if (lineStyles.show) {\n                (_a = this.createFigure({\n                    name: 'line',\n                    attrs: { coordinates: coordinates },\n                    styles: lineStyles\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            }\n        }\n    };\n    return CrosshairLineView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorTooltipView = /** @class */ (function (_super) {\n    __extends(IndicatorTooltipView, _super);\n    function IndicatorTooltipView(widget) {\n        var _this = _super.call(this, widget) || this;\n        _this._activeFeatureInfo = null;\n        _this._featureClickEvent = function (type, featureInfo) { return function () {\n            var pane = _this.getWidget().getPane();\n            pane.getChart().getChartStore().executeAction(type, featureInfo);\n            return true;\n        }; };\n        _this._featureMouseMoveEvent = function (featureInfo) { return function () {\n            _this._activeFeatureInfo = featureInfo;\n            return true;\n        }; };\n        _this.registerEvent('mouseMoveEvent', function (_) {\n            _this._activeFeatureInfo = null;\n            return false;\n        });\n        return _this;\n    }\n    IndicatorTooltipView.prototype.drawImp = function (ctx) {\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var crosshair = chartStore.getCrosshair();\n        if (isValid(crosshair.kLineData)) {\n            var bounding = widget.getBounding();\n            var _a = chartStore.getStyles().indicator.tooltip, offsetLeft = _a.offsetLeft, offsetTop = _a.offsetTop, offsetRight = _a.offsetRight;\n            this.drawIndicatorTooltip(ctx, offsetLeft, offsetTop, bounding.width - offsetRight);\n        }\n    };\n    IndicatorTooltipView.prototype.drawIndicatorTooltip = function (ctx, left, top, maxWidth) {\n        var _this = this;\n        var pane = this.getWidget().getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var styles = chartStore.getStyles().indicator;\n        var tooltipStyles = styles.tooltip;\n        if (this.isDrawTooltip(chartStore.getCrosshair(), tooltipStyles)) {\n            var indicators = chartStore.getIndicatorsByPaneId(pane.getId());\n            var tooltipTitleStyles_1 = tooltipStyles.title;\n            var tooltipLegendStyles_1 = tooltipStyles.legend;\n            indicators.forEach(function (indicator) {\n                var prevRowHeight = 0;\n                var coordinate = { x: left, y: top };\n                var _a = _this.getIndicatorTooltipData(indicator), name = _a.name, calcParamsText = _a.calcParamsText, legends = _a.legends, featuresStyles = _a.features;\n                var nameValid = name.length > 0;\n                var legendValid = legends.length > 0;\n                if (nameValid || legendValid) {\n                    var features = _this.classifyTooltipFeatures(featuresStyles);\n                    prevRowHeight = _this.drawStandardTooltipFeatures(ctx, features[0], coordinate, indicator, left, prevRowHeight, maxWidth);\n                    if (nameValid) {\n                        var text = name;\n                        if (calcParamsText.length > 0) {\n                            text = \"\".concat(text).concat(calcParamsText);\n                        }\n                        var color = tooltipTitleStyles_1.color;\n                        prevRowHeight = _this.drawStandardTooltipLegends(ctx, [\n                            {\n                                title: { text: '', color: color },\n                                value: { text: text, color: color }\n                            }\n                        ], coordinate, left, prevRowHeight, maxWidth, tooltipTitleStyles_1);\n                    }\n                    prevRowHeight = _this.drawStandardTooltipFeatures(ctx, features[1], coordinate, indicator, left, prevRowHeight, maxWidth);\n                    if (legendValid) {\n                        prevRowHeight = _this.drawStandardTooltipLegends(ctx, legends, coordinate, left, prevRowHeight, maxWidth, tooltipLegendStyles_1);\n                    }\n                    // draw right features\n                    prevRowHeight = _this.drawStandardTooltipFeatures(ctx, features[2], coordinate, indicator, left, prevRowHeight, maxWidth);\n                    top = coordinate.y + prevRowHeight;\n                }\n            });\n        }\n        return top;\n    };\n    IndicatorTooltipView.prototype.drawStandardTooltipFeatures = function (ctx, features, coordinate, indicator, left, prevRowHeight, maxWidth) {\n        var _this = this;\n        if (features.length > 0) {\n            var width_1 = 0;\n            var height_1 = 0;\n            features.forEach(function (feature) {\n                var _a = feature.marginLeft, marginLeft = _a === void 0 ? 0 : _a, _b = feature.marginTop, marginTop = _b === void 0 ? 0 : _b, _c = feature.marginRight, marginRight = _c === void 0 ? 0 : _c, _d = feature.marginBottom, marginBottom = _d === void 0 ? 0 : _d, _e = feature.paddingLeft, paddingLeft = _e === void 0 ? 0 : _e, _f = feature.paddingTop, paddingTop = _f === void 0 ? 0 : _f, _g = feature.paddingRight, paddingRight = _g === void 0 ? 0 : _g, _h = feature.paddingBottom, paddingBottom = _h === void 0 ? 0 : _h, _j = feature.size, size = _j === void 0 ? 0 : _j, type = feature.type, content = feature.content;\n                var contentWidth = 0;\n                if (type === 'icon_font') {\n                    var iconFont = content;\n                    ctx.font = createFont(size, 'normal', iconFont.family);\n                    contentWidth = ctx.measureText(iconFont.code).width;\n                }\n                else {\n                    contentWidth = size;\n                }\n                width_1 += (marginLeft + paddingLeft + contentWidth + paddingRight + marginRight);\n                height_1 = Math.max(height_1, marginTop + paddingTop + size + paddingBottom + marginBottom);\n            });\n            if (coordinate.x + width_1 > maxWidth) {\n                coordinate.x = left;\n                coordinate.y += prevRowHeight;\n                prevRowHeight = height_1;\n            }\n            else {\n                prevRowHeight = Math.max(prevRowHeight, height_1);\n            }\n            var pane = this.getWidget().getPane();\n            var paneId_1 = pane.getId();\n            features.forEach(function (feature) {\n                var _a, _b, _c, _d, _e;\n                var _f = feature.marginLeft, marginLeft = _f === void 0 ? 0 : _f, _g = feature.marginTop, marginTop = _g === void 0 ? 0 : _g, _h = feature.marginRight, marginRight = _h === void 0 ? 0 : _h, _j = feature.paddingLeft, paddingLeft = _j === void 0 ? 0 : _j, _k = feature.paddingTop, paddingTop = _k === void 0 ? 0 : _k, _l = feature.paddingRight, paddingRight = _l === void 0 ? 0 : _l, _m = feature.paddingBottom, paddingBottom = _m === void 0 ? 0 : _m, backgroundColor = feature.backgroundColor, activeBackgroundColor = feature.activeBackgroundColor, borderRadius = feature.borderRadius, _o = feature.size, size = _o === void 0 ? 0 : _o, color = feature.color, activeColor = feature.activeColor, type = feature.type, content = feature.content;\n                var finalColor = color;\n                var finalBackgroundColor = backgroundColor;\n                if (((_a = _this._activeFeatureInfo) === null || _a === void 0 ? void 0 : _a.paneId) === paneId_1 &&\n                    ((_b = _this._activeFeatureInfo.indicator) === null || _b === void 0 ? void 0 : _b.id) === (indicator === null || indicator === void 0 ? void 0 : indicator.id) &&\n                    _this._activeFeatureInfo.feature.id === feature.id) {\n                    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n                    finalColor = activeColor !== null && activeColor !== void 0 ? activeColor : color;\n                    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n                    finalBackgroundColor = activeBackgroundColor !== null && activeBackgroundColor !== void 0 ? activeBackgroundColor : backgroundColor;\n                }\n                var actionType = 'onCandleTooltipFeatureClick';\n                var featureInfo = {\n                    paneId: paneId_1,\n                    feature: feature\n                };\n                if (isValid(indicator)) {\n                    actionType = 'onIndicatorTooltipFeatureClick';\n                    featureInfo.indicator = indicator;\n                }\n                var eventHandler = {\n                    mouseDownEvent: _this._featureClickEvent(actionType, featureInfo),\n                    mouseMoveEvent: _this._featureMouseMoveEvent(featureInfo)\n                };\n                var contentWidth = 0;\n                if (type === 'icon_font') {\n                    var iconFont = content;\n                    (_c = _this.createFigure({\n                        name: 'text',\n                        attrs: { text: iconFont.code, x: coordinate.x + marginLeft, y: coordinate.y + marginTop },\n                        styles: {\n                            paddingLeft: paddingLeft,\n                            paddingTop: paddingTop,\n                            paddingRight: paddingRight,\n                            paddingBottom: paddingBottom,\n                            borderRadius: borderRadius,\n                            size: size,\n                            family: iconFont.family,\n                            color: finalColor,\n                            backgroundColor: finalBackgroundColor\n                        }\n                    }, eventHandler)) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n                    contentWidth = ctx.measureText(iconFont.code).width;\n                }\n                else {\n                    (_d = _this.createFigure({\n                        name: 'rect',\n                        attrs: { x: coordinate.x + marginLeft, y: coordinate.y + marginTop, width: size, height: size },\n                        styles: {\n                            paddingLeft: paddingLeft,\n                            paddingTop: paddingTop,\n                            paddingRight: paddingRight,\n                            paddingBottom: paddingBottom,\n                            color: finalBackgroundColor\n                        }\n                    }, eventHandler)) === null || _d === void 0 ? void 0 : _d.draw(ctx);\n                    var path = content;\n                    (_e = _this.createFigure({\n                        name: 'path',\n                        attrs: { path: path.path, x: coordinate.x + marginLeft + paddingLeft, y: coordinate.y + marginTop + paddingTop, width: size, height: size },\n                        styles: {\n                            style: path.style,\n                            lineWidth: path.lineWidth,\n                            color: finalColor\n                        }\n                    })) === null || _e === void 0 ? void 0 : _e.draw(ctx);\n                    contentWidth = size;\n                }\n                coordinate.x += (marginLeft + paddingLeft + contentWidth + paddingRight + marginRight);\n            });\n        }\n        return prevRowHeight;\n    };\n    IndicatorTooltipView.prototype.drawStandardTooltipLegends = function (ctx, legends, coordinate, left, prevRowHeight, maxWidth, styles) {\n        var _this = this;\n        if (legends.length > 0) {\n            var marginLeft_1 = styles.marginLeft, marginTop_1 = styles.marginTop, marginRight_1 = styles.marginRight, marginBottom_1 = styles.marginBottom, size_1 = styles.size, family_1 = styles.family, weight_1 = styles.weight;\n            ctx.font = createFont(size_1, weight_1, family_1);\n            legends.forEach(function (data) {\n                var _a, _b;\n                var title = data.title;\n                var value = data.value;\n                var titleTextWidth = ctx.measureText(title.text).width;\n                var valueTextWidth = ctx.measureText(value.text).width;\n                var totalTextWidth = titleTextWidth + valueTextWidth;\n                var h = marginTop_1 + size_1 + marginBottom_1;\n                if (coordinate.x + marginLeft_1 + totalTextWidth + marginRight_1 > maxWidth) {\n                    coordinate.x = left;\n                    coordinate.y += prevRowHeight;\n                    prevRowHeight = h;\n                }\n                else {\n                    prevRowHeight = Math.max(prevRowHeight, h);\n                }\n                if (title.text.length > 0) {\n                    (_a = _this.createFigure({\n                        name: 'text',\n                        attrs: { x: coordinate.x + marginLeft_1, y: coordinate.y + marginTop_1, text: title.text },\n                        styles: { color: title.color, size: size_1, family: family_1, weight: weight_1 }\n                    })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                }\n                (_b = _this.createFigure({\n                    name: 'text',\n                    attrs: { x: coordinate.x + marginLeft_1 + titleTextWidth, y: coordinate.y + marginTop_1, text: value.text },\n                    styles: { color: value.color, size: size_1, family: family_1, weight: weight_1 }\n                })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                coordinate.x += (marginLeft_1 + totalTextWidth + marginRight_1);\n            });\n        }\n        return prevRowHeight;\n    };\n    IndicatorTooltipView.prototype.isDrawTooltip = function (crosshair, styles) {\n        var showRule = styles.showRule;\n        return showRule === 'always' ||\n            (showRule === 'follow_cross' && isString(crosshair.paneId));\n    };\n    IndicatorTooltipView.prototype.getIndicatorTooltipData = function (indicator) {\n        var _a;\n        var chartStore = this.getWidget().getPane().getChart().getChartStore();\n        var styles = chartStore.getStyles().indicator;\n        var tooltipStyles = styles.tooltip;\n        var tooltipTitleStyles = tooltipStyles.title;\n        var name = '';\n        var calcParamsText = '';\n        if (tooltipTitleStyles.show) {\n            if (tooltipTitleStyles.showName) {\n                name = indicator.shortName;\n            }\n            if (tooltipTitleStyles.showParams) {\n                var calcParams = indicator.calcParams;\n                if (calcParams.length > 0) {\n                    calcParamsText = \"(\".concat(calcParams.join(','), \")\");\n                }\n            }\n        }\n        var tooltipData = { name: name, calcParamsText: calcParamsText, legends: [], features: tooltipStyles.features };\n        var dataIndex = chartStore.getCrosshair().dataIndex;\n        var result = indicator.result;\n        var formatter = chartStore.getInnerFormatter();\n        var decimalFold = chartStore.getDecimalFold();\n        var thousandsSeparator = chartStore.getThousandsSeparator();\n        var legends = [];\n        if (indicator.visible) {\n            var data_1 = (_a = result[dataIndex]) !== null && _a !== void 0 ? _a : {};\n            var defaultValue_1 = tooltipStyles.legend.defaultValue;\n            eachFigures(indicator, dataIndex, styles, function (figure, figureStyles) {\n                if (isString(figure.title)) {\n                    var color = figureStyles.color;\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment  -- ignore\n                    var value = data_1[figure.key];\n                    if (isNumber(value)) {\n                        value = formatPrecision(value, indicator.precision);\n                        if (indicator.shouldFormatBigNumber) {\n                            value = formatter.formatBigNumber(value);\n                        }\n                        value = decimalFold.format(thousandsSeparator.format(value));\n                    }\n                    legends.push({ title: { text: figure.title, color: color }, value: { text: (value !== null && value !== void 0 ? value : defaultValue_1), color: color } });\n                }\n            });\n            tooltipData.legends = legends;\n        }\n        if (isFunction(indicator.createTooltipDataSource)) {\n            var widget = this.getWidget();\n            var pane = widget.getPane();\n            var chart = pane.getChart();\n            var _b = indicator.createTooltipDataSource({\n                chart: chart,\n                indicator: indicator,\n                crosshair: chartStore.getCrosshair(),\n                bounding: widget.getBounding(),\n                xAxis: pane.getChart().getXAxisPane().getAxisComponent(),\n                yAxis: pane.getAxisComponent()\n            }), customName = _b.name, customCalcParamsText = _b.calcParamsText, customLegends = _b.legends, customFeatures = _b.features;\n            if (tooltipTitleStyles.show) {\n                if (isString(customName) && tooltipTitleStyles.showName) {\n                    tooltipData.name = customName;\n                }\n                if (isString(customCalcParamsText) && tooltipTitleStyles.showParams) {\n                    tooltipData.calcParamsText = customCalcParamsText;\n                }\n            }\n            if (isValid(customFeatures)) {\n                tooltipData.features = customFeatures;\n            }\n            if (isValid(customLegends) && indicator.visible) {\n                var optimizedLegends_1 = [];\n                var color_1 = styles.tooltip.legend.color;\n                customLegends.forEach(function (data) {\n                    var title = { text: '', color: color_1 };\n                    if (isObject(data.title)) {\n                        title = data.title;\n                    }\n                    else {\n                        title.text = data.title;\n                    }\n                    var value = { text: '', color: color_1 };\n                    if (isObject(data.value)) {\n                        value = data.value;\n                    }\n                    else {\n                        value.text = data.value;\n                    }\n                    if (isNumber(Number(value.text))) {\n                        value.text = decimalFold.format(thousandsSeparator.format(value.text));\n                    }\n                    optimizedLegends_1.push({ title: title, value: value });\n                });\n                tooltipData.legends = optimizedLegends_1;\n            }\n        }\n        return tooltipData;\n    };\n    IndicatorTooltipView.prototype.classifyTooltipFeatures = function (features) {\n        var leftFeatures = [];\n        var middleFeatures = [];\n        var rightFeatures = [];\n        features.forEach(function (feature) {\n            switch (feature.position) {\n                case 'left': {\n                    leftFeatures.push(feature);\n                    break;\n                }\n                case 'middle': {\n                    middleFeatures.push(feature);\n                    break;\n                }\n                case 'right': {\n                    rightFeatures.push(feature);\n                    break;\n                }\n            }\n        });\n        return [leftFeatures, middleFeatures, rightFeatures];\n    };\n    return IndicatorTooltipView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar OverlayView = /** @class */ (function (_super) {\n    __extends(OverlayView, _super);\n    function OverlayView(widget) {\n        var _this = _super.call(this, widget) || this;\n        _this._initEvent();\n        return _this;\n    }\n    OverlayView.prototype._initEvent = function () {\n        var _this = this;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var paneId = pane.getId();\n        var chart = pane.getChart();\n        var chartStore = chart.getChartStore();\n        this.registerEvent('mouseMoveEvent', function (event) {\n            var _a;\n            var progressOverlayInfo = chartStore.getProgressOverlayInfo();\n            if (progressOverlayInfo !== null) {\n                var overlay = progressOverlayInfo.overlay;\n                var progressOverlayPaneId = progressOverlayInfo.paneId;\n                if (overlay.isStart()) {\n                    chartStore.updateProgressOverlayInfo(paneId);\n                    progressOverlayPaneId = paneId;\n                }\n                var index = overlay.points.length - 1;\n                if (overlay.isDrawing() && progressOverlayPaneId === paneId) {\n                    overlay.eventMoveForDrawing(_this._coordinateToPoint(overlay, event));\n                    (_a = overlay.onDrawing) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ chart: chart, overlay: overlay }, event));\n                }\n                return _this._figureMouseMoveEvent(overlay, 'point', index, { key: \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index), type: 'circle', attrs: {} })(event);\n            }\n            chartStore.setHoverOverlayInfo({\n                paneId: paneId,\n                overlay: null,\n                figureType: 'none',\n                figureIndex: -1,\n                figure: null\n            }, function (o, f) { return _this._processOverlayMouseEnterEvent(o, f, event); }, function (o, f) { return _this._processOverlayMouseLeaveEvent(o, f, event); });\n            widget.setForceCursor(null);\n            return false;\n        }).registerEvent('mouseClickEvent', function (event) {\n            var _a, _b;\n            var progressOverlayInfo = chartStore.getProgressOverlayInfo();\n            if (progressOverlayInfo !== null) {\n                var overlay = progressOverlayInfo.overlay;\n                var progressOverlayPaneId = progressOverlayInfo.paneId;\n                if (overlay.isStart()) {\n                    chartStore.updateProgressOverlayInfo(paneId, true);\n                    progressOverlayPaneId = paneId;\n                }\n                var index = overlay.points.length - 1;\n                if (overlay.isDrawing() && progressOverlayPaneId === paneId) {\n                    overlay.eventMoveForDrawing(_this._coordinateToPoint(overlay, event));\n                    (_a = overlay.onDrawing) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ chart: chart, overlay: overlay }, event));\n                    overlay.nextStep();\n                    if (!overlay.isDrawing()) {\n                        chartStore.progressOverlayComplete();\n                        (_b = overlay.onDrawEnd) === null || _b === void 0 ? void 0 : _b.call(overlay, __assign({ chart: chart, overlay: overlay }, event));\n                    }\n                }\n                return _this._figureMouseClickEvent(overlay, 'point', index, {\n                    key: \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index),\n                    type: 'circle',\n                    attrs: {}\n                })(event);\n            }\n            chartStore.setClickOverlayInfo({\n                paneId: paneId,\n                overlay: null,\n                figureType: 'none',\n                figureIndex: -1,\n                figure: null\n            }, function (o, f) { return _this._processOverlaySelectedEvent(o, f, event); }, function (o, f) { return _this._processOverlayDeselectedEvent(o, f, event); });\n            return false;\n        }).registerEvent('mouseDoubleClickEvent', function (event) {\n            var _a;\n            var progressOverlayInfo = chartStore.getProgressOverlayInfo();\n            if (progressOverlayInfo !== null) {\n                var overlay = progressOverlayInfo.overlay;\n                var progressOverlayPaneId = progressOverlayInfo.paneId;\n                if (overlay.isDrawing() && progressOverlayPaneId === paneId) {\n                    overlay.forceComplete();\n                    if (!overlay.isDrawing()) {\n                        chartStore.progressOverlayComplete();\n                        (_a = overlay.onDrawEnd) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ chart: chart, overlay: overlay }, event));\n                    }\n                }\n                var index = overlay.points.length - 1;\n                return _this._figureMouseClickEvent(overlay, 'point', index, {\n                    key: \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index),\n                    type: 'circle',\n                    attrs: {}\n                })(event);\n            }\n            return false;\n        }).registerEvent('mouseRightClickEvent', function (event) {\n            var progressOverlayInfo = chartStore.getProgressOverlayInfo();\n            if (progressOverlayInfo !== null) {\n                var overlay = progressOverlayInfo.overlay;\n                if (overlay.isDrawing()) {\n                    var index = overlay.points.length - 1;\n                    return _this._figureMouseRightClickEvent(overlay, 'point', index, {\n                        key: \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index),\n                        type: 'circle',\n                        attrs: {}\n                    })(event);\n                }\n            }\n            return false;\n        }).registerEvent('mouseUpEvent', function (event) {\n            var _a;\n            var _b = chartStore.getPressedOverlayInfo(), overlay = _b.overlay, figure = _b.figure;\n            if (overlay !== null) {\n                if (checkOverlayFigureEvent('onPressedMoveEnd', figure)) {\n                    (_a = overlay.onPressedMoveEnd) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ chart: chart, overlay: overlay, figure: figure !== null && figure !== void 0 ? figure : undefined }, event));\n                }\n            }\n            chartStore.setPressedOverlayInfo({\n                paneId: paneId,\n                overlay: null,\n                figureType: 'none',\n                figureIndex: -1,\n                figure: null\n            });\n            return false;\n        }).registerEvent('pressedMouseMoveEvent', function (event) {\n            var _a;\n            var _b = chartStore.getPressedOverlayInfo(), overlay = _b.overlay, figureType = _b.figureType, figureIndex = _b.figureIndex, figure = _b.figure;\n            if (overlay !== null) {\n                if (checkOverlayFigureEvent('onPressedMoving', figure)) {\n                    if (!overlay.lock) {\n                        var point = _this._coordinateToPoint(overlay, event);\n                        if (figureType === 'point') {\n                            overlay.eventPressedPointMove(point, figureIndex);\n                        }\n                        else {\n                            overlay.eventPressedOtherMove(point, _this.getWidget().getPane().getChart().getChartStore());\n                        }\n                        var prevented_1 = false;\n                        (_a = overlay.onPressedMoving) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign(__assign({ chart: chart, overlay: overlay, figure: figure !== null && figure !== void 0 ? figure : undefined }, event), { preventDefault: function () { prevented_1 = true; } }));\n                        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n                        if (prevented_1) {\n                            _this.getWidget().setForceCursor(null);\n                        }\n                        else {\n                            _this.getWidget().setForceCursor('pointer');\n                        }\n                    }\n                    return true;\n                }\n            }\n            _this.getWidget().setForceCursor(null);\n            return false;\n        });\n    };\n    OverlayView.prototype._createFigureEvents = function (overlay, figureType, figureIndex, figure) {\n        if (overlay.isDrawing()) {\n            return null;\n        }\n        return {\n            mouseMoveEvent: this._figureMouseMoveEvent(overlay, figureType, figureIndex, figure),\n            mouseDownEvent: this._figureMouseDownEvent(overlay, figureType, figureIndex, figure),\n            mouseClickEvent: this._figureMouseClickEvent(overlay, figureType, figureIndex, figure),\n            mouseRightClickEvent: this._figureMouseRightClickEvent(overlay, figureType, figureIndex, figure),\n            mouseDoubleClickEvent: this._figureMouseDoubleClickEvent(overlay, figureType, figureIndex, figure)\n        };\n    };\n    OverlayView.prototype._processOverlayMouseEnterEvent = function (overlay, figure, event) {\n        if (isFunction(overlay.onMouseEnter) && checkOverlayFigureEvent('onMouseEnter', figure)) {\n            overlay.onMouseEnter(__assign({ chart: this.getWidget().getPane().getChart(), overlay: overlay, figure: figure !== null && figure !== void 0 ? figure : undefined }, event));\n            return true;\n        }\n        return false;\n    };\n    OverlayView.prototype._processOverlayMouseLeaveEvent = function (overlay, figure, event) {\n        if (isFunction(overlay.onMouseLeave) && checkOverlayFigureEvent('onMouseLeave', figure)) {\n            overlay.onMouseLeave(__assign({ chart: this.getWidget().getPane().getChart(), overlay: overlay, figure: figure !== null && figure !== void 0 ? figure : undefined }, event));\n            return true;\n        }\n        return false;\n    };\n    OverlayView.prototype._processOverlaySelectedEvent = function (overlay, figure, event) {\n        var _a;\n        if (checkOverlayFigureEvent('onSelected', figure)) {\n            (_a = overlay.onSelected) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ chart: this.getWidget().getPane().getChart(), overlay: overlay, figure: figure !== null && figure !== void 0 ? figure : undefined }, event));\n            return true;\n        }\n        return false;\n    };\n    OverlayView.prototype._processOverlayDeselectedEvent = function (overlay, figure, event) {\n        var _a;\n        if (checkOverlayFigureEvent('onDeselected', figure)) {\n            (_a = overlay.onDeselected) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ chart: this.getWidget().getPane().getChart(), overlay: overlay, figure: figure !== null && figure !== void 0 ? figure : undefined }, event));\n            return true;\n        }\n        return false;\n    };\n    OverlayView.prototype._figureMouseMoveEvent = function (overlay, figureType, figureIndex, figure) {\n        var _this = this;\n        return function (event) {\n            var _a;\n            var pane = _this.getWidget().getPane();\n            var check = !overlay.isDrawing() && checkOverlayFigureEvent('onMouseMove', figure);\n            if (check) {\n                var prevented_2 = false;\n                (_a = overlay.onMouseMove) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign(__assign({ chart: pane.getChart(), overlay: overlay, figure: figure }, event), { preventDefault: function () { prevented_2 = true; } }));\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n                if (prevented_2) {\n                    _this.getWidget().setForceCursor(null);\n                }\n                else {\n                    _this.getWidget().setForceCursor('pointer');\n                }\n            }\n            pane.getChart().getChartStore().setHoverOverlayInfo({ paneId: pane.getId(), overlay: overlay, figureType: figureType, figure: figure, figureIndex: figureIndex }, function (o, f) { return _this._processOverlayMouseEnterEvent(o, f, event); }, function (o, f) { return _this._processOverlayMouseLeaveEvent(o, f, event); });\n            return check;\n        };\n    };\n    OverlayView.prototype._figureMouseDownEvent = function (overlay, figureType, figureIndex, figure) {\n        var _this = this;\n        return function (event) {\n            var _a;\n            var pane = _this.getWidget().getPane();\n            var paneId = pane.getId();\n            overlay.startPressedMove(_this._coordinateToPoint(overlay, event));\n            if (checkOverlayFigureEvent('onPressedMoveStart', figure)) {\n                (_a = overlay.onPressedMoveStart) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ chart: pane.getChart(), overlay: overlay, figure: figure }, event));\n                pane.getChart().getChartStore().setPressedOverlayInfo({ paneId: paneId, overlay: overlay, figureType: figureType, figureIndex: figureIndex, figure: figure });\n                return !overlay.isDrawing();\n            }\n            return false;\n        };\n    };\n    OverlayView.prototype._figureMouseClickEvent = function (overlay, figureType, figureIndex, figure) {\n        var _this = this;\n        return function (event) {\n            var _a;\n            var pane = _this.getWidget().getPane();\n            var paneId = pane.getId();\n            var check = !overlay.isDrawing() && checkOverlayFigureEvent('onClick', figure);\n            if (check) {\n                (_a = overlay.onClick) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ chart: _this.getWidget().getPane().getChart(), overlay: overlay, figure: figure }, event));\n            }\n            pane.getChart().getChartStore().setClickOverlayInfo({ paneId: paneId, overlay: overlay, figureType: figureType, figureIndex: figureIndex, figure: figure }, function (o, f) { return _this._processOverlaySelectedEvent(o, f, event); }, function (o, f) { return _this._processOverlayDeselectedEvent(o, f, event); });\n            return check;\n        };\n    };\n    OverlayView.prototype._figureMouseDoubleClickEvent = function (overlay, _figureType, _figureIndex, figure) {\n        var _this = this;\n        return function (event) {\n            var _a;\n            if (checkOverlayFigureEvent('onDoubleClick', figure)) {\n                (_a = overlay.onDoubleClick) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign(__assign({}, event), { chart: _this.getWidget().getPane().getChart(), figure: figure, overlay: overlay }));\n                return !overlay.isDrawing();\n            }\n            return false;\n        };\n    };\n    OverlayView.prototype._figureMouseRightClickEvent = function (overlay, _figureType, _figureIndex, figure) {\n        var _this = this;\n        return function (event) {\n            var _a;\n            if (checkOverlayFigureEvent('onRightClick', figure)) {\n                var prevented_3 = false;\n                (_a = overlay.onRightClick) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign(__assign({ chart: _this.getWidget().getPane().getChart(), overlay: overlay, figure: figure }, event), { preventDefault: function () { prevented_3 = true; } }));\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n                if (!prevented_3) {\n                    _this.getWidget().getPane().getChart().getChartStore().removeOverlay(overlay);\n                }\n                return !overlay.isDrawing();\n            }\n            return false;\n        };\n    };\n    OverlayView.prototype._coordinateToPoint = function (o, coordinate) {\n        var _a;\n        var point = {};\n        var pane = this.getWidget().getPane();\n        var chart = pane.getChart();\n        var paneId = pane.getId();\n        var chartStore = chart.getChartStore();\n        if (this.coordinateToPointTimestampDataIndexFlag()) {\n            var xAxis = chart.getXAxisPane().getAxisComponent();\n            var dataIndex = xAxis.convertFromPixel(coordinate.x);\n            var timestamp = (_a = chartStore.dataIndexToTimestamp(dataIndex)) !== null && _a !== void 0 ? _a : undefined;\n            point.timestamp = timestamp;\n            point.dataIndex = dataIndex;\n        }\n        if (this.coordinateToPointValueFlag()) {\n            var yAxis = pane.getAxisComponent();\n            var value = yAxis.convertFromPixel(coordinate.y);\n            if (o.mode !== 'normal' && paneId === PaneIdConstants.CANDLE && isNumber(point.dataIndex)) {\n                var kLineData = chartStore.getDataByDataIndex(point.dataIndex);\n                if (kLineData !== null) {\n                    var modeSensitivity = o.modeSensitivity;\n                    if (value > kLineData.high) {\n                        if (o.mode === 'weak_magnet') {\n                            var highY = yAxis.convertToPixel(kLineData.high);\n                            var buffValue = yAxis.convertFromPixel(highY - modeSensitivity);\n                            if (value < buffValue) {\n                                value = kLineData.high;\n                            }\n                        }\n                        else {\n                            value = kLineData.high;\n                        }\n                    }\n                    else if (value < kLineData.low) {\n                        if (o.mode === 'weak_magnet') {\n                            var lowY = yAxis.convertToPixel(kLineData.low);\n                            var buffValue = yAxis.convertFromPixel(lowY - modeSensitivity);\n                            if (value > buffValue) {\n                                value = kLineData.low;\n                            }\n                        }\n                        else {\n                            value = kLineData.low;\n                        }\n                    }\n                    else {\n                        var max = Math.max(kLineData.open, kLineData.close);\n                        var min = Math.min(kLineData.open, kLineData.close);\n                        if (value > max) {\n                            if (value - max < kLineData.high - value) {\n                                value = max;\n                            }\n                            else {\n                                value = kLineData.high;\n                            }\n                        }\n                        else if (value < min) {\n                            if (value - kLineData.low < min - value) {\n                                value = kLineData.low;\n                            }\n                            else {\n                                value = min;\n                            }\n                        }\n                        else if (max - value < value - min) {\n                            value = max;\n                        }\n                        else {\n                            value = min;\n                        }\n                    }\n                }\n            }\n            point.value = value;\n        }\n        return point;\n    };\n    OverlayView.prototype.coordinateToPointValueFlag = function () {\n        return true;\n    };\n    OverlayView.prototype.coordinateToPointTimestampDataIndexFlag = function () {\n        return true;\n    };\n    OverlayView.prototype.dispatchEvent = function (name, event) {\n        if (this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()) {\n            return this.onEvent(name, event);\n        }\n        return _super.prototype.dispatchEvent.call(this, name, event);\n    };\n    OverlayView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var overlays = this.getCompleteOverlays();\n        overlays.forEach(function (overlay) {\n            if (overlay.visible) {\n                _this._drawOverlay(ctx, overlay);\n            }\n        });\n        var progressOverlay = this.getProgressOverlay();\n        if (isValid(progressOverlay) && progressOverlay.visible) {\n            this._drawOverlay(ctx, progressOverlay);\n        }\n    };\n    OverlayView.prototype._drawOverlay = function (ctx, overlay) {\n        var points = overlay.points;\n        var pane = this.getWidget().getPane();\n        var chart = pane.getChart();\n        var chartStore = chart.getChartStore();\n        var yAxis = pane.getAxisComponent();\n        var xAxis = chart.getXAxisPane().getAxisComponent();\n        var coordinates = points.map(function (point) {\n            var _a;\n            var dataIndex = null;\n            if (isNumber(point.timestamp)) {\n                dataIndex = chartStore.timestampToDataIndex(point.timestamp);\n            }\n            var coordinate = { x: 0, y: 0 };\n            if (isNumber(dataIndex)) {\n                coordinate.x = xAxis.convertToPixel(dataIndex);\n            }\n            if (isNumber(point.value)) {\n                coordinate.y = (_a = yAxis === null || yAxis === void 0 ? void 0 : yAxis.convertToPixel(point.value)) !== null && _a !== void 0 ? _a : 0;\n            }\n            return coordinate;\n        });\n        if (coordinates.length > 0) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n            // @ts-expect-error\n            var figures = [].concat(this.getFigures(overlay, coordinates));\n            this.drawFigures(ctx, overlay, figures);\n        }\n        this.drawDefaultFigures(ctx, overlay, coordinates);\n    };\n    OverlayView.prototype.drawFigures = function (ctx, overlay, figures) {\n        var _this = this;\n        var defaultStyles = this.getWidget().getPane().getChart().getStyles().overlay;\n        figures.forEach(function (figure, figureIndex) {\n            var type = figure.type, styles = figure.styles, attrs = figure.attrs;\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n            // @ts-expect-error\n            var attrsArray = [].concat(attrs);\n            attrsArray.forEach(function (ats) {\n                var _a, _b;\n                var events = _this._createFigureEvents(overlay, 'other', figureIndex, figure);\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n                // @ts-expect-error\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                var ss = __assign(__assign(__assign({}, defaultStyles[type]), (_a = overlay.styles) === null || _a === void 0 ? void 0 : _a[type]), styles);\n                (_b = _this.createFigure({\n                    name: type, attrs: ats, styles: ss\n                }, events !== null && events !== void 0 ? events : undefined)) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n            });\n        });\n    };\n    OverlayView.prototype.getCompleteOverlays = function () {\n        var pane = this.getWidget().getPane();\n        return pane.getChart().getChartStore().getOverlaysByPaneId(pane.getId());\n    };\n    OverlayView.prototype.getProgressOverlay = function () {\n        var pane = this.getWidget().getPane();\n        var info = pane.getChart().getChartStore().getProgressOverlayInfo();\n        if (isValid(info) && info.paneId === pane.getId()) {\n            return info.overlay;\n        }\n        return null;\n    };\n    OverlayView.prototype.getFigures = function (o, coordinates) {\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chart = pane.getChart();\n        var yAxis = pane.getAxisComponent();\n        var xAxis = chart.getXAxisPane().getAxisComponent();\n        var bounding = widget.getBounding();\n        return (_b = (_a = o.createPointFigures) === null || _a === void 0 ? void 0 : _a.call(o, { chart: chart, overlay: o, coordinates: coordinates, bounding: bounding, xAxis: xAxis, yAxis: yAxis })) !== null && _b !== void 0 ? _b : [];\n    };\n    OverlayView.prototype.drawDefaultFigures = function (ctx, overlay, coordinates) {\n        var _this = this;\n        var _a, _b;\n        if (overlay.needDefaultPointFigure) {\n            var chartStore = this.getWidget().getPane().getChart().getChartStore();\n            var hoverOverlayInfo_1 = chartStore.getHoverOverlayInfo();\n            var clickOverlayInfo = chartStore.getClickOverlayInfo();\n            if ((((_a = hoverOverlayInfo_1.overlay) === null || _a === void 0 ? void 0 : _a.id) === overlay.id && hoverOverlayInfo_1.figureType !== 'none') ||\n                (((_b = clickOverlayInfo.overlay) === null || _b === void 0 ? void 0 : _b.id) === overlay.id && clickOverlayInfo.figureType !== 'none')) {\n                var defaultStyles = chartStore.getStyles().overlay;\n                var styles = overlay.styles;\n                var pointStyles_1 = __assign(__assign({}, defaultStyles.point), styles === null || styles === void 0 ? void 0 : styles.point);\n                coordinates.forEach(function (_a, index) {\n                    var _b, _c, _d, _e, _f;\n                    var x = _a.x, y = _a.y;\n                    var radius = pointStyles_1.radius;\n                    var color = pointStyles_1.color;\n                    var borderColor = pointStyles_1.borderColor;\n                    var borderSize = pointStyles_1.borderSize;\n                    if (((_b = hoverOverlayInfo_1.overlay) === null || _b === void 0 ? void 0 : _b.id) === overlay.id &&\n                        hoverOverlayInfo_1.figureType === 'point' &&\n                        ((_c = hoverOverlayInfo_1.figure) === null || _c === void 0 ? void 0 : _c.key) === \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index)) {\n                        radius = pointStyles_1.activeRadius;\n                        color = pointStyles_1.activeColor;\n                        borderColor = pointStyles_1.activeBorderColor;\n                        borderSize = pointStyles_1.activeBorderSize;\n                    }\n                    (_e = _this.createFigure({\n                        name: 'circle',\n                        attrs: { x: x, y: y, r: radius + borderSize },\n                        styles: { color: borderColor }\n                    }, (_d = _this._createFigureEvents(overlay, 'point', index, {\n                        key: \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index),\n                        type: 'circle',\n                        attrs: { x: x, y: y, r: radius + borderSize },\n                        styles: { color: borderColor }\n                    })) !== null && _d !== void 0 ? _d : undefined)) === null || _e === void 0 ? void 0 : _e.draw(ctx);\n                    (_f = _this.createFigure({\n                        name: 'circle',\n                        attrs: { x: x, y: y, r: radius },\n                        styles: { color: color }\n                    })) === null || _f === void 0 ? void 0 : _f.draw(ctx);\n                });\n            }\n        }\n    };\n    return OverlayView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorWidget = /** @class */ (function (_super) {\n    __extends(IndicatorWidget, _super);\n    function IndicatorWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._gridView = new GridView(_this);\n        _this._indicatorView = new IndicatorView(_this);\n        _this._crosshairLineView = new CrosshairLineView(_this);\n        _this._tooltipView = _this.createTooltipView();\n        _this._overlayView = new OverlayView(_this);\n        _this.addChild(_this._tooltipView);\n        _this.addChild(_this._overlayView);\n        return _this;\n    }\n    IndicatorWidget.prototype.getName = function () {\n        return WidgetNameConstants.MAIN;\n    };\n    IndicatorWidget.prototype.updateMain = function (ctx) {\n        if (this.getPane().getOptions().state !== 'minimize') {\n            this.updateMainContent(ctx);\n            this._indicatorView.draw(ctx);\n            this._gridView.draw(ctx);\n        }\n    };\n    IndicatorWidget.prototype.createTooltipView = function () {\n        return new IndicatorTooltipView(this);\n    };\n    IndicatorWidget.prototype.updateMainContent = function (_ctx) {\n        // to do it\n    };\n    IndicatorWidget.prototype.updateOverlayContent = function (_ctx) {\n        // to do it\n    };\n    IndicatorWidget.prototype.updateOverlay = function (ctx) {\n        if (this.getPane().getOptions().state !== 'minimize') {\n            this._overlayView.draw(ctx);\n            this._crosshairLineView.draw(ctx);\n            this.updateOverlayContent(ctx);\n        }\n        this._tooltipView.draw(ctx);\n    };\n    return IndicatorWidget;\n}(DrawWidget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleAreaView = /** @class */ (function (_super) {\n    __extends(CandleAreaView, _super);\n    function CandleAreaView() {\n        var _this = _super.apply(this, __spreadArray([], __read(arguments), false)) || this;\n        _this._ripplePoint = _this.createFigure({\n            name: 'circle',\n            attrs: {\n                x: 0,\n                y: 0,\n                r: 0\n            },\n            styles: {\n                style: 'fill'\n            }\n        });\n        _this._animationFrameTime = 0;\n        _this._animation = new Animation({ iterationCount: Infinity }).doFrame(function (time) {\n            _this._animationFrameTime = time;\n            var pane = _this.getWidget().getPane();\n            pane.getChart().updatePane(0 /* UpdateLevel.Main */, pane.getId());\n        });\n        return _this;\n    }\n    CandleAreaView.prototype.drawImp = function (ctx) {\n        var _a, _b, _c;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chart = pane.getChart();\n        var dataList = chart.getDataList();\n        var lastDataIndex = dataList.length - 1;\n        var bounding = widget.getBounding();\n        var yAxis = pane.getAxisComponent();\n        var styles = chart.getStyles().candle.area;\n        var coordinates = [];\n        var minY = Number.MAX_SAFE_INTEGER;\n        var areaStartX = Number.MIN_SAFE_INTEGER;\n        var ripplePointCoordinate = null;\n        this.eachChildren(function (data) {\n            var x = data.x;\n            var kLineData = data.data.current;\n            var value = kLineData === null || kLineData === void 0 ? void 0 : kLineData[styles.value];\n            if (isNumber(value)) {\n                var y = yAxis.convertToPixel(value);\n                if (areaStartX === Number.MIN_SAFE_INTEGER) {\n                    areaStartX = x;\n                }\n                coordinates.push({ x: x, y: y });\n                minY = Math.min(minY, y);\n                if (data.dataIndex === lastDataIndex) {\n                    ripplePointCoordinate = { x: x, y: y };\n                }\n            }\n        });\n        if (coordinates.length > 0) {\n            (_a = this.createFigure({\n                name: 'line',\n                attrs: { coordinates: coordinates },\n                styles: {\n                    color: styles.lineColor,\n                    size: styles.lineSize,\n                    smooth: styles.smooth\n                }\n            })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            // render area\n            var backgroundColor = styles.backgroundColor;\n            var color = '';\n            if (isArray(backgroundColor)) {\n                var gradient_1 = ctx.createLinearGradient(0, bounding.height, 0, minY);\n                try {\n                    backgroundColor.forEach(function (_a) {\n                        var offset = _a.offset, color = _a.color;\n                        gradient_1.addColorStop(offset, color);\n                    });\n                }\n                catch (e) {\n                }\n                color = gradient_1;\n            }\n            else {\n                color = backgroundColor;\n            }\n            ctx.fillStyle = color;\n            ctx.beginPath();\n            ctx.moveTo(areaStartX, bounding.height);\n            ctx.lineTo(coordinates[0].x, coordinates[0].y);\n            lineTo(ctx, coordinates, styles.smooth);\n            ctx.lineTo(coordinates[coordinates.length - 1].x, bounding.height);\n            ctx.closePath();\n            ctx.fill();\n        }\n        var pointStyles = styles.point;\n        if (pointStyles.show && isValid(ripplePointCoordinate)) {\n            (_b = this.createFigure({\n                name: 'circle',\n                attrs: {\n                    x: ripplePointCoordinate.x,\n                    y: ripplePointCoordinate.y,\n                    r: pointStyles.radius\n                },\n                styles: {\n                    style: 'fill',\n                    color: pointStyles.color\n                }\n            })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n            var rippleRadius = pointStyles.rippleRadius;\n            if (pointStyles.animation) {\n                rippleRadius = pointStyles.radius + this._animationFrameTime / pointStyles.animationDuration * (pointStyles.rippleRadius - pointStyles.radius);\n                this._animation.setDuration(pointStyles.animationDuration).start();\n            }\n            (_c = this._ripplePoint) === null || _c === void 0 ? void 0 : _c.setAttrs({\n                x: ripplePointCoordinate.x,\n                y: ripplePointCoordinate.y,\n                r: rippleRadius\n            }).setStyles({ style: 'fill', color: pointStyles.rippleColor }).draw(ctx);\n        }\n        else {\n            this.stopAnimation();\n        }\n    };\n    CandleAreaView.prototype.stopAnimation = function () {\n        this._animation.stop();\n    };\n    return CandleAreaView;\n}(ChildrenView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleHighLowPriceView = /** @class */ (function (_super) {\n    __extends(CandleHighLowPriceView, _super);\n    function CandleHighLowPriceView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandleHighLowPriceView.prototype.drawImp = function (ctx) {\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var priceMarkStyles = chartStore.getStyles().candle.priceMark;\n        var highPriceMarkStyles = priceMarkStyles.high;\n        var lowPriceMarkStyles = priceMarkStyles.low;\n        if (priceMarkStyles.show && (highPriceMarkStyles.show || lowPriceMarkStyles.show)) {\n            var highestLowestPrice = chartStore.getVisibleRangeHighLowPrice();\n            var precision = (_b = (_a = chartStore.getSymbol()) === null || _a === void 0 ? void 0 : _a.pricePrecision) !== null && _b !== void 0 ? _b : SymbolDefaultPrecisionConstants.PRICE;\n            var yAxis = pane.getAxisComponent();\n            var _c = highestLowestPrice[0], high = _c.price, highX = _c.x;\n            var _d = highestLowestPrice[1], low = _d.price, lowX = _d.x;\n            var highY = yAxis.convertToPixel(high);\n            var lowY = yAxis.convertToPixel(low);\n            var decimalFold = chartStore.getDecimalFold();\n            var thousandsSeparator = chartStore.getThousandsSeparator();\n            if (highPriceMarkStyles.show && high !== Number.MIN_SAFE_INTEGER) {\n                this._drawMark(ctx, decimalFold.format(thousandsSeparator.format(formatPrecision(high, precision))), { x: highX, y: highY }, highY < lowY ? [-2, -5] : [2, 5], highPriceMarkStyles);\n            }\n            if (lowPriceMarkStyles.show && low !== Number.MAX_SAFE_INTEGER) {\n                this._drawMark(ctx, decimalFold.format(thousandsSeparator.format(formatPrecision(low, precision))), { x: lowX, y: lowY }, highY < lowY ? [2, 5] : [-2, -5], lowPriceMarkStyles);\n            }\n        }\n    };\n    CandleHighLowPriceView.prototype._drawMark = function (ctx, text, coordinate, offsets, styles) {\n        var _a, _b, _c;\n        var startX = coordinate.x;\n        var startY = coordinate.y + offsets[0];\n        (_a = this.createFigure({\n            name: 'line',\n            attrs: {\n                coordinates: [\n                    { x: startX - 2, y: startY + offsets[0] },\n                    { x: startX, y: startY },\n                    { x: startX + 2, y: startY + offsets[0] }\n                ]\n            },\n            styles: { color: styles.color }\n        })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n        var lineEndX = 0;\n        var textStartX = 0;\n        var textAlign = 'left';\n        var width = this.getWidget().getBounding().width;\n        if (startX > width / 2) {\n            lineEndX = startX - 5;\n            textStartX = lineEndX - styles.textOffset;\n            textAlign = 'right';\n        }\n        else {\n            lineEndX = startX + 5;\n            textAlign = 'left';\n            textStartX = lineEndX + styles.textOffset;\n        }\n        var y = startY + offsets[1];\n        (_b = this.createFigure({\n            name: 'line',\n            attrs: {\n                coordinates: [\n                    { x: startX, y: startY },\n                    { x: startX, y: y },\n                    { x: lineEndX, y: y }\n                ]\n            },\n            styles: { color: styles.color }\n        })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n        (_c = this.createFigure({\n            name: 'text',\n            attrs: {\n                x: textStartX,\n                y: y,\n                text: text,\n                align: textAlign,\n                baseline: 'middle'\n            },\n            styles: {\n                color: styles.color,\n                size: styles.textSize,\n                family: styles.textFamily,\n                weight: styles.textWeight\n            }\n        })) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n    };\n    return CandleHighLowPriceView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleLastPriceView = /** @class */ (function (_super) {\n    __extends(CandleLastPriceView, _super);\n    function CandleLastPriceView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandleLastPriceView.prototype.drawImp = function (ctx) {\n        var _a, _b, _c;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = pane.getChart().getChartStore();\n        var priceMarkStyles = chartStore.getStyles().candle.priceMark;\n        var lastPriceMarkStyles = priceMarkStyles.last;\n        var lastPriceMarkLineStyles = lastPriceMarkStyles.line;\n        if (priceMarkStyles.show && lastPriceMarkStyles.show && lastPriceMarkLineStyles.show) {\n            var yAxis = pane.getAxisComponent();\n            var dataList = chartStore.getDataList();\n            var data = dataList[dataList.length - 1];\n            if (isValid(data)) {\n                var close_1 = data.close, open_1 = data.open;\n                var comparePrice = lastPriceMarkStyles.compareRule === 'current_open' ? open_1 : ((_b = (_a = dataList[dataList.length - 2]) === null || _a === void 0 ? void 0 : _a.close) !== null && _b !== void 0 ? _b : close_1);\n                var priceY = yAxis.convertToNicePixel(close_1);\n                var color = '';\n                if (close_1 > comparePrice) {\n                    color = lastPriceMarkStyles.upColor;\n                }\n                else if (close_1 < comparePrice) {\n                    color = lastPriceMarkStyles.downColor;\n                }\n                else {\n                    color = lastPriceMarkStyles.noChangeColor;\n                }\n                (_c = this.createFigure({\n                    name: 'line',\n                    attrs: {\n                        coordinates: [\n                            { x: 0, y: priceY },\n                            { x: bounding.width, y: priceY }\n                        ]\n                    },\n                    styles: {\n                        style: lastPriceMarkLineStyles.style,\n                        color: color,\n                        size: lastPriceMarkLineStyles.size,\n                        dashedValue: lastPriceMarkLineStyles.dashedValue\n                    }\n                })) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n            }\n        }\n    };\n    return CandleLastPriceView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar PeriodTypeXAxisFormat = {\n    second: 'HH:mm:ss',\n    minute: 'HH:mm',\n    hour: 'MM-DD HH:mm',\n    day: 'YYYY-MM-DD',\n    week: 'YYYY-MM-DD',\n    month: 'YYYY-MM',\n    year: 'YYYY'\n};\nvar PeriodTypeCrosshairTooltipFormat = {\n    second: 'HH:mm:ss',\n    minute: 'YYYY-MM-DD HH:mm',\n    hour: 'YYYY-MM-DD HH:mm',\n    day: 'YYYY-MM-DD',\n    week: 'YYYY-MM-DD',\n    month: 'YYYY-MM',\n    year: 'YYYY'\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar zhCN = {\n    time: 'Êó∂Èó¥Ôºö',\n    open: 'ÂºÄÔºö',\n    high: 'È´òÔºö',\n    low: '‰ΩéÔºö',\n    close: 'Êî∂Ôºö',\n    volume: 'Êàê‰∫§ÈáèÔºö',\n    turnover: 'Êàê‰∫§È¢ùÔºö',\n    change: 'Ê∂®ÂπÖÔºö',\n    second: 'Áßí',\n    minute: '',\n    hour: 'Â∞èÊó∂',\n    day: 'Â§©',\n    week: 'Âë®',\n    month: 'Êúà',\n    year: 'Âπ¥'\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar enUS = {\n    time: 'Time: ',\n    open: 'Open: ',\n    high: 'High: ',\n    low: 'Low: ',\n    close: 'Close: ',\n    volume: 'Volume: ',\n    turnover: 'Turnover: ',\n    change: 'Change: ',\n    second: 'S',\n    minute: '',\n    hour: 'H',\n    day: 'D',\n    week: 'W',\n    month: 'M',\n    year: 'Y'\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar locales = {\n    'zh-CN': zhCN,\n    'en-US': enUS\n};\nfunction registerLocale(locale, ls) {\n    locales[locale] = __assign(__assign({}, locales[locale]), ls);\n}\nfunction getSupportedLocales() {\n    return Object.keys(locales);\n}\nfunction i18n(key, locale) {\n    var _a;\n    return (_a = locales[locale][key]) !== null && _a !== void 0 ? _a : key;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleTooltipView = /** @class */ (function (_super) {\n    __extends(CandleTooltipView, _super);\n    function CandleTooltipView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandleTooltipView.prototype.drawImp = function (ctx) {\n        var widget = this.getWidget();\n        var chartStore = widget.getPane().getChart().getChartStore();\n        var crosshair = chartStore.getCrosshair();\n        if (isValid(crosshair.kLineData)) {\n            var bounding = widget.getBounding();\n            var styles = chartStore.getStyles();\n            var candleStyles = styles.candle;\n            var indicatorStyles = styles.indicator;\n            if (candleStyles.tooltip.showType === 'rect' &&\n                indicatorStyles.tooltip.showType === 'rect') {\n                var isDrawCandleTooltip = this.isDrawTooltip(crosshair, candleStyles.tooltip);\n                var isDrawIndicatorTooltip = this.isDrawTooltip(crosshair, indicatorStyles.tooltip);\n                this._drawRectTooltip(ctx, isDrawCandleTooltip, isDrawIndicatorTooltip, candleStyles.tooltip.offsetTop);\n            }\n            else if (candleStyles.tooltip.showType === 'standard' &&\n                indicatorStyles.tooltip.showType === 'standard') {\n                var _a = candleStyles.tooltip, offsetLeft = _a.offsetLeft, offsetTop = _a.offsetTop, offsetRight = _a.offsetRight;\n                var maxWidth = bounding.width - offsetRight;\n                var top_1 = this._drawCandleStandardTooltip(ctx, offsetLeft, offsetTop, maxWidth);\n                this.drawIndicatorTooltip(ctx, offsetLeft, top_1, maxWidth);\n            }\n            else if (candleStyles.tooltip.showType === 'rect' &&\n                indicatorStyles.tooltip.showType === 'standard') {\n                var _b = candleStyles.tooltip, offsetLeft = _b.offsetLeft, offsetTop = _b.offsetTop, offsetRight = _b.offsetRight;\n                var maxWidth = bounding.width - offsetRight;\n                var top_2 = this.drawIndicatorTooltip(ctx, offsetLeft, offsetTop, maxWidth);\n                var isDrawCandleTooltip = this.isDrawTooltip(crosshair, candleStyles.tooltip);\n                this._drawRectTooltip(ctx, isDrawCandleTooltip, false, top_2);\n            }\n            else {\n                var _c = candleStyles.tooltip, offsetLeft = _c.offsetLeft, offsetTop = _c.offsetTop, offsetRight = _c.offsetRight;\n                var maxWidth = bounding.width - offsetRight;\n                var top_3 = this._drawCandleStandardTooltip(ctx, offsetLeft, offsetTop, maxWidth);\n                var isDrawIndicatorTooltip = this.isDrawTooltip(crosshair, indicatorStyles.tooltip);\n                this._drawRectTooltip(ctx, false, isDrawIndicatorTooltip, top_3);\n            }\n        }\n    };\n    CandleTooltipView.prototype._drawCandleStandardTooltip = function (ctx, left, top, maxWidth) {\n        var _a;\n        var chartStore = this.getWidget().getPane().getChart().getChartStore();\n        var styles = chartStore.getStyles().candle;\n        var tooltipStyles = styles.tooltip;\n        var tooltipLegendStyles = tooltipStyles.legend;\n        var prevRowHeight = 0;\n        var coordinate = { x: left, y: top };\n        var crosshair = chartStore.getCrosshair();\n        if (this.isDrawTooltip(crosshair, tooltipStyles)) {\n            var tooltipTitleStyles = tooltipStyles.title;\n            if (tooltipTitleStyles.show) {\n                var _b = (_a = chartStore.getPeriod()) !== null && _a !== void 0 ? _a : {}, _c = _b.type, type = _c === void 0 ? '' : _c, _d = _b.span, span = _d === void 0 ? '' : _d;\n                var text = formatTemplateString(tooltipTitleStyles.template, __assign(__assign({}, chartStore.getSymbol()), { period: \"\".concat(span).concat(i18n(type, chartStore.getLocale())) }));\n                var color = tooltipTitleStyles.color;\n                var height = this.drawStandardTooltipLegends(ctx, [\n                    {\n                        title: { text: '', color: color },\n                        value: { text: text, color: color }\n                    }\n                ], { x: left, y: top }, left, 0, maxWidth, tooltipTitleStyles);\n                coordinate.y = coordinate.y + height;\n            }\n            var legends = this._getCandleTooltipLegends();\n            var features = this.classifyTooltipFeatures(tooltipStyles.features);\n            prevRowHeight = this.drawStandardTooltipFeatures(ctx, features[0], coordinate, null, left, prevRowHeight, maxWidth);\n            prevRowHeight = this.drawStandardTooltipFeatures(ctx, features[1], coordinate, null, left, prevRowHeight, maxWidth);\n            if (legends.length > 0) {\n                prevRowHeight = this.drawStandardTooltipLegends(ctx, legends, coordinate, left, prevRowHeight, maxWidth, tooltipLegendStyles);\n            }\n            prevRowHeight = this.drawStandardTooltipFeatures(ctx, features[2], coordinate, null, left, prevRowHeight, maxWidth);\n        }\n        return coordinate.y + prevRowHeight;\n    };\n    CandleTooltipView.prototype._drawRectTooltip = function (ctx, isDrawCandleTooltip, isDrawIndicatorTooltip, top) {\n        var _this = this;\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var styles = chartStore.getStyles();\n        var candleStyles = styles.candle;\n        var indicatorStyles = styles.indicator;\n        var candleTooltipStyles = candleStyles.tooltip;\n        var indicatorTooltipStyles = indicatorStyles.tooltip;\n        if (isDrawCandleTooltip || isDrawIndicatorTooltip) {\n            var candleLegends = this._getCandleTooltipLegends();\n            var offsetLeft = candleTooltipStyles.offsetLeft, offsetTop = candleTooltipStyles.offsetTop, offsetRight = candleTooltipStyles.offsetRight, offsetBottom = candleTooltipStyles.offsetBottom;\n            var _c = candleTooltipStyles.legend, baseLegendMarginLeft_1 = _c.marginLeft, baseLegendMarginRight_1 = _c.marginRight, baseLegendMarginTop_1 = _c.marginTop, baseLegendMarginBottom_1 = _c.marginBottom, baseLegendSize_1 = _c.size, baseLegendWeight_1 = _c.weight, baseLegendFamily_1 = _c.family;\n            var _d = candleTooltipStyles.rect, rectPosition = _d.position, rectPaddingLeft = _d.paddingLeft, rectPaddingRight_1 = _d.paddingRight, rectPaddingTop = _d.paddingTop, rectPaddingBottom = _d.paddingBottom, rectOffsetLeft = _d.offsetLeft, rectOffsetRight = _d.offsetRight, rectOffsetTop = _d.offsetTop, rectOffsetBottom = _d.offsetBottom, rectBorderSize_1 = _d.borderSize, rectBorderRadius = _d.borderRadius, rectBorderColor = _d.borderColor, rectBackgroundColor = _d.color;\n            var maxTextWidth_1 = 0;\n            var rectWidth_1 = 0;\n            var rectHeight_1 = 0;\n            if (isDrawCandleTooltip) {\n                ctx.font = createFont(baseLegendSize_1, baseLegendWeight_1, baseLegendFamily_1);\n                candleLegends.forEach(function (data) {\n                    var title = data.title;\n                    var value = data.value;\n                    var text = \"\".concat(title.text).concat(value.text);\n                    var labelWidth = ctx.measureText(text).width + baseLegendMarginLeft_1 + baseLegendMarginRight_1;\n                    maxTextWidth_1 = Math.max(maxTextWidth_1, labelWidth);\n                });\n                rectHeight_1 += ((baseLegendMarginBottom_1 + baseLegendMarginTop_1 + baseLegendSize_1) * candleLegends.length);\n            }\n            var _e = indicatorTooltipStyles.legend, indicatorLegendMarginLeft_1 = _e.marginLeft, indicatorLegendMarginRight_1 = _e.marginRight, indicatorLegendMarginTop_1 = _e.marginTop, indicatorLegendMarginBottom_1 = _e.marginBottom, indicatorLegendSize_1 = _e.size, indicatorLegendWeight_1 = _e.weight, indicatorLegendFamily_1 = _e.family;\n            var indicatorLegendsArray_1 = [];\n            if (isDrawIndicatorTooltip) {\n                var indicators = chartStore.getIndicatorsByPaneId(pane.getId());\n                ctx.font = createFont(indicatorLegendSize_1, indicatorLegendWeight_1, indicatorLegendFamily_1);\n                indicators.forEach(function (indicator) {\n                    var tooltipDataLegends = _this.getIndicatorTooltipData(indicator).legends;\n                    indicatorLegendsArray_1.push(tooltipDataLegends);\n                    tooltipDataLegends.forEach(function (data) {\n                        var title = data.title;\n                        var value = data.value;\n                        var text = \"\".concat(title.text).concat(value.text);\n                        var textWidth = ctx.measureText(text).width + indicatorLegendMarginLeft_1 + indicatorLegendMarginRight_1;\n                        maxTextWidth_1 = Math.max(maxTextWidth_1, textWidth);\n                        rectHeight_1 += (indicatorLegendMarginTop_1 + indicatorLegendMarginBottom_1 + indicatorLegendSize_1);\n                    });\n                });\n            }\n            rectWidth_1 += maxTextWidth_1;\n            if (rectWidth_1 !== 0 && rectHeight_1 !== 0) {\n                var crosshair = chartStore.getCrosshair();\n                var bounding = widget.getBounding();\n                var yAxisBounding = pane.getYAxisWidget().getBounding();\n                rectWidth_1 += (rectBorderSize_1 * 2 + rectPaddingLeft + rectPaddingRight_1);\n                rectHeight_1 += (rectBorderSize_1 * 2 + rectPaddingTop + rectPaddingBottom);\n                var centerX = bounding.width / 2;\n                var isPointer = rectPosition === 'pointer' && crosshair.paneId === PaneIdConstants.CANDLE;\n                var isLeft = ((_a = crosshair.realX) !== null && _a !== void 0 ? _a : 0) > centerX;\n                var rectX_1 = 0;\n                if (isPointer) {\n                    var realX = crosshair.realX;\n                    if (isLeft) {\n                        rectX_1 = realX - rectOffsetRight - rectWidth_1;\n                    }\n                    else {\n                        rectX_1 = realX + rectOffsetLeft;\n                    }\n                }\n                else {\n                    var yAxis = this.getWidget().getPane().getAxisComponent();\n                    if (isLeft) {\n                        rectX_1 = rectOffsetLeft + offsetLeft;\n                        if (yAxis.inside && yAxis.position === 'left') {\n                            rectX_1 += yAxisBounding.width;\n                        }\n                    }\n                    else {\n                        rectX_1 = bounding.width - rectOffsetRight - rectWidth_1 - offsetRight;\n                        if (yAxis.inside && yAxis.position === 'right') {\n                            rectX_1 -= yAxisBounding.width;\n                        }\n                    }\n                }\n                var rectY = top + rectOffsetTop;\n                if (isPointer) {\n                    var y = crosshair.y;\n                    rectY = y - rectHeight_1 / 2;\n                    if (rectY + rectHeight_1 > bounding.height - rectOffsetBottom - offsetBottom) {\n                        rectY = bounding.height - rectOffsetBottom - rectHeight_1 - offsetBottom;\n                    }\n                    if (rectY < top + rectOffsetTop) {\n                        rectY = top + rectOffsetTop + offsetTop;\n                    }\n                }\n                (_b = this.createFigure({\n                    name: 'rect',\n                    attrs: {\n                        x: rectX_1,\n                        y: rectY,\n                        width: rectWidth_1,\n                        height: rectHeight_1\n                    },\n                    styles: {\n                        style: 'stroke_fill',\n                        color: rectBackgroundColor,\n                        borderColor: rectBorderColor,\n                        borderSize: rectBorderSize_1,\n                        borderRadius: rectBorderRadius\n                    }\n                })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                var candleTextX_1 = rectX_1 + rectBorderSize_1 + rectPaddingLeft + baseLegendMarginLeft_1;\n                var textY_1 = rectY + rectBorderSize_1 + rectPaddingTop;\n                if (isDrawCandleTooltip) {\n                    // render candle texts\n                    candleLegends.forEach(function (data) {\n                        var _a, _b;\n                        textY_1 += baseLegendMarginTop_1;\n                        var title = data.title;\n                        (_a = _this.createFigure({\n                            name: 'text',\n                            attrs: {\n                                x: candleTextX_1,\n                                y: textY_1,\n                                text: title.text\n                            },\n                            styles: {\n                                color: title.color,\n                                size: baseLegendSize_1,\n                                family: baseLegendFamily_1,\n                                weight: baseLegendWeight_1\n                            }\n                        })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                        var value = data.value;\n                        (_b = _this.createFigure({\n                            name: 'text',\n                            attrs: {\n                                x: rectX_1 + rectWidth_1 - rectBorderSize_1 - baseLegendMarginRight_1 - rectPaddingRight_1,\n                                y: textY_1,\n                                text: value.text,\n                                align: 'right'\n                            },\n                            styles: {\n                                color: value.color,\n                                size: baseLegendSize_1,\n                                family: baseLegendFamily_1,\n                                weight: baseLegendWeight_1\n                            }\n                        })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                        textY_1 += (baseLegendSize_1 + baseLegendMarginBottom_1);\n                    });\n                }\n                if (isDrawIndicatorTooltip) {\n                    // render indicator legends\n                    var indicatorTextX_1 = rectX_1 + rectBorderSize_1 + rectPaddingLeft + indicatorLegendMarginLeft_1;\n                    indicatorLegendsArray_1.forEach(function (legends) {\n                        legends.forEach(function (data) {\n                            var _a, _b;\n                            textY_1 += indicatorLegendMarginTop_1;\n                            var title = data.title;\n                            var value = data.value;\n                            (_a = _this.createFigure({\n                                name: 'text',\n                                attrs: {\n                                    x: indicatorTextX_1,\n                                    y: textY_1,\n                                    text: title.text\n                                },\n                                styles: {\n                                    color: title.color,\n                                    size: indicatorLegendSize_1,\n                                    family: indicatorLegendFamily_1,\n                                    weight: indicatorLegendWeight_1\n                                }\n                            })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                            (_b = _this.createFigure({\n                                name: 'text',\n                                attrs: {\n                                    x: rectX_1 + rectWidth_1 - rectBorderSize_1 - indicatorLegendMarginRight_1 - rectPaddingRight_1,\n                                    y: textY_1,\n                                    text: value.text,\n                                    align: 'right'\n                                },\n                                styles: {\n                                    color: value.color,\n                                    size: indicatorLegendSize_1,\n                                    family: indicatorLegendFamily_1,\n                                    weight: indicatorLegendWeight_1\n                                }\n                            })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                            textY_1 += (indicatorLegendSize_1 + indicatorLegendMarginBottom_1);\n                        });\n                    });\n                }\n            }\n        }\n    };\n    CandleTooltipView.prototype._getCandleTooltipLegends = function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        var chartStore = this.getWidget().getPane().getChart().getChartStore();\n        var styles = chartStore.getStyles().candle;\n        var dataList = chartStore.getDataList();\n        var formatter = chartStore.getInnerFormatter();\n        var decimalFold = chartStore.getDecimalFold();\n        var thousandsSeparator = chartStore.getThousandsSeparator();\n        var locale = chartStore.getLocale();\n        var _j = (_a = chartStore.getSymbol()) !== null && _a !== void 0 ? _a : {}, _k = _j.pricePrecision, pricePrecision = _k === void 0 ? SymbolDefaultPrecisionConstants.PRICE : _k, _l = _j.volumePrecision, volumePrecision = _l === void 0 ? SymbolDefaultPrecisionConstants.VOLUME : _l;\n        var period = chartStore.getPeriod();\n        var dataIndex = (_b = chartStore.getCrosshair().dataIndex) !== null && _b !== void 0 ? _b : 0;\n        var tooltipStyles = styles.tooltip;\n        var _m = tooltipStyles.legend, textColor = _m.color, defaultValue = _m.defaultValue, template = _m.template;\n        var prev = (_c = dataList[dataIndex - 1]) !== null && _c !== void 0 ? _c : null;\n        var current = dataList[dataIndex];\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n        var prevClose = (_d = prev === null || prev === void 0 ? void 0 : prev.close) !== null && _d !== void 0 ? _d : current.close;\n        var changeValue = current.close - prevClose;\n        var mapping = __assign(__assign({}, current), { time: formatter.formatDate(current.timestamp, PeriodTypeCrosshairTooltipFormat[(_e = period === null || period === void 0 ? void 0 : period.type) !== null && _e !== void 0 ? _e : 'day'], 'tooltip'), open: decimalFold.format(thousandsSeparator.format(formatPrecision(current.open, pricePrecision))), high: decimalFold.format(thousandsSeparator.format(formatPrecision(current.high, pricePrecision))), low: decimalFold.format(thousandsSeparator.format(formatPrecision(current.low, pricePrecision))), close: decimalFold.format(thousandsSeparator.format(formatPrecision(current.close, pricePrecision))), volume: decimalFold.format(thousandsSeparator.format(formatter.formatBigNumber(formatPrecision((_f = current.volume) !== null && _f !== void 0 ? _f : defaultValue, volumePrecision)))), turnover: decimalFold.format(thousandsSeparator.format(formatPrecision((_g = current.turnover) !== null && _g !== void 0 ? _g : defaultValue, pricePrecision))), change: prevClose === 0 ? defaultValue : \"\".concat(thousandsSeparator.format(formatPrecision(changeValue / prevClose * 100)), \"%\") });\n        var legends = (isFunction(template)\n            ? template({ prev: prev, current: current, next: (_h = dataList[dataIndex + 1]) !== null && _h !== void 0 ? _h : null }, styles)\n            : template);\n        return legends.map(function (_a) {\n            var title = _a.title, value = _a.value;\n            var t = { text: '', color: textColor };\n            if (isObject(title)) {\n                t = __assign({}, title);\n            }\n            else {\n                t.text = title;\n            }\n            t.text = i18n(t.text, locale);\n            var v = { text: defaultValue, color: textColor };\n            if (isObject(value)) {\n                v = __assign({}, value);\n            }\n            else {\n                v.text = value;\n            }\n            if (isValid(/{change}/.exec(v.text))) {\n                v.color = changeValue === 0 ? styles.priceMark.last.noChangeColor : (changeValue > 0 ? styles.priceMark.last.upColor : styles.priceMark.last.downColor);\n            }\n            v.text = formatTemplateString(v.text, mapping);\n            return { title: t, value: v };\n        });\n    };\n    return CandleTooltipView;\n}(IndicatorTooltipView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CrosshairFeatureView = /** @class */ (function (_super) {\n    __extends(CrosshairFeatureView, _super);\n    function CrosshairFeatureView(widget) {\n        var _this = _super.call(this, widget) || this;\n        _this._activeFeatureInfo = null;\n        _this._featureClickEvent = function (featureInfo) { return function () {\n            var pane = _this.getWidget().getPane();\n            pane.getChart().getChartStore().executeAction('onCrosshairFeatureClick', featureInfo);\n            return true;\n        }; };\n        _this._featureMouseMoveEvent = function (featureInfo) { return function () {\n            _this._activeFeatureInfo = featureInfo;\n            _this.getWidget().setForceCursor('pointer');\n            return true;\n        }; };\n        _this.registerEvent('mouseMoveEvent', function (_) {\n            _this._activeFeatureInfo = null;\n            _this.getWidget().setForceCursor(null);\n            return false;\n        });\n        return _this;\n    }\n    CrosshairFeatureView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = widget.getPane().getChart().getChartStore();\n        var crosshair = chartStore.getCrosshair();\n        var weight = this.getWidget();\n        var yAxis = weight.getPane().getAxisComponent();\n        if (isString(crosshair.paneId) && crosshair.paneId === pane.getId() && yAxis.isInCandle()) {\n            var styles = chartStore.getStyles().crosshair;\n            var features = styles.horizontal.features;\n            if (styles.show && styles.horizontal.show && features.length > 0) {\n                var isRight_1 = yAxis.position === 'right';\n                var bounding = weight.getBounding();\n                var yAxisTextWidth = 0;\n                var horizontalTextStyles = styles.horizontal.text;\n                if (yAxis.inside && horizontalTextStyles.show) {\n                    var value = yAxis.convertFromPixel(crosshair.y);\n                    var range = yAxis.getRange();\n                    var text = yAxis.displayValueToText(yAxis.realValueToDisplayValue(yAxis.valueToRealValue(value, { range: range }), { range: range }), (_b = (_a = chartStore.getSymbol()) === null || _a === void 0 ? void 0 : _a.pricePrecision) !== null && _b !== void 0 ? _b : SymbolDefaultPrecisionConstants.PRICE);\n                    text = chartStore.getDecimalFold().format(chartStore.getThousandsSeparator().format(text));\n                    yAxisTextWidth = horizontalTextStyles.paddingLeft +\n                        calcTextWidth(text, horizontalTextStyles.size, horizontalTextStyles.weight, horizontalTextStyles.family) +\n                        horizontalTextStyles.paddingRight;\n                }\n                var x_1 = yAxisTextWidth;\n                if (isRight_1) {\n                    x_1 = bounding.width - yAxisTextWidth;\n                }\n                var y_1 = crosshair.y;\n                features.forEach(function (feature) {\n                    var _a, _b, _c, _d;\n                    var _e = feature.marginLeft, marginLeft = _e === void 0 ? 0 : _e, _f = feature.marginTop, marginTop = _f === void 0 ? 0 : _f, _g = feature.marginRight, marginRight = _g === void 0 ? 0 : _g, _h = feature.paddingLeft, paddingLeft = _h === void 0 ? 0 : _h, _j = feature.paddingTop, paddingTop = _j === void 0 ? 0 : _j, _k = feature.paddingRight, paddingRight = _k === void 0 ? 0 : _k, _l = feature.paddingBottom, paddingBottom = _l === void 0 ? 0 : _l, color = feature.color, activeColor = feature.activeColor, backgroundColor = feature.backgroundColor, activeBackgroundColor = feature.activeBackgroundColor, borderRadius = feature.borderRadius, _m = feature.size, size = _m === void 0 ? 0 : _m, type = feature.type, content = feature.content;\n                    var width = size;\n                    if (type === 'icon_font') {\n                        var iconFont = content;\n                        width = paddingLeft + calcTextWidth(iconFont.code, size, 'normal', iconFont.family) + paddingRight;\n                    }\n                    if (isRight_1) {\n                        x_1 -= (width + marginRight);\n                    }\n                    else {\n                        x_1 += marginLeft;\n                    }\n                    var finalColor = color;\n                    var finalBackgroundColor = backgroundColor;\n                    if (((_a = _this._activeFeatureInfo) === null || _a === void 0 ? void 0 : _a.feature.id) === feature.id) {\n                        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n                        finalColor = activeColor !== null && activeColor !== void 0 ? activeColor : color;\n                        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n                        finalBackgroundColor = activeBackgroundColor !== null && activeBackgroundColor !== void 0 ? activeBackgroundColor : backgroundColor;\n                    }\n                    var eventHandler = {\n                        mouseDownEvent: _this._featureClickEvent({ crosshair: crosshair, feature: feature }),\n                        mouseMoveEvent: _this._featureMouseMoveEvent({ crosshair: crosshair, feature: feature })\n                    };\n                    if (type === 'icon_font') {\n                        var iconFont = content;\n                        (_b = _this.createFigure({\n                            name: 'text',\n                            attrs: {\n                                text: iconFont.code,\n                                x: x_1,\n                                y: y_1 + marginTop,\n                                baseline: 'middle'\n                            },\n                            styles: {\n                                paddingLeft: paddingLeft,\n                                paddingTop: paddingTop,\n                                paddingRight: paddingRight,\n                                paddingBottom: paddingBottom,\n                                borderRadius: borderRadius,\n                                size: size,\n                                family: iconFont.family,\n                                color: finalColor,\n                                backgroundColor: finalBackgroundColor\n                            }\n                        }, eventHandler)) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                    }\n                    else {\n                        (_c = _this.createFigure({\n                            name: 'rect',\n                            attrs: { x: x_1, y: y_1 + marginTop - size / 2, width: size, height: size },\n                            styles: {\n                                paddingLeft: paddingLeft,\n                                paddingTop: paddingTop,\n                                paddingRight: paddingRight,\n                                paddingBottom: paddingBottom,\n                                color: finalBackgroundColor\n                            }\n                        }, eventHandler)) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n                        var path = content;\n                        (_d = _this.createFigure({\n                            name: 'path',\n                            attrs: { path: path.path, x: x_1, y: y_1 + marginTop + paddingTop - size / 2, width: size, height: size },\n                            styles: {\n                                style: path.style,\n                                lineWidth: path.lineWidth,\n                                color: finalColor\n                            }\n                        })) === null || _d === void 0 ? void 0 : _d.draw(ctx);\n                    }\n                    if (isRight_1) {\n                        x_1 -= marginLeft;\n                    }\n                    else {\n                        x_1 += (width + marginRight);\n                    }\n                });\n            }\n        }\n    };\n    return CrosshairFeatureView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleWidget = /** @class */ (function (_super) {\n    __extends(CandleWidget, _super);\n    function CandleWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._candleBarView = new CandleBarView(_this);\n        _this._candleAreaView = new CandleAreaView(_this);\n        _this._candleHighLowPriceView = new CandleHighLowPriceView(_this);\n        _this._candleLastPriceLineView = new CandleLastPriceView(_this);\n        _this._crosshairFeatureView = new CrosshairFeatureView(_this);\n        _this.addChild(_this._candleBarView);\n        _this.addChild(_this._crosshairFeatureView);\n        return _this;\n    }\n    CandleWidget.prototype.updateMainContent = function (ctx) {\n        var candleStyles = this.getPane().getChart().getStyles().candle;\n        if (candleStyles.type !== 'area') {\n            this._candleBarView.draw(ctx);\n            this._candleHighLowPriceView.draw(ctx);\n            this._candleAreaView.stopAnimation();\n        }\n        else {\n            this._candleAreaView.draw(ctx);\n        }\n        this._candleLastPriceLineView.draw(ctx);\n    };\n    CandleWidget.prototype.updateOverlayContent = function (ctx) {\n        this._crosshairFeatureView.draw(ctx);\n    };\n    CandleWidget.prototype.createTooltipView = function () {\n        return new CandleTooltipView(this);\n    };\n    return CandleWidget;\n}(IndicatorWidget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar AxisView = /** @class */ (function (_super) {\n    __extends(AxisView, _super);\n    function AxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AxisView.prototype.drawImp = function (ctx, extend) {\n        var _this = this;\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var axis = pane.getAxisComponent();\n        var styles = this.getAxisStyles(pane.getChart().getStyles());\n        if (styles.show) {\n            if (styles.axisLine.show) {\n                (_a = this.createFigure({\n                    name: 'line',\n                    attrs: this.createAxisLine(bounding, styles),\n                    styles: styles.axisLine\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            }\n            if (!extend[0]) {\n                var ticks = axis.getTicks();\n                if (styles.tickLine.show) {\n                    var lines = this.createTickLines(ticks, bounding, styles);\n                    lines.forEach(function (line) {\n                        var _a;\n                        (_a = _this.createFigure({\n                            name: 'line',\n                            attrs: line,\n                            styles: styles.tickLine\n                        })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                    });\n                }\n                if (styles.tickText.show) {\n                    var texts = this.createTickTexts(ticks, bounding, styles);\n                    (_b = this.createFigure({\n                        name: 'text',\n                        attrs: texts,\n                        styles: styles.tickText\n                    })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                }\n            }\n        }\n    };\n    return AxisView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar YAxisView = /** @class */ (function (_super) {\n    __extends(YAxisView, _super);\n    function YAxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    YAxisView.prototype.getAxisStyles = function (styles) {\n        return styles.yAxis;\n    };\n    YAxisView.prototype.createAxisLine = function (bounding, styles) {\n        var yAxis = this.getWidget().getPane().getAxisComponent();\n        var size = styles.axisLine.size;\n        var x = 0;\n        if (yAxis.isFromZero()) {\n            x = 0;\n        }\n        else {\n            x = bounding.width - size;\n        }\n        return {\n            coordinates: [\n                { x: x, y: 0 },\n                { x: x, y: bounding.height }\n            ]\n        };\n    };\n    YAxisView.prototype.createTickLines = function (ticks, bounding, styles) {\n        var yAxis = this.getWidget().getPane().getAxisComponent();\n        var axisLineStyles = styles.axisLine;\n        var tickLineStyles = styles.tickLine;\n        var startX = 0;\n        var endX = 0;\n        if (yAxis.isFromZero()) {\n            startX = 0;\n            if (axisLineStyles.show) {\n                startX += axisLineStyles.size;\n            }\n            endX = startX + tickLineStyles.length;\n        }\n        else {\n            startX = bounding.width;\n            if (axisLineStyles.show) {\n                startX -= axisLineStyles.size;\n            }\n            endX = startX - tickLineStyles.length;\n        }\n        return ticks.map(function (tick) { return ({\n            coordinates: [\n                { x: startX, y: tick.coord },\n                { x: endX, y: tick.coord }\n            ]\n        }); });\n    };\n    YAxisView.prototype.createTickTexts = function (ticks, bounding, styles) {\n        var yAxis = this.getWidget().getPane().getAxisComponent();\n        var axisLineStyles = styles.axisLine;\n        var tickLineStyles = styles.tickLine;\n        var tickTextStyles = styles.tickText;\n        var x = 0;\n        if (yAxis.isFromZero()) {\n            x = tickTextStyles.marginStart;\n            if (axisLineStyles.show) {\n                x += axisLineStyles.size;\n            }\n            if (tickLineStyles.show) {\n                x += tickLineStyles.length;\n            }\n        }\n        else {\n            x = bounding.width - tickTextStyles.marginEnd;\n            if (axisLineStyles.show) {\n                x -= axisLineStyles.size;\n            }\n            if (tickLineStyles.show) {\n                x -= tickLineStyles.length;\n            }\n        }\n        var textAlign = this.getWidget().getPane().getAxisComponent().isFromZero() ? 'left' : 'right';\n        return ticks.map(function (tick) { return ({\n            x: x,\n            y: tick.coord,\n            text: tick.text,\n            align: textAlign,\n            baseline: 'middle'\n        }); });\n    };\n    return YAxisView;\n}(AxisView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleLastPriceLabelView = /** @class */ (function (_super) {\n    __extends(CandleLastPriceLabelView, _super);\n    function CandleLastPriceLabelView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandleLastPriceLabelView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var _a, _b, _c, _d;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = pane.getChart().getChartStore();\n        var priceMarkStyles = chartStore.getStyles().candle.priceMark;\n        var lastPriceMarkStyles = priceMarkStyles.last;\n        var lastPriceMarkTextStyles = lastPriceMarkStyles.text;\n        if (priceMarkStyles.show && lastPriceMarkStyles.show && lastPriceMarkTextStyles.show) {\n            var precision = (_b = (_a = chartStore.getSymbol()) === null || _a === void 0 ? void 0 : _a.pricePrecision) !== null && _b !== void 0 ? _b : SymbolDefaultPrecisionConstants.PRICE;\n            var yAxis = pane.getAxisComponent();\n            var dataList = chartStore.getDataList();\n            var data_1 = dataList[dataList.length - 1];\n            if (isValid(data_1)) {\n                var close_1 = data_1.close, open_1 = data_1.open;\n                var comparePrice = lastPriceMarkStyles.compareRule === 'current_open' ? open_1 : ((_d = (_c = dataList[dataList.length - 2]) === null || _c === void 0 ? void 0 : _c.close) !== null && _d !== void 0 ? _d : close_1);\n                var priceY = yAxis.convertToNicePixel(close_1);\n                var backgroundColor_1 = '';\n                if (close_1 > comparePrice) {\n                    backgroundColor_1 = lastPriceMarkStyles.upColor;\n                }\n                else if (close_1 < comparePrice) {\n                    backgroundColor_1 = lastPriceMarkStyles.downColor;\n                }\n                else {\n                    backgroundColor_1 = lastPriceMarkStyles.noChangeColor;\n                }\n                var x_1 = 0;\n                var textAlgin_1 = 'left';\n                if (yAxis.isFromZero()) {\n                    x_1 = 0;\n                    textAlgin_1 = 'left';\n                }\n                else {\n                    x_1 = bounding.width;\n                    textAlgin_1 = 'right';\n                }\n                var textFigures_1 = [];\n                var yAxisRange = yAxis.getRange();\n                var priceText = yAxis.displayValueToText(yAxis.realValueToDisplayValue(yAxis.valueToRealValue(close_1, { range: yAxisRange }), { range: yAxisRange }), precision);\n                priceText = chartStore.getDecimalFold().format(chartStore.getThousandsSeparator().format(priceText));\n                var paddingLeft = lastPriceMarkTextStyles.paddingLeft, paddingRight = lastPriceMarkTextStyles.paddingRight, paddingTop = lastPriceMarkTextStyles.paddingTop, paddingBottom = lastPriceMarkTextStyles.paddingBottom, size = lastPriceMarkTextStyles.size, family = lastPriceMarkTextStyles.family, weight = lastPriceMarkTextStyles.weight;\n                var textWidth_1 = paddingLeft + calcTextWidth(priceText, size, weight, family) + paddingRight;\n                var priceTextHeight = paddingTop + size + paddingBottom;\n                textFigures_1.push({\n                    name: 'text',\n                    attrs: {\n                        x: x_1,\n                        y: priceY,\n                        width: textWidth_1,\n                        height: priceTextHeight,\n                        text: priceText,\n                        align: textAlgin_1,\n                        baseline: 'middle'\n                    },\n                    styles: __assign(__assign({}, lastPriceMarkTextStyles), { backgroundColor: backgroundColor_1 })\n                });\n                var formatExtendText_1 = chartStore.getInnerFormatter().formatExtendText;\n                var priceTextHalfHeight = size / 2;\n                var aboveY_1 = priceY - priceTextHalfHeight - paddingTop;\n                var belowY_1 = priceY + priceTextHalfHeight + paddingBottom;\n                lastPriceMarkStyles.extendTexts.forEach(function (item, index) {\n                    var text = formatExtendText_1({ type: 'last_price', data: data_1, index: index });\n                    if (text.length > 0 && item.show) {\n                        var textHalfHeight = item.size / 2;\n                        var textY = 0;\n                        if (item.position === 'above_price') {\n                            aboveY_1 -= (item.paddingBottom + textHalfHeight);\n                            textY = aboveY_1;\n                            aboveY_1 -= (textHalfHeight + item.paddingTop);\n                        }\n                        else {\n                            belowY_1 += (item.paddingTop + textHalfHeight);\n                            textY = belowY_1;\n                            belowY_1 += (textHalfHeight + item.paddingBottom);\n                        }\n                        textWidth_1 = Math.max(textWidth_1, item.paddingLeft + calcTextWidth(text, item.size, item.weight, item.family) + item.paddingRight);\n                        textFigures_1.push({\n                            name: 'text',\n                            attrs: {\n                                x: x_1,\n                                y: textY,\n                                width: textWidth_1,\n                                height: item.paddingTop + item.size + item.paddingBottom,\n                                text: text,\n                                align: textAlgin_1,\n                                baseline: 'middle'\n                            },\n                            styles: __assign(__assign({}, item), { backgroundColor: backgroundColor_1 })\n                        });\n                    }\n                });\n                textFigures_1.forEach(function (figure) {\n                    var _a;\n                    figure.attrs.width = textWidth_1;\n                    (_a = _this.createFigure(figure)) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                });\n            }\n        }\n    };\n    return CandleLastPriceLabelView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorLastValueView = /** @class */ (function (_super) {\n    __extends(IndicatorLastValueView, _super);\n    function IndicatorLastValueView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IndicatorLastValueView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = pane.getChart().getChartStore();\n        var defaultStyles = chartStore.getStyles().indicator;\n        var lastValueMarkStyles = defaultStyles.lastValueMark;\n        var lastValueMarkTextStyles = lastValueMarkStyles.text;\n        if (lastValueMarkStyles.show) {\n            var yAxis_1 = pane.getAxisComponent();\n            var yAxisRange_1 = yAxis_1.getRange();\n            var dataList = chartStore.getDataList();\n            var dataIndex_1 = dataList.length - 1;\n            var indicators = chartStore.getIndicatorsByPaneId(pane.getId());\n            var formatter_1 = chartStore.getInnerFormatter();\n            var decimalFold_1 = chartStore.getDecimalFold();\n            var thousandsSeparator_1 = chartStore.getThousandsSeparator();\n            indicators.forEach(function (indicator) {\n                var _a;\n                var result = indicator.result;\n                var data = (_a = result[dataIndex_1]) !== null && _a !== void 0 ? _a : {};\n                if (isValid(data) && indicator.visible) {\n                    var precision_1 = indicator.precision;\n                    eachFigures(indicator, dataIndex_1, defaultStyles, function (figure, figureStyles) {\n                        var _a;\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                        var value = data[figure.key];\n                        if (isNumber(value)) {\n                            var y = yAxis_1.convertToNicePixel(value);\n                            var text = yAxis_1.displayValueToText(yAxis_1.realValueToDisplayValue(yAxis_1.valueToRealValue(value, { range: yAxisRange_1 }), { range: yAxisRange_1 }), precision_1);\n                            if (indicator.shouldFormatBigNumber) {\n                                text = formatter_1.formatBigNumber(text);\n                            }\n                            text = decimalFold_1.format(thousandsSeparator_1.format(text));\n                            var x = 0;\n                            var textAlign = 'left';\n                            if (yAxis_1.isFromZero()) {\n                                x = 0;\n                                textAlign = 'left';\n                            }\n                            else {\n                                x = bounding.width;\n                                textAlign = 'right';\n                            }\n                            (_a = _this.createFigure({\n                                name: 'text',\n                                attrs: {\n                                    x: x,\n                                    y: y,\n                                    text: text,\n                                    align: textAlign,\n                                    baseline: 'middle'\n                                },\n                                styles: __assign(__assign({}, lastValueMarkTextStyles), { backgroundColor: figureStyles.color })\n                            })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                        }\n                    });\n                }\n            });\n        }\n    };\n    return IndicatorLastValueView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar OverlayYAxisView = /** @class */ (function (_super) {\n    __extends(OverlayYAxisView, _super);\n    function OverlayYAxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OverlayYAxisView.prototype.coordinateToPointTimestampDataIndexFlag = function () {\n        return false;\n    };\n    OverlayYAxisView.prototype.drawDefaultFigures = function (ctx, overlay, coordinates) {\n        this.drawFigures(ctx, overlay, this.getDefaultFigures(overlay, coordinates));\n    };\n    OverlayYAxisView.prototype.getDefaultFigures = function (overlay, coordinates) {\n        var _a;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var clickOverlayInfo = chartStore.getClickOverlayInfo();\n        var figures = [];\n        if (overlay.needDefaultYAxisFigure &&\n            overlay.id === ((_a = clickOverlayInfo.overlay) === null || _a === void 0 ? void 0 : _a.id) &&\n            clickOverlayInfo.paneId === pane.getId()) {\n            var yAxis = pane.getAxisComponent();\n            var bounding = widget.getBounding();\n            var topY_1 = Number.MAX_SAFE_INTEGER;\n            var bottomY_1 = Number.MIN_SAFE_INTEGER;\n            var isFromZero = yAxis.isFromZero();\n            var textAlign_1 = 'left';\n            var x_1 = 0;\n            if (isFromZero) {\n                textAlign_1 = 'left';\n                x_1 = 0;\n            }\n            else {\n                textAlign_1 = 'right';\n                x_1 = bounding.width;\n            }\n            var decimalFold_1 = chartStore.getDecimalFold();\n            var thousandsSeparator_1 = chartStore.getThousandsSeparator();\n            coordinates.forEach(function (coordinate, index) {\n                var _a, _b;\n                var point = overlay.points[index];\n                if (isNumber(point.value)) {\n                    topY_1 = Math.min(topY_1, coordinate.y);\n                    bottomY_1 = Math.max(bottomY_1, coordinate.y);\n                    var text = decimalFold_1.format(thousandsSeparator_1.format(formatPrecision(point.value, (_b = (_a = chartStore.getSymbol()) === null || _a === void 0 ? void 0 : _a.pricePrecision) !== null && _b !== void 0 ? _b : SymbolDefaultPrecisionConstants.PRICE)));\n                    figures.push({ type: 'text', attrs: { x: x_1, y: coordinate.y, text: text, align: textAlign_1, baseline: 'middle' }, ignoreEvent: true });\n                }\n            });\n            if (coordinates.length > 1) {\n                figures.unshift({ type: 'rect', attrs: { x: 0, y: topY_1, width: bounding.width, height: bottomY_1 - topY_1 }, ignoreEvent: true });\n            }\n        }\n        return figures;\n    };\n    OverlayYAxisView.prototype.getFigures = function (overlay, coordinates) {\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chart = pane.getChart();\n        var yAxis = pane.getAxisComponent();\n        var xAxis = chart.getXAxisPane().getAxisComponent();\n        var bounding = widget.getBounding();\n        return (_b = (_a = overlay.createYAxisFigures) === null || _a === void 0 ? void 0 : _a.call(overlay, { chart: chart, overlay: overlay, coordinates: coordinates, bounding: bounding, xAxis: xAxis, yAxis: yAxis })) !== null && _b !== void 0 ? _b : [];\n    };\n    return OverlayYAxisView;\n}(OverlayView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CrosshairHorizontalLabelView = /** @class */ (function (_super) {\n    __extends(CrosshairHorizontalLabelView, _super);\n    function CrosshairHorizontalLabelView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairHorizontalLabelView.prototype.drawImp = function (ctx) {\n        var _a;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = widget.getPane().getChart().getChartStore();\n        var crosshair = chartStore.getCrosshair();\n        if (isString(crosshair.paneId) && this.compare(crosshair, pane.getId())) {\n            var styles = chartStore.getStyles().crosshair;\n            if (styles.show) {\n                var directionStyles = this.getDirectionStyles(styles);\n                var textStyles = directionStyles.text;\n                if (directionStyles.show && textStyles.show) {\n                    var bounding = widget.getBounding();\n                    var axis = pane.getAxisComponent();\n                    var text = this.getText(crosshair, chartStore, axis);\n                    ctx.font = createFont(textStyles.size, textStyles.weight, textStyles.family);\n                    (_a = this.createFigure({\n                        name: 'text',\n                        attrs: this.getTextAttrs(text, ctx.measureText(text).width, crosshair, bounding, axis, textStyles),\n                        styles: textStyles\n                    })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                }\n            }\n        }\n    };\n    CrosshairHorizontalLabelView.prototype.compare = function (crosshair, paneId) {\n        return crosshair.paneId === paneId;\n    };\n    CrosshairHorizontalLabelView.prototype.getDirectionStyles = function (styles) {\n        return styles.horizontal;\n    };\n    CrosshairHorizontalLabelView.prototype.getText = function (crosshair, chartStore, axis) {\n        var _a, _b;\n        var yAxis = axis;\n        var value = axis.convertFromPixel(crosshair.y);\n        var precision = 0;\n        var shouldFormatBigNumber = false;\n        if (yAxis.isInCandle()) {\n            precision = (_b = (_a = chartStore.getSymbol()) === null || _a === void 0 ? void 0 : _a.pricePrecision) !== null && _b !== void 0 ? _b : SymbolDefaultPrecisionConstants.PRICE;\n        }\n        else {\n            var indicators = chartStore.getIndicatorsByPaneId(crosshair.paneId);\n            indicators.forEach(function (indicator) {\n                precision = Math.max(indicator.precision, precision);\n                shouldFormatBigNumber || (shouldFormatBigNumber = indicator.shouldFormatBigNumber);\n            });\n        }\n        var yAxisRange = yAxis.getRange();\n        var text = yAxis.displayValueToText(yAxis.realValueToDisplayValue(yAxis.valueToRealValue(value, { range: yAxisRange }), { range: yAxisRange }), precision);\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n        if (shouldFormatBigNumber) {\n            text = chartStore.getInnerFormatter().formatBigNumber(text);\n        }\n        return chartStore.getDecimalFold().format(chartStore.getThousandsSeparator().format(text));\n    };\n    CrosshairHorizontalLabelView.prototype.getTextAttrs = function (text, _textWidth, crosshair, bounding, axis, _styles) {\n        var yAxis = axis;\n        var x = 0;\n        var textAlign = 'left';\n        if (yAxis.isFromZero()) {\n            x = 0;\n            textAlign = 'left';\n        }\n        else {\n            x = bounding.width;\n            textAlign = 'right';\n        }\n        return { x: x, y: crosshair.y, text: text, align: textAlign, baseline: 'middle' };\n    };\n    return CrosshairHorizontalLabelView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar YAxisWidget = /** @class */ (function (_super) {\n    __extends(YAxisWidget, _super);\n    function YAxisWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._yAxisView = new YAxisView(_this);\n        _this._candleLastPriceLabelView = new CandleLastPriceLabelView(_this);\n        _this._indicatorLastValueView = new IndicatorLastValueView(_this);\n        _this._overlayYAxisView = new OverlayYAxisView(_this);\n        _this._crosshairHorizontalLabelView = new CrosshairHorizontalLabelView(_this);\n        _this.setCursor('ns-resize');\n        _this.addChild(_this._overlayYAxisView);\n        return _this;\n    }\n    YAxisWidget.prototype.getName = function () {\n        return WidgetNameConstants.Y_AXIS;\n    };\n    YAxisWidget.prototype.updateMain = function (ctx) {\n        var minimize = this.getPane().getOptions().state === 'minimize';\n        this._yAxisView.draw(ctx, minimize);\n        if (!minimize) {\n            if (this.getPane().getAxisComponent().isInCandle()) {\n                this._candleLastPriceLabelView.draw(ctx);\n            }\n            this._indicatorLastValueView.draw(ctx);\n        }\n    };\n    YAxisWidget.prototype.updateOverlay = function (ctx) {\n        if (this.getPane().getOptions().state !== 'minimize') {\n            this._overlayYAxisView.draw(ctx);\n            this._crosshairHorizontalLabelView.draw(ctx);\n        }\n    };\n    return YAxisWidget;\n}(DrawWidget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getDefaultAxisRange() {\n    return {\n        from: 0,\n        to: 0,\n        range: 0,\n        realFrom: 0,\n        realTo: 0,\n        realRange: 0,\n        displayFrom: 0,\n        displayTo: 0,\n        displayRange: 0\n    };\n}\nvar AxisImp = /** @class */ (function () {\n    function AxisImp(parent) {\n        this.scrollZoomEnabled = true;\n        this._range = getDefaultAxisRange();\n        this._prevRange = getDefaultAxisRange();\n        this._ticks = [];\n        this._autoCalcTickFlag = true;\n        this._parent = parent;\n    }\n    AxisImp.prototype.getParent = function () { return this._parent; };\n    AxisImp.prototype.buildTicks = function (force) {\n        if (this._autoCalcTickFlag) {\n            this._range = this.createRangeImp();\n        }\n        if (this._prevRange.from !== this._range.from || this._prevRange.to !== this._range.to || force) {\n            this._prevRange = this._range;\n            this._ticks = this.createTicksImp();\n            return true;\n        }\n        return false;\n    };\n    AxisImp.prototype.getTicks = function () {\n        return this._ticks;\n    };\n    AxisImp.prototype.setRange = function (range) {\n        this._autoCalcTickFlag = false;\n        this._range = range;\n    };\n    AxisImp.prototype.getRange = function () { return this._range; };\n    AxisImp.prototype.setAutoCalcTickFlag = function (flag) {\n        this._autoCalcTickFlag = flag;\n    };\n    AxisImp.prototype.getAutoCalcTickFlag = function () { return this._autoCalcTickFlag; };\n    return AxisImp;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar TICK_COUNT = 8;\nvar YAxisImp = /** @class */ (function (_super) {\n    __extends(YAxisImp, _super);\n    function YAxisImp(parent, yAxis) {\n        var _this = _super.call(this, parent) || this;\n        _this.reverse = false;\n        _this.inside = false;\n        _this.position = 'right';\n        _this.gap = {\n            top: 0.2,\n            bottom: 0.1\n        };\n        _this.createRange = function (params) { return params.defaultRange; };\n        _this.minSpan = function (precision) { return index10(-precision); };\n        _this.valueToRealValue = function (value) { return value; };\n        _this.realValueToDisplayValue = function (value) { return value; };\n        _this.displayValueToRealValue = function (value) { return value; };\n        _this.realValueToValue = function (value) { return value; };\n        _this.displayValueToText = function (value, precision) { return formatPrecision(value, precision); };\n        _this.override(yAxis);\n        return _this;\n    }\n    YAxisImp.prototype.override = function (yAxis) {\n        var name = yAxis.name, gap = yAxis.gap, others = __rest(yAxis, [\"name\", \"gap\"]);\n        if (!isString(this.name)) {\n            this.name = name;\n        }\n        merge(this.gap, gap);\n        merge(this, others);\n    };\n    YAxisImp.prototype.createRangeImp = function () {\n        var _a, _b;\n        var parent = this.getParent();\n        var chart = parent.getChart();\n        var chartStore = chart.getChartStore();\n        var paneId = parent.getId();\n        var min = Number.MAX_SAFE_INTEGER;\n        var max = Number.MIN_SAFE_INTEGER;\n        var shouldOhlc = false;\n        var specifyMin = Number.MAX_SAFE_INTEGER;\n        var specifyMax = Number.MIN_SAFE_INTEGER;\n        var indicatorPrecision = Number.MAX_SAFE_INTEGER;\n        var indicators = chartStore.getIndicatorsByPaneId(paneId);\n        indicators.forEach(function (indicator) {\n            shouldOhlc || (shouldOhlc = indicator.shouldOhlc);\n            indicatorPrecision = Math.min(indicatorPrecision, indicator.precision);\n            if (isNumber(indicator.minValue)) {\n                specifyMin = Math.min(specifyMin, indicator.minValue);\n            }\n            if (isNumber(indicator.maxValue)) {\n                specifyMax = Math.max(specifyMax, indicator.maxValue);\n            }\n        });\n        var precision = 4;\n        var inCandle = this.isInCandle();\n        if (inCandle) {\n            var pricePrecision = (_b = (_a = chartStore.getSymbol()) === null || _a === void 0 ? void 0 : _a.pricePrecision) !== null && _b !== void 0 ? _b : SymbolDefaultPrecisionConstants.PRICE;\n            if (indicatorPrecision !== Number.MAX_SAFE_INTEGER) {\n                precision = Math.min(indicatorPrecision, pricePrecision);\n            }\n            else {\n                precision = pricePrecision;\n            }\n        }\n        else {\n            if (indicatorPrecision !== Number.MAX_SAFE_INTEGER) {\n                precision = indicatorPrecision;\n            }\n        }\n        var visibleRangeDataList = chartStore.getVisibleRangeDataList();\n        var candleStyles = chart.getStyles().candle;\n        var isArea = candleStyles.type === 'area';\n        var areaValueKey = candleStyles.area.value;\n        var shouldCompareHighLow = (inCandle && !isArea) || (!inCandle && shouldOhlc);\n        visibleRangeDataList.forEach(function (visibleData) {\n            var dataIndex = visibleData.dataIndex;\n            var data = visibleData.data.current;\n            if (isValid(data)) {\n                if (shouldCompareHighLow) {\n                    min = Math.min(min, data.low);\n                    max = Math.max(max, data.high);\n                }\n                if (inCandle && isArea) {\n                    var value = data[areaValueKey];\n                    if (isNumber(value)) {\n                        min = Math.min(min, value);\n                        max = Math.max(max, value);\n                    }\n                }\n            }\n            indicators.forEach(function (_a) {\n                var _b;\n                var result = _a.result, figures = _a.figures;\n                var data = (_b = result[dataIndex]) !== null && _b !== void 0 ? _b : {};\n                figures.forEach(function (figure) {\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                    var value = data[figure.key];\n                    if (isNumber(value)) {\n                        min = Math.min(min, value);\n                        max = Math.max(max, value);\n                    }\n                });\n            });\n        });\n        if (min !== Number.MAX_SAFE_INTEGER && max !== Number.MIN_SAFE_INTEGER) {\n            min = Math.min(specifyMin, min);\n            max = Math.max(specifyMax, max);\n        }\n        else {\n            min = 0;\n            max = 10;\n        }\n        var defaultDiff = max - min;\n        var defaultRange = {\n            from: min,\n            to: max,\n            range: defaultDiff,\n            realFrom: min,\n            realTo: max,\n            realRange: defaultDiff,\n            displayFrom: min,\n            displayTo: max,\n            displayRange: defaultDiff\n        };\n        var range = this.createRange({\n            chart: chart,\n            paneId: paneId,\n            defaultRange: defaultRange\n        });\n        var realFrom = range.realFrom;\n        var realTo = range.realTo;\n        var realRange = range.realRange;\n        var minSpan = this.minSpan(precision);\n        if (realFrom === realTo || realRange < minSpan) {\n            var minCheck = specifyMin === realFrom;\n            var maxCheck = specifyMax === realTo;\n            var halfTickCount = TICK_COUNT / 2;\n            realFrom = minCheck ? realFrom : (maxCheck ? realFrom - TICK_COUNT * minSpan : realFrom - halfTickCount * minSpan);\n            realTo = maxCheck ? realTo : (minCheck ? realTo + TICK_COUNT * minSpan : realTo + halfTickCount * minSpan);\n        }\n        var height = this.getBounding().height;\n        var _c = this.gap, top = _c.top, bottom = _c.bottom;\n        var topRate = top;\n        if (topRate >= 1) {\n            topRate = topRate / height;\n        }\n        var bottomRate = bottom;\n        if (bottomRate >= 1) {\n            bottomRate = bottomRate / height;\n        }\n        realRange = realTo - realFrom;\n        realFrom = realFrom - realRange * bottomRate;\n        realTo = realTo + realRange * topRate;\n        var from = this.realValueToValue(realFrom, { range: range });\n        var to = this.realValueToValue(realTo, { range: range });\n        var displayFrom = this.realValueToDisplayValue(realFrom, { range: range });\n        var displayTo = this.realValueToDisplayValue(realTo, { range: range });\n        return {\n            from: from,\n            to: to,\n            range: to - from,\n            realFrom: realFrom,\n            realTo: realTo,\n            realRange: realTo - realFrom,\n            displayFrom: displayFrom,\n            displayTo: displayTo,\n            displayRange: displayTo - displayFrom\n        };\n    };\n    /**\n     * ÊòØÂê¶ÊòØËú°ÁÉõÂõæËΩ¥\n     * @return {boolean}\n     */\n    YAxisImp.prototype.isInCandle = function () {\n        return this.getParent().getId() === PaneIdConstants.CANDLE;\n    };\n    /**\n     * ÊòØÂê¶‰ªéyËΩ¥0ÂºÄÂßã\n     * @return {boolean}\n     */\n    YAxisImp.prototype.isFromZero = function () {\n        return ((this.position === 'left' && this.inside) ||\n            (this.position === 'right' && !this.inside));\n    };\n    YAxisImp.prototype.createTicksImp = function () {\n        var _this = this;\n        var _a, _b, _c, _d;\n        var range = this.getRange();\n        var displayFrom = range.displayFrom, displayTo = range.displayTo, displayRange = range.displayRange;\n        var ticks = [];\n        if (displayRange >= 0) {\n            var interval = nice(displayRange / TICK_COUNT);\n            var precision_1 = getPrecision(interval);\n            var first = round(Math.ceil(displayFrom / interval) * interval, precision_1);\n            var last = round(Math.floor(displayTo / interval) * interval, precision_1);\n            var n = 0;\n            var f = first;\n            if (interval !== 0) {\n                while (f <= last) {\n                    var v = f.toFixed(precision_1);\n                    ticks[n] = { text: v, coord: 0, value: v };\n                    ++n;\n                    f += interval;\n                }\n            }\n        }\n        var pane = this.getParent();\n        var height = (_b = (_a = pane.getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding().height) !== null && _b !== void 0 ? _b : 0;\n        var chartStore = pane.getChart().getChartStore();\n        var optimalTicks = [];\n        var indicators = chartStore.getIndicatorsByPaneId(pane.getId());\n        var styles = chartStore.getStyles();\n        var precision = 0;\n        var shouldFormatBigNumber = false;\n        if (this.isInCandle()) {\n            precision = (_d = (_c = chartStore.getSymbol()) === null || _c === void 0 ? void 0 : _c.pricePrecision) !== null && _d !== void 0 ? _d : SymbolDefaultPrecisionConstants.PRICE;\n        }\n        else {\n            indicators.forEach(function (indicator) {\n                precision = Math.max(precision, indicator.precision);\n                shouldFormatBigNumber || (shouldFormatBigNumber = indicator.shouldFormatBigNumber);\n            });\n        }\n        var formatter = chartStore.getInnerFormatter();\n        var thousandsSeparator = chartStore.getThousandsSeparator();\n        var decimalFold = chartStore.getDecimalFold();\n        var textHeight = styles.xAxis.tickText.size;\n        var validY = NaN;\n        ticks.forEach(function (_a) {\n            var value = _a.value;\n            var v = _this.displayValueToText(+value, precision);\n            var y = _this.convertToPixel(_this.realValueToValue(_this.displayValueToRealValue(+value, { range: range }), { range: range }));\n            if (shouldFormatBigNumber) {\n                v = formatter.formatBigNumber(value);\n            }\n            v = decimalFold.format(thousandsSeparator.format(v));\n            var validYNumber = isNumber(validY);\n            if (y > textHeight &&\n                y < height - textHeight &&\n                ((validYNumber && (Math.abs(validY - y) > textHeight * 2)) || !validYNumber)) {\n                optimalTicks.push({ text: v, coord: y, value: value });\n                validY = y;\n            }\n        });\n        if (isFunction(this.createTicks)) {\n            return this.createTicks({\n                range: this.getRange(),\n                bounding: this.getBounding(),\n                defaultTicks: optimalTicks\n            });\n        }\n        return optimalTicks;\n    };\n    YAxisImp.prototype.getAutoSize = function () {\n        var _a, _b;\n        var pane = this.getParent();\n        var chart = pane.getChart();\n        var chartStore = chart.getChartStore();\n        var styles = chartStore.getStyles();\n        var yAxisStyles = styles.yAxis;\n        var width = yAxisStyles.size;\n        if (width !== 'auto') {\n            return width;\n        }\n        var yAxisWidth = 0;\n        if (yAxisStyles.show) {\n            if (yAxisStyles.axisLine.show) {\n                yAxisWidth += yAxisStyles.axisLine.size;\n            }\n            if (yAxisStyles.tickLine.show) {\n                yAxisWidth += yAxisStyles.tickLine.length;\n            }\n            if (yAxisStyles.tickText.show) {\n                var textWidth_1 = 0;\n                this.getTicks().forEach(function (tick) {\n                    textWidth_1 = Math.max(textWidth_1, calcTextWidth(tick.text, yAxisStyles.tickText.size, yAxisStyles.tickText.weight, yAxisStyles.tickText.family));\n                });\n                yAxisWidth += (yAxisStyles.tickText.marginStart + yAxisStyles.tickText.marginEnd + textWidth_1);\n            }\n        }\n        var priceMarkStyles = styles.candle.priceMark;\n        var lastPriceMarkTextVisible = priceMarkStyles.show && priceMarkStyles.last.show && priceMarkStyles.last.text.show;\n        var lastPriceTextWidth = 0;\n        var crosshairStyles = styles.crosshair;\n        var crosshairHorizontalTextVisible = crosshairStyles.show && crosshairStyles.horizontal.show && crosshairStyles.horizontal.text.show;\n        var crosshairHorizontalTextWidth = 0;\n        if (lastPriceMarkTextVisible || crosshairHorizontalTextVisible) {\n            var pricePrecision = (_b = (_a = chartStore.getSymbol()) === null || _a === void 0 ? void 0 : _a.pricePrecision) !== null && _b !== void 0 ? _b : SymbolDefaultPrecisionConstants.PRICE;\n            var max = this.getRange().displayTo;\n            if (lastPriceMarkTextVisible) {\n                var dataList = chartStore.getDataList();\n                var data_1 = dataList[dataList.length - 1];\n                if (isValid(data_1)) {\n                    var _c = priceMarkStyles.last.text, paddingLeft = _c.paddingLeft, paddingRight = _c.paddingRight, size = _c.size, family = _c.family, weight = _c.weight;\n                    lastPriceTextWidth = paddingLeft + calcTextWidth(formatPrecision(data_1.close, pricePrecision), size, weight, family) + paddingRight;\n                    var formatExtendText_1 = chartStore.getInnerFormatter().formatExtendText;\n                    priceMarkStyles.last.extendTexts.forEach(function (item, index) {\n                        var text = formatExtendText_1({ type: 'last_price', data: data_1, index: index });\n                        if (text.length > 0 && item.show) {\n                            lastPriceTextWidth = Math.max(lastPriceTextWidth, item.paddingLeft + calcTextWidth(text, item.size, item.weight, item.family) + item.paddingRight);\n                        }\n                    });\n                }\n            }\n            if (crosshairHorizontalTextVisible) {\n                var indicators = chartStore.getIndicatorsByPaneId(pane.getId());\n                var indicatorPrecision_1 = 0;\n                var shouldFormatBigNumber_1 = false;\n                indicators.forEach(function (indicator) {\n                    indicatorPrecision_1 = Math.max(indicator.precision, indicatorPrecision_1);\n                    shouldFormatBigNumber_1 || (shouldFormatBigNumber_1 = indicator.shouldFormatBigNumber);\n                });\n                var precision = 2;\n                if (this.isInCandle()) {\n                    var lastValueMarkStyles = styles.indicator.lastValueMark;\n                    if (lastValueMarkStyles.show && lastValueMarkStyles.text.show) {\n                        precision = Math.max(indicatorPrecision_1, pricePrecision);\n                    }\n                    else {\n                        precision = pricePrecision;\n                    }\n                }\n                else {\n                    precision = indicatorPrecision_1;\n                }\n                var valueText = formatPrecision(max, precision);\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n                if (shouldFormatBigNumber_1) {\n                    valueText = chartStore.getInnerFormatter().formatBigNumber(valueText);\n                }\n                valueText = chartStore.getDecimalFold().format(valueText);\n                crosshairHorizontalTextWidth += (crosshairStyles.horizontal.text.paddingLeft +\n                    crosshairStyles.horizontal.text.paddingRight +\n                    crosshairStyles.horizontal.text.borderSize * 2 +\n                    calcTextWidth(valueText, crosshairStyles.horizontal.text.size, crosshairStyles.horizontal.text.weight, crosshairStyles.horizontal.text.family));\n            }\n        }\n        return Math.max(yAxisWidth, lastPriceTextWidth, crosshairHorizontalTextWidth);\n    };\n    YAxisImp.prototype.getBounding = function () {\n        return this.getParent().getYAxisWidget().getBounding();\n    };\n    YAxisImp.prototype.convertFromPixel = function (pixel) {\n        var height = this.getBounding().height;\n        var range = this.getRange();\n        var realFrom = range.realFrom, realRange = range.realRange;\n        var rate = this.reverse ? pixel / height : 1 - pixel / height;\n        var realValue = rate * realRange + realFrom;\n        return this.realValueToValue(realValue, { range: range });\n    };\n    YAxisImp.prototype.convertToPixel = function (value) {\n        var _a, _b;\n        var range = this.getRange();\n        var realValue = this.valueToRealValue(value, { range: range });\n        var height = (_b = (_a = this.getParent().getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding().height) !== null && _b !== void 0 ? _b : 0;\n        var realFrom = range.realFrom, realRange = range.realRange;\n        var rate = (realValue - realFrom) / realRange;\n        return this.reverse ? Math.round(rate * height) : Math.round((1 - rate) * height);\n    };\n    YAxisImp.prototype.convertToNicePixel = function (value) {\n        var _a, _b;\n        var height = (_b = (_a = this.getParent().getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding().height) !== null && _b !== void 0 ? _b : 0;\n        var pixel = this.convertToPixel(value);\n        return Math.round(Math.max(height * 0.05, Math.min(pixel, height * 0.98)));\n    };\n    YAxisImp.extend = function (template) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom(parent) {\n                return _super.call(this, parent, template) || this;\n            }\n            return Custom;\n        }(YAxisImp));\n        return Custom;\n    };\n    return YAxisImp;\n}(AxisImp));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar normal$1 = {\n    name: 'normal'\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar percentage = {\n    name: 'percentage',\n    minSpan: function () { return Math.pow(10, -2); },\n    displayValueToText: function (value) { return \"\".concat(formatPrecision(value, 2), \"%\"); },\n    valueToRealValue: function (value, _a) {\n        var range = _a.range;\n        return (value - range.from) / range.range * range.realRange + range.realFrom;\n    },\n    realValueToValue: function (value, _a) {\n        var range = _a.range;\n        return (value - range.realFrom) / range.realRange * range.range + range.from;\n    },\n    createRange: function (_a) {\n        var chart = _a.chart, defaultRange = _a.defaultRange;\n        var kLineDataList = chart.getDataList();\n        var visibleRange = chart.getVisibleRange();\n        var kLineData = kLineDataList[visibleRange.from];\n        if (isValid(kLineData)) {\n            var from = defaultRange.from, to = defaultRange.to, range = defaultRange.range;\n            var realFrom = (defaultRange.from - kLineData.close) / kLineData.close * 100;\n            var realTo = (defaultRange.to - kLineData.close) / kLineData.close * 100;\n            var realRange = realTo - realFrom;\n            return {\n                from: from,\n                to: to,\n                range: range,\n                realFrom: realFrom,\n                realTo: realTo,\n                realRange: realRange,\n                displayFrom: realFrom,\n                displayTo: realTo,\n                displayRange: realRange\n            };\n        }\n        return defaultRange;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar logarithm = {\n    name: 'logarithm',\n    minSpan: function (precision) { return 0.05 * index10(-precision); },\n    valueToRealValue: function (value) { return value < 0 ? -log10(Math.abs(value)) : log10(value); },\n    realValueToDisplayValue: function (value) { return value < 0 ? -index10(Math.abs(value)) : index10(value); },\n    displayValueToRealValue: function (value) { return value < 0 ? -log10(Math.abs(value)) : log10(value); },\n    realValueToValue: function (value) { return value < 0 ? -index10(Math.abs(value)) : index10(value); },\n    createRange: function (_a) {\n        var defaultRange = _a.defaultRange;\n        var from = defaultRange.from, to = defaultRange.to, range = defaultRange.range;\n        var realFrom = from < 0 ? -log10(Math.abs(from)) : log10(from);\n        var realTo = to < 0 ? -log10(Math.abs(to)) : log10(to);\n        return {\n            from: from,\n            to: to,\n            range: range,\n            realFrom: realFrom,\n            realTo: realTo,\n            realRange: realTo - realFrom,\n            displayFrom: from,\n            displayTo: to,\n            displayRange: range\n        };\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar yAxises = {\n    normal: YAxisImp.extend(normal$1),\n    percentage: YAxisImp.extend(percentage),\n    logarithm: YAxisImp.extend(logarithm)\n};\nfunction registerYAxis(axis) {\n    yAxises[axis.name] = YAxisImp.extend(axis);\n}\nfunction getYAxisClass(name) {\n    var _a;\n    return (_a = yAxises[name]) !== null && _a !== void 0 ? _a : yAxises.normal;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Pane = /** @class */ (function () {\n    function Pane(chart, id) {\n        this._bounding = createDefaultBounding();\n        this._originalBounding = createDefaultBounding();\n        this._visible = true;\n        this._chart = chart;\n        this._id = id;\n        this._container = createDom('div', {\n            width: '100%',\n            margin: '0',\n            padding: '0',\n            position: 'relative',\n            overflow: 'hidden',\n            boxSizing: 'border-box'\n        });\n    }\n    Pane.prototype.getContainer = function () {\n        return this._container;\n    };\n    Pane.prototype.setVisible = function (visible) {\n        if (this._visible !== visible) {\n            this._container.style.display = visible ? 'block' : 'none';\n            this._visible = visible;\n        }\n    };\n    Pane.prototype.getVisible = function () {\n        return this._visible;\n    };\n    Pane.prototype.getId = function () {\n        return this._id;\n    };\n    Pane.prototype.getChart = function () {\n        return this._chart;\n    };\n    Pane.prototype.getBounding = function () {\n        return this._bounding;\n    };\n    Pane.prototype.setOriginalBounding = function (bounding) {\n        merge(this._originalBounding, bounding);\n    };\n    Pane.prototype.getOriginalBounding = function () {\n        return this._originalBounding;\n    };\n    Pane.prototype.update = function (level) {\n        if (this._bounding.height !== this._container.clientHeight) {\n            this._container.style.height = \"\".concat(this._bounding.height, \"px\");\n        }\n        this.updateImp(level !== null && level !== void 0 ? level : 3 /* UpdateLevel.Drawer */, this._container, this._bounding);\n    };\n    return Pane;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DrawPane = /** @class */ (function (_super) {\n    __extends(DrawPane, _super);\n    function DrawPane(chart, id, options) {\n        var _this = _super.call(this, chart, id) || this;\n        _this._yAxisWidget = null;\n        _this._options = {\n            id: '',\n            minHeight: PANE_MIN_HEIGHT,\n            dragEnabled: true,\n            order: 0,\n            height: PANE_DEFAULT_HEIGHT,\n            state: 'normal',\n            axis: { name: 'normal', scrollZoomEnabled: true }\n        };\n        var container = _this.getContainer();\n        _this._mainWidget = _this.createMainWidget(container);\n        _this._yAxisWidget = _this.createYAxisWidget(container);\n        _this.setOptions(options);\n        return _this;\n    }\n    DrawPane.prototype.setOptions = function (options) {\n        var _a, _b, _c, _d, _e;\n        var paneId = this.getId();\n        if (paneId === PaneIdConstants.CANDLE || paneId === PaneIdConstants.X_AXIS) {\n            var axisName = (_a = options.axis) === null || _a === void 0 ? void 0 : _a.name;\n            if (!isValid(this._axis) ||\n                (isValid(axisName) && this._options.axis.name !== axisName)) {\n                this._axis = this.createAxisComponent(axisName !== null && axisName !== void 0 ? axisName : 'normal');\n            }\n        }\n        else {\n            if (!isValid(this._axis)) {\n                this._axis = this.createAxisComponent('normal');\n            }\n        }\n        if (this._axis instanceof YAxisImp) {\n            this._axis.setAutoCalcTickFlag(true);\n        }\n        merge(this._options, options);\n        this._axis.override(__assign(__assign({}, this._options.axis), { name: (_c = (_b = options.axis) === null || _b === void 0 ? void 0 : _b.name) !== null && _c !== void 0 ? _c : 'normal' }));\n        var container = null;\n        var cursor = 'default';\n        if (this.getId() === PaneIdConstants.X_AXIS) {\n            container = this.getMainWidget().getContainer();\n            cursor = 'ew-resize';\n        }\n        else {\n            container = this.getYAxisWidget().getContainer();\n            cursor = 'ns-resize';\n        }\n        if ((_e = (_d = options.axis) === null || _d === void 0 ? void 0 : _d.scrollZoomEnabled) !== null && _e !== void 0 ? _e : true) {\n            container.style.cursor = cursor;\n        }\n        else {\n            container.style.cursor = 'default';\n        }\n        return this;\n    };\n    DrawPane.prototype.getOptions = function () { return this._options; };\n    DrawPane.prototype.getAxisComponent = function () {\n        return this._axis;\n    };\n    DrawPane.prototype.setBounding = function (rootBounding, mainBounding, leftYAxisBounding, rightYAxisBounding) {\n        var _a, _b, _c, _d;\n        merge(this.getBounding(), rootBounding);\n        var contentBounding = {};\n        if (isValid(rootBounding.height)) {\n            contentBounding.height = rootBounding.height;\n        }\n        if (isValid(rootBounding.top)) {\n            contentBounding.top = rootBounding.top;\n        }\n        this._mainWidget.setBounding(contentBounding);\n        var mainBoundingValid = isValid(mainBounding);\n        if (mainBoundingValid) {\n            this._mainWidget.setBounding(mainBounding);\n        }\n        if (isValid(this._yAxisWidget)) {\n            this._yAxisWidget.setBounding(contentBounding);\n            var yAxis = this._axis;\n            if (yAxis.position === 'left') {\n                if (isValid(leftYAxisBounding)) {\n                    this._yAxisWidget.setBounding(__assign(__assign({}, leftYAxisBounding), { left: 0 }));\n                }\n            }\n            else {\n                if (isValid(rightYAxisBounding)) {\n                    this._yAxisWidget.setBounding(rightYAxisBounding);\n                    if (mainBoundingValid) {\n                        this._yAxisWidget.setBounding({\n                            left: ((_a = mainBounding.left) !== null && _a !== void 0 ? _a : 0) +\n                                ((_b = mainBounding.width) !== null && _b !== void 0 ? _b : 0) +\n                                ((_c = mainBounding.right) !== null && _c !== void 0 ? _c : 0) -\n                                ((_d = rightYAxisBounding.width) !== null && _d !== void 0 ? _d : 0)\n                        });\n                    }\n                }\n            }\n        }\n        return this;\n    };\n    DrawPane.prototype.getMainWidget = function () { return this._mainWidget; };\n    DrawPane.prototype.getYAxisWidget = function () { return this._yAxisWidget; };\n    DrawPane.prototype.updateImp = function (level) {\n        var _a;\n        this._mainWidget.update(level);\n        (_a = this._yAxisWidget) === null || _a === void 0 ? void 0 : _a.update(level);\n    };\n    DrawPane.prototype.destroy = function () {\n        var _a;\n        this._mainWidget.destroy();\n        (_a = this._yAxisWidget) === null || _a === void 0 ? void 0 : _a.destroy();\n    };\n    DrawPane.prototype.getImage = function (includeOverlay) {\n        var _a = this.getBounding(), width = _a.width, height = _a.height;\n        var canvas = createDom('canvas', {\n            width: \"\".concat(width, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            boxSizing: 'border-box'\n        });\n        var ctx = canvas.getContext('2d');\n        var pixelRatio = getPixelRatio(canvas);\n        canvas.width = width * pixelRatio;\n        canvas.height = height * pixelRatio;\n        ctx.scale(pixelRatio, pixelRatio);\n        var mainBounding = this._mainWidget.getBounding();\n        ctx.drawImage(this._mainWidget.getImage(includeOverlay), mainBounding.left, 0, mainBounding.width, mainBounding.height);\n        if (this._yAxisWidget !== null) {\n            var yAxisBounding = this._yAxisWidget.getBounding();\n            ctx.drawImage(this._yAxisWidget.getImage(includeOverlay), yAxisBounding.left, 0, yAxisBounding.width, yAxisBounding.height);\n        }\n        return canvas;\n    };\n    DrawPane.prototype.createYAxisWidget = function (_container) { return null; };\n    return DrawPane;\n}(Pane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorPane = /** @class */ (function (_super) {\n    __extends(IndicatorPane, _super);\n    function IndicatorPane() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IndicatorPane.prototype.createAxisComponent = function (name) {\n        var YAxisClass = getYAxisClass(name !== null && name !== void 0 ? name : 'default');\n        return new YAxisClass(this);\n    };\n    IndicatorPane.prototype.createMainWidget = function (container) {\n        return new IndicatorWidget(container, this);\n    };\n    IndicatorPane.prototype.createYAxisWidget = function (container) {\n        return new YAxisWidget(container, this);\n    };\n    return IndicatorPane;\n}(DrawPane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandlePane = /** @class */ (function (_super) {\n    __extends(CandlePane, _super);\n    function CandlePane() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandlePane.prototype.createMainWidget = function (container) {\n        return new CandleWidget(container, this);\n    };\n    return CandlePane;\n}(IndicatorPane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar XAxisView = /** @class */ (function (_super) {\n    __extends(XAxisView, _super);\n    function XAxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    XAxisView.prototype.getAxisStyles = function (styles) {\n        return styles.xAxis;\n    };\n    XAxisView.prototype.createAxisLine = function (bounding) {\n        return {\n            coordinates: [\n                { x: 0, y: 0 },\n                { x: bounding.width, y: 0 }\n            ]\n        };\n    };\n    XAxisView.prototype.createTickLines = function (ticks, _bounding, styles) {\n        var tickLineStyles = styles.tickLine;\n        var axisLineSize = styles.axisLine.size;\n        return ticks.map(function (tick) { return ({\n            coordinates: [\n                { x: tick.coord, y: 0 },\n                { x: tick.coord, y: axisLineSize + tickLineStyles.length }\n            ]\n        }); });\n    };\n    XAxisView.prototype.createTickTexts = function (ticks, _bounding, styles) {\n        var tickTickStyles = styles.tickText;\n        var axisLineSize = styles.axisLine.size;\n        var tickLineLength = styles.tickLine.length;\n        return ticks.map(function (tick) { return ({\n            x: tick.coord,\n            y: axisLineSize + tickLineLength + tickTickStyles.marginStart,\n            text: tick.text,\n            align: 'center',\n            baseline: 'top'\n        }); });\n    };\n    return XAxisView;\n}(AxisView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar OverlayXAxisView = /** @class */ (function (_super) {\n    __extends(OverlayXAxisView, _super);\n    function OverlayXAxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OverlayXAxisView.prototype.coordinateToPointTimestampDataIndexFlag = function () {\n        return true;\n    };\n    OverlayXAxisView.prototype.coordinateToPointValueFlag = function () {\n        return false;\n    };\n    OverlayXAxisView.prototype.getCompleteOverlays = function () {\n        return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId();\n    };\n    OverlayXAxisView.prototype.getProgressOverlay = function () {\n        var _a, _b;\n        return (_b = (_a = this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo()) === null || _a === void 0 ? void 0 : _a.overlay) !== null && _b !== void 0 ? _b : null;\n    };\n    OverlayXAxisView.prototype.getDefaultFigures = function (overlay, coordinates) {\n        var _a;\n        var figures = [];\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var clickOverlayInfo = chartStore.getClickOverlayInfo();\n        if (overlay.needDefaultXAxisFigure && overlay.id === ((_a = clickOverlayInfo.overlay) === null || _a === void 0 ? void 0 : _a.id)) {\n            var leftX_1 = Number.MAX_SAFE_INTEGER;\n            var rightX_1 = Number.MIN_SAFE_INTEGER;\n            coordinates.forEach(function (coordinate, index) {\n                leftX_1 = Math.min(leftX_1, coordinate.x);\n                rightX_1 = Math.max(rightX_1, coordinate.x);\n                var point = overlay.points[index];\n                if (isNumber(point.timestamp)) {\n                    var text = chartStore.getInnerFormatter().formatDate(point.timestamp, 'YYYY-MM-DD HH:mm', 'crosshair');\n                    figures.push({ type: 'text', attrs: { x: coordinate.x, y: 0, text: text, align: 'center' }, ignoreEvent: true });\n                }\n            });\n            if (coordinates.length > 1) {\n                figures.unshift({ type: 'rect', attrs: { x: leftX_1, y: 0, width: rightX_1 - leftX_1, height: widget.getBounding().height }, ignoreEvent: true });\n            }\n        }\n        return figures;\n    };\n    OverlayXAxisView.prototype.getFigures = function (o, coordinates) {\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chart = pane.getChart();\n        var yAxis = pane.getAxisComponent();\n        var xAxis = chart.getXAxisPane().getAxisComponent();\n        var bounding = widget.getBounding();\n        return (_b = (_a = o.createXAxisFigures) === null || _a === void 0 ? void 0 : _a.call(o, { chart: chart, overlay: o, coordinates: coordinates, bounding: bounding, xAxis: xAxis, yAxis: yAxis })) !== null && _b !== void 0 ? _b : [];\n    };\n    return OverlayXAxisView;\n}(OverlayYAxisView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CrosshairVerticalLabelView = /** @class */ (function (_super) {\n    __extends(CrosshairVerticalLabelView, _super);\n    function CrosshairVerticalLabelView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairVerticalLabelView.prototype.compare = function (crosshair) {\n        return isValid(crosshair.timestamp);\n    };\n    CrosshairVerticalLabelView.prototype.getDirectionStyles = function (styles) {\n        return styles.vertical;\n    };\n    CrosshairVerticalLabelView.prototype.getText = function (crosshair, chartStore) {\n        var _a, _b;\n        var timestamp = crosshair.timestamp;\n        return chartStore.getInnerFormatter().formatDate(timestamp, PeriodTypeCrosshairTooltipFormat[(_b = (_a = chartStore.getPeriod()) === null || _a === void 0 ? void 0 : _a.type) !== null && _b !== void 0 ? _b : 'day'], 'crosshair');\n    };\n    CrosshairVerticalLabelView.prototype.getTextAttrs = function (text, textWidth, crosshair, bounding, _axis, styles) {\n        var x = crosshair.realX;\n        var optimalX = 0;\n        var align = 'center';\n        if (x - textWidth / 2 - styles.paddingLeft < 0) {\n            optimalX = 0;\n            align = 'left';\n        }\n        else if (x + textWidth / 2 + styles.paddingRight > bounding.width) {\n            optimalX = bounding.width;\n            align = 'right';\n        }\n        else {\n            optimalX = x;\n        }\n        return { x: optimalX, y: 0, text: text, align: align, baseline: 'top' };\n    };\n    return CrosshairVerticalLabelView;\n}(CrosshairHorizontalLabelView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar XAxisWidget = /** @class */ (function (_super) {\n    __extends(XAxisWidget, _super);\n    function XAxisWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._xAxisView = new XAxisView(_this);\n        _this._overlayXAxisView = new OverlayXAxisView(_this);\n        _this._crosshairVerticalLabelView = new CrosshairVerticalLabelView(_this);\n        _this.setCursor('ew-resize');\n        _this.addChild(_this._overlayXAxisView);\n        return _this;\n    }\n    XAxisWidget.prototype.getName = function () {\n        return WidgetNameConstants.X_AXIS;\n    };\n    XAxisWidget.prototype.updateMain = function (ctx) {\n        this._xAxisView.draw(ctx);\n    };\n    XAxisWidget.prototype.updateOverlay = function (ctx) {\n        this._overlayXAxisView.draw(ctx);\n        this._crosshairVerticalLabelView.draw(ctx);\n    };\n    return XAxisWidget;\n}(DrawWidget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar XAxisImp = /** @class */ (function (_super) {\n    __extends(XAxisImp, _super);\n    function XAxisImp(parent, xAxis) {\n        var _this = _super.call(this, parent) || this;\n        _this.override(xAxis);\n        return _this;\n    }\n    XAxisImp.prototype.override = function (xAxis) {\n        var name = xAxis.name, scrollZoomEnabled = xAxis.scrollZoomEnabled, createTicks = xAxis.createTicks;\n        if (!isString(this.name)) {\n            this.name = name;\n        }\n        this.scrollZoomEnabled = scrollZoomEnabled !== null && scrollZoomEnabled !== void 0 ? scrollZoomEnabled : this.scrollZoomEnabled;\n        this.createTicks = createTicks !== null && createTicks !== void 0 ? createTicks : this.createTicks;\n    };\n    XAxisImp.prototype.createRangeImp = function () {\n        var chartStore = this.getParent().getChart().getChartStore();\n        var visibleDataRange = chartStore.getVisibleRange();\n        var realFrom = visibleDataRange.realFrom, realTo = visibleDataRange.realTo;\n        var af = realFrom;\n        var at = realTo;\n        var diff = realTo - realFrom + 1;\n        var range = {\n            from: af,\n            to: at,\n            range: diff,\n            realFrom: af,\n            realTo: at,\n            realRange: diff,\n            displayFrom: af,\n            displayTo: at,\n            displayRange: diff\n        };\n        return range;\n    };\n    XAxisImp.prototype.createTicksImp = function () {\n        var _a;\n        var _b = this.getRange(), realFrom = _b.realFrom, realTo = _b.realTo, from = _b.from;\n        var chartStore = this.getParent().getChart().getChartStore();\n        var formatDate = chartStore.getInnerFormatter().formatDate;\n        var period = chartStore.getPeriod();\n        var ticks = [];\n        var barSpace = chartStore.getBarSpace().bar;\n        var textStyles = chartStore.getStyles().xAxis.tickText;\n        var tickTextWidth = Math.max(calcTextWidth('YYYY-MM-DD HH:mm:ss', textStyles.size, textStyles.weight, textStyles.family), this.getBounding().width / 8);\n        var tickBetweenBarCount = Math.ceil(tickTextWidth / barSpace);\n        if (tickBetweenBarCount % 2 !== 0) {\n            tickBetweenBarCount += 1;\n        }\n        var startDataIndex = Math.max(0, Math.floor(realFrom / tickBetweenBarCount) * tickBetweenBarCount);\n        for (var i = startDataIndex; i < realTo; i += tickBetweenBarCount) {\n            if (i >= from) {\n                var timestamp = chartStore.dataIndexToTimestamp(i);\n                if (isNumber(timestamp)) {\n                    ticks.push({\n                        coord: this.convertToPixel(i),\n                        value: timestamp,\n                        text: formatDate(timestamp, PeriodTypeXAxisFormat[(_a = period === null || period === void 0 ? void 0 : period.type) !== null && _a !== void 0 ? _a : 'day'], 'xAxis')\n                    });\n                }\n            }\n        }\n        if (isFunction(this.createTicks)) {\n            return this.createTicks({\n                range: this.getRange(),\n                bounding: this.getBounding(),\n                defaultTicks: ticks\n            });\n        }\n        return ticks;\n    };\n    XAxisImp.prototype.getAutoSize = function () {\n        var styles = this.getParent().getChart().getStyles();\n        var xAxisStyles = styles.xAxis;\n        var height = xAxisStyles.size;\n        if (height !== 'auto') {\n            return height;\n        }\n        var crosshairStyles = styles.crosshair;\n        var xAxisHeight = 0;\n        if (xAxisStyles.show) {\n            if (xAxisStyles.axisLine.show) {\n                xAxisHeight += xAxisStyles.axisLine.size;\n            }\n            if (xAxisStyles.tickLine.show) {\n                xAxisHeight += xAxisStyles.tickLine.length;\n            }\n            if (xAxisStyles.tickText.show) {\n                xAxisHeight += (xAxisStyles.tickText.marginStart + xAxisStyles.tickText.marginEnd + xAxisStyles.tickText.size);\n            }\n        }\n        var crosshairVerticalTextHeight = 0;\n        if (crosshairStyles.show &&\n            crosshairStyles.vertical.show &&\n            crosshairStyles.vertical.text.show) {\n            crosshairVerticalTextHeight += (crosshairStyles.vertical.text.paddingTop +\n                crosshairStyles.vertical.text.paddingBottom +\n                crosshairStyles.vertical.text.borderSize * 2 +\n                crosshairStyles.vertical.text.size);\n        }\n        return Math.max(xAxisHeight, crosshairVerticalTextHeight);\n    };\n    XAxisImp.prototype.getBounding = function () {\n        return this.getParent().getMainWidget().getBounding();\n    };\n    XAxisImp.prototype.convertTimestampFromPixel = function (pixel) {\n        var chartStore = this.getParent().getChart().getChartStore();\n        var dataIndex = chartStore.coordinateToDataIndex(pixel);\n        return chartStore.dataIndexToTimestamp(dataIndex);\n    };\n    XAxisImp.prototype.convertTimestampToPixel = function (timestamp) {\n        var chartStore = this.getParent().getChart().getChartStore();\n        var dataIndex = chartStore.timestampToDataIndex(timestamp);\n        return chartStore.dataIndexToCoordinate(dataIndex);\n    };\n    XAxisImp.prototype.convertFromPixel = function (pixel) {\n        return this.getParent().getChart().getChartStore().coordinateToDataIndex(pixel);\n    };\n    XAxisImp.prototype.convertToPixel = function (value) {\n        return this.getParent().getChart().getChartStore().dataIndexToCoordinate(value);\n    };\n    XAxisImp.extend = function (template) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom(parent) {\n                return _super.call(this, parent, template) || this;\n            }\n            return Custom;\n        }(XAxisImp));\n        return Custom;\n    };\n    return XAxisImp;\n}(AxisImp));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar normal = {\n    name: 'normal'\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar xAxises = {\n    normal: XAxisImp.extend(normal)\n};\nfunction registerXAxis(axis) {\n    xAxises[axis.name] = XAxisImp.extend(axis);\n}\nfunction getXAxisClass(name) {\n    var _a;\n    return (_a = xAxises[name]) !== null && _a !== void 0 ? _a : xAxises.normal;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar XAxisPane = /** @class */ (function (_super) {\n    __extends(XAxisPane, _super);\n    function XAxisPane() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    XAxisPane.prototype.createAxisComponent = function (name) {\n        var XAxisClass = getXAxisClass(name);\n        return new XAxisClass(this);\n    };\n    XAxisPane.prototype.createMainWidget = function (container) {\n        return new XAxisWidget(container, this);\n    };\n    return XAxisPane;\n}(DrawPane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction throttle(func, wait) {\n    var previous = 0;\n    return function () {\n        var now = Date.now();\n        if (now - previous > (wait )) {\n            func.apply(this, arguments);\n            previous = now;\n        }\n    };\n}\n// export function memoize<R1 = any, R2 = any> (func: (...args: any[]) => R1, resolver?: (...args: any[]) => R2): (...args: any[]) => R1 {\n//   if (!isFunction(func) || (isValid(resolver) && !isFunction(resolver))) {\n//     throw new TypeError('Expected a function')\n//   }\n//   const memoized = function (...args: any[]): any {\n//     const key = isFunction(resolver) ? resolver.apply(this, args) : args[0]\n//     const cache = memoized.cache\n//     if (cache.has(key)) {\n//       return cache.get(key)\n//     }\n//     const result = func.apply(this, args)\n//     // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n//     memoized.cache = cache.set(key, result) || cache\n//     return result\n//   }\n//   // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n//   memoized.cache = new (memoize.Cache || Map)()\n//   return memoized\n// }\n// memoize.Cache = Map\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SeparatorWidget = /** @class */ (function (_super) {\n    __extends(SeparatorWidget, _super);\n    function SeparatorWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._dragFlag = false;\n        _this._dragStartY = 0;\n        _this._topPaneHeight = 0;\n        _this._bottomPaneHeight = 0;\n        _this._topPane = null;\n        _this._bottomPane = null;\n        // eslint-disable-next-line @typescript-eslint/unbound-method -- ignore\n        _this._pressedMouseMoveEvent = throttle(_this._pressedTouchMouseMoveEvent, 20);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n        _this.registerEvent('touchStartEvent', _this._mouseDownEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            .registerEvent('touchMoveEvent', _this._pressedMouseMoveEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            .registerEvent('touchEndEvent', _this._mouseUpEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            .registerEvent('mouseDownEvent', _this._mouseDownEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            .registerEvent('mouseUpEvent', _this._mouseUpEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            .registerEvent('pressedMouseMoveEvent', _this._pressedMouseMoveEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            .registerEvent('mouseEnterEvent', _this._mouseEnterEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            .registerEvent('mouseLeaveEvent', _this._mouseLeaveEvent.bind(_this));\n        return _this;\n    }\n    SeparatorWidget.prototype.getName = function () {\n        return WidgetNameConstants.SEPARATOR;\n    };\n    SeparatorWidget.prototype._mouseDownEvent = function (event) {\n        var _this = this;\n        this._dragFlag = true;\n        this._dragStartY = event.pageY;\n        var pane = this.getPane();\n        var chart = pane.getChart();\n        this._topPane = pane.getTopPane();\n        this._bottomPane = pane.getBottomPane();\n        var drawPanes = chart.getDrawPanes();\n        if (this._topPane.getOptions().state === 'minimize') {\n            var index = drawPanes.findIndex(function (pane) { var _a; return pane.getId() === ((_a = _this._topPane) === null || _a === void 0 ? void 0 : _a.getId()); });\n            for (var i = index - 1; i > -1; i--) {\n                var pane_1 = drawPanes[i];\n                if (pane_1.getOptions().state !== 'minimize') {\n                    this._topPane = pane_1;\n                    break;\n                }\n            }\n        }\n        if (this._bottomPane.getOptions().state === 'minimize') {\n            var index = drawPanes.findIndex(function (pane) { var _a; return pane.getId() === ((_a = _this._bottomPane) === null || _a === void 0 ? void 0 : _a.getId()); });\n            for (var i = index + 1; i < drawPanes.length; i++) {\n                var pane_2 = drawPanes[i];\n                if (pane_2.getOptions().state !== 'minimize') {\n                    this._bottomPane = pane_2;\n                    break;\n                }\n            }\n        }\n        this._topPaneHeight = this._topPane.getBounding().height;\n        this._bottomPaneHeight = this._bottomPane.getBounding().height;\n        return true;\n    };\n    SeparatorWidget.prototype._mouseUpEvent = function () {\n        this._dragFlag = false;\n        this._topPane = null;\n        this._bottomPane = null;\n        this._topPaneHeight = 0;\n        this._bottomPaneHeight = 0;\n        return this._mouseLeaveEvent();\n    };\n    SeparatorWidget.prototype._pressedTouchMouseMoveEvent = function (event) {\n        var dragDistance = event.pageY - this._dragStartY;\n        var isUpDrag = dragDistance < 0;\n        if (isValid(this._topPane) && isValid(this._bottomPane)) {\n            var bottomPaneOptions = this._bottomPane.getOptions();\n            if (this._topPane.getOptions().state !== 'minimize' &&\n                bottomPaneOptions.state !== 'minimize' &&\n                bottomPaneOptions.dragEnabled) {\n                var reducedPane = null;\n                var increasedPane = null;\n                var startDragReducedPaneHeight = 0;\n                var startDragIncreasedPaneHeight = 0;\n                if (isUpDrag) {\n                    reducedPane = this._topPane;\n                    increasedPane = this._bottomPane;\n                    startDragReducedPaneHeight = this._topPaneHeight;\n                    startDragIncreasedPaneHeight = this._bottomPaneHeight;\n                }\n                else {\n                    reducedPane = this._bottomPane;\n                    increasedPane = this._topPane;\n                    startDragReducedPaneHeight = this._bottomPaneHeight;\n                    startDragIncreasedPaneHeight = this._topPaneHeight;\n                }\n                var reducedPaneMinHeight = reducedPane.getOptions().minHeight;\n                if (startDragReducedPaneHeight > reducedPaneMinHeight) {\n                    var reducedPaneHeight = Math.max(startDragReducedPaneHeight - Math.abs(dragDistance), reducedPaneMinHeight);\n                    var diffHeight = startDragReducedPaneHeight - reducedPaneHeight;\n                    reducedPane.setBounding({ height: reducedPaneHeight });\n                    increasedPane.setBounding({ height: startDragIncreasedPaneHeight + diffHeight });\n                    var currentPane = this.getPane();\n                    var chart = currentPane.getChart();\n                    chart.getChartStore().executeAction('onPaneDrag', { paneId: currentPane.getId() });\n                    chart.layout({\n                        measureHeight: true,\n                        measureWidth: true,\n                        update: true,\n                        buildYAxisTick: true,\n                        forceBuildYAxisTick: true\n                    });\n                }\n            }\n        }\n        return true;\n    };\n    SeparatorWidget.prototype._mouseEnterEvent = function () {\n        var pane = this.getPane();\n        var bottomPane = pane.getBottomPane();\n        if (bottomPane.getOptions().dragEnabled) {\n            var chart = pane.getChart();\n            var styles = chart.getStyles().separator;\n            this.getContainer().style.background = styles.activeBackgroundColor;\n            return true;\n        }\n        return false;\n    };\n    SeparatorWidget.prototype._mouseLeaveEvent = function () {\n        if (!this._dragFlag) {\n            this.getContainer().style.background = 'transparent';\n            return true;\n        }\n        return false;\n    };\n    SeparatorWidget.prototype.createContainer = function () {\n        return createDom('div', {\n            width: '100%',\n            height: \"\".concat(REAL_SEPARATOR_HEIGHT, \"px\"),\n            margin: '0',\n            padding: '0',\n            position: 'absolute',\n            top: '-3px',\n            zIndex: '20',\n            boxSizing: 'border-box',\n            cursor: 'ns-resize'\n        });\n    };\n    SeparatorWidget.prototype.updateImp = function (container, _bounding, level) {\n        if (level === 4 /* UpdateLevel.All */ || level === 2 /* UpdateLevel.Separator */) {\n            var styles = this.getPane().getChart().getStyles().separator;\n            container.style.top = \"\".concat(-Math.floor((REAL_SEPARATOR_HEIGHT - styles.size) / 2), \"px\");\n            container.style.height = \"\".concat(REAL_SEPARATOR_HEIGHT, \"px\");\n        }\n    };\n    return SeparatorWidget;\n}(Widget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SeparatorPane = /** @class */ (function (_super) {\n    __extends(SeparatorPane, _super);\n    function SeparatorPane(chart, id, topPane, bottomPane) {\n        var _this = _super.call(this, chart, id) || this;\n        _this.getContainer().style.overflow = '';\n        _this._topPane = topPane;\n        _this._bottomPane = bottomPane;\n        _this._separatorWidget = new SeparatorWidget(_this.getContainer(), _this);\n        return _this;\n    }\n    SeparatorPane.prototype.setBounding = function (rootBounding) {\n        merge(this.getBounding(), rootBounding);\n        return this;\n    };\n    SeparatorPane.prototype.getTopPane = function () {\n        return this._topPane;\n    };\n    SeparatorPane.prototype.setTopPane = function (pane) {\n        this._topPane = pane;\n        return this;\n    };\n    SeparatorPane.prototype.getBottomPane = function () {\n        return this._bottomPane;\n    };\n    SeparatorPane.prototype.setBottomPane = function (pane) {\n        this._bottomPane = pane;\n        return this;\n    };\n    SeparatorPane.prototype.getWidget = function () { return this._separatorWidget; };\n    SeparatorPane.prototype.getImage = function (_includeOverlay) {\n        var _a = this.getBounding(), width = _a.width, height = _a.height;\n        var styles = this.getChart().getStyles().separator;\n        var canvas = createDom('canvas', {\n            width: \"\".concat(width, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            boxSizing: 'border-box'\n        });\n        var ctx = canvas.getContext('2d');\n        var pixelRatio = getPixelRatio(canvas);\n        canvas.width = width * pixelRatio;\n        canvas.height = height * pixelRatio;\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.fillStyle = styles.color;\n        ctx.fillRect(0, 0, width, height);\n        return canvas;\n    };\n    SeparatorPane.prototype.updateImp = function (level, container, bounding) {\n        if (level === 4 /* UpdateLevel.All */ || level === 2 /* UpdateLevel.Separator */) {\n            var styles = this.getChart().getStyles().separator;\n            container.style.backgroundColor = styles.color;\n            container.style.height = \"\".concat(bounding.height, \"px\");\n            container.style.marginLeft = \"\".concat(bounding.left, \"px\");\n            container.style.width = \"\".concat(bounding.width, \"px\");\n            this._separatorWidget.update(level);\n        }\n    };\n    return SeparatorPane;\n}(Pane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction isFF() {\n    if (typeof window === 'undefined') {\n        return false;\n    }\n    return window.navigator.userAgent.toLowerCase().includes('firefox');\n}\nfunction isIOS() {\n    if (typeof window === 'undefined') {\n        return false;\n    }\n    return /iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent);\n}\n\n/* eslint-disable eslint-comments/require-description -- ignore */\n// we can use `const name = 500;` but with `const enum` this values will be inlined into code\n// so we do not need to have it as variables\nvar Delay = {\n    ResetClick: 500,\n    LongTap: 500,\n    PreventFiresTouchEvents: 500\n};\nvar ManhattanDistance = {\n    CancelClick: 5,\n    CancelTap: 5,\n    DoubleClick: 5,\n    DoubleTap: 30\n};\nvar MouseEventButton = {\n    Left: 0,\n    Middle: 1,\n    Right: 2\n};\nvar TOUCH_MIN_RADIUS = 10;\n// TODO: get rid of a lot of boolean flags, probably we should replace it with some enum\nvar EventHandlerImp = /** @class */ (function () {\n    function EventHandlerImp(target, handler, options) {\n        var _this = this;\n        this._clickCount = 0;\n        this._clickTimeoutId = null;\n        this._clickCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };\n        this._tapCount = 0;\n        this._tapTimeoutId = null;\n        this._tapCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };\n        this._longTapTimeoutId = null;\n        this._longTapActive = false;\n        this._mouseMoveStartCoordinate = null;\n        this._touchMoveStartCoordinate = null;\n        this._touchMoveExceededManhattanDistance = false;\n        this._cancelClick = false;\n        this._cancelTap = false;\n        this._unsubscribeOutsideMouseEvents = null;\n        this._unsubscribeOutsideTouchEvents = null;\n        this._unsubscribeMobileSafariEvents = null;\n        this._unsubscribeMousemove = null;\n        this._unsubscribeMouseWheel = null;\n        this._unsubscribeContextMenu = null;\n        this._unsubscribeRootMouseEvents = null;\n        this._unsubscribeRootTouchEvents = null;\n        this._startPinchMiddleCoordinate = null;\n        this._startPinchDistance = 0;\n        this._pinchPrevented = false;\n        this._preventTouchDragProcess = false;\n        this._mousePressed = false;\n        this._lastTouchEventTimeStamp = 0;\n        // for touchstart/touchmove/touchend events we handle only first touch\n        // i.e. we don't support several active touches at the same time (except pinch event)\n        this._activeTouchId = null;\n        // accept all mouse leave events if it's not an iOS device\n        // see _mouseEnterHandler, _mouseMoveHandler, _mouseLeaveHandler\n        this._acceptMouseLeave = !isIOS();\n        /**\n         * In Firefox mouse events dont't fire if the mouse position is outside of the browser's border.\n         * To prevent the mouse from hanging while pressed we're subscribing on the mouseleave event of the document element.\n         * We're subscribing on mouseleave, but this event is actually fired on mouseup outside of the browser's border.\n         */\n        this._onFirefoxOutsideMouseUp = function (mouseUpEvent) {\n            _this._mouseUpHandler(mouseUpEvent);\n        };\n        /**\n         * Safari doesn't fire touchstart/mousedown events on double tap since iOS 13.\n         * There are two possible solutions:\n         * 1) Call preventDefault in touchEnd handler. But it also prevents click event from firing.\n         * 2) Add listener on dblclick event that fires with the preceding mousedown/mouseup.\n         * https://developer.apple.com/forums/thread/125073\n         */\n        this._onMobileSafariDoubleClick = function (dblClickEvent) {\n            if (_this._firesTouchEvents(dblClickEvent)) {\n                ++_this._tapCount;\n                if (_this._tapTimeoutId !== null && _this._tapCount > 1) {\n                    var manhattanDistance = _this._mouseTouchMoveWithDownInfo(_this._getCoordinate(dblClickEvent), _this._tapCoordinate).manhattanDistance;\n                    if (manhattanDistance < ManhattanDistance.DoubleTap && !_this._cancelTap) {\n                        _this._processEvent(_this._makeCompatEvent(dblClickEvent), _this._handler.doubleTapEvent);\n                    }\n                    _this._resetTapTimeout();\n                }\n            }\n            else {\n                ++_this._clickCount;\n                if (_this._clickTimeoutId !== null && _this._clickCount > 1) {\n                    var manhattanDistance = _this._mouseTouchMoveWithDownInfo(_this._getCoordinate(dblClickEvent), _this._clickCoordinate).manhattanDistance;\n                    if (manhattanDistance < ManhattanDistance.DoubleClick && !_this._cancelClick) {\n                        _this._processEvent(_this._makeCompatEvent(dblClickEvent), _this._handler.mouseDoubleClickEvent);\n                    }\n                    _this._resetClickTimeout();\n                }\n            }\n        };\n        this._target = target;\n        this._handler = handler;\n        this._options = options;\n        this._init();\n    }\n    EventHandlerImp.prototype.destroy = function () {\n        if (this._unsubscribeOutsideMouseEvents !== null) {\n            this._unsubscribeOutsideMouseEvents();\n            this._unsubscribeOutsideMouseEvents = null;\n        }\n        if (this._unsubscribeOutsideTouchEvents !== null) {\n            this._unsubscribeOutsideTouchEvents();\n            this._unsubscribeOutsideTouchEvents = null;\n        }\n        if (this._unsubscribeMousemove !== null) {\n            this._unsubscribeMousemove();\n            this._unsubscribeMousemove = null;\n        }\n        if (this._unsubscribeMouseWheel !== null) {\n            this._unsubscribeMouseWheel();\n            this._unsubscribeMouseWheel = null;\n        }\n        if (this._unsubscribeContextMenu !== null) {\n            this._unsubscribeContextMenu();\n            this._unsubscribeContextMenu = null;\n        }\n        if (this._unsubscribeRootMouseEvents !== null) {\n            this._unsubscribeRootMouseEvents();\n            this._unsubscribeRootMouseEvents = null;\n        }\n        if (this._unsubscribeRootTouchEvents !== null) {\n            this._unsubscribeRootTouchEvents();\n            this._unsubscribeRootTouchEvents = null;\n        }\n        if (this._unsubscribeMobileSafariEvents !== null) {\n            this._unsubscribeMobileSafariEvents();\n            this._unsubscribeMobileSafariEvents = null;\n        }\n        this._clearLongTapTimeout();\n        this._resetClickTimeout();\n    };\n    EventHandlerImp.prototype._mouseEnterHandler = function (enterEvent) {\n        var _this = this;\n        var _a, _b, _c;\n        (_a = this._unsubscribeMousemove) === null || _a === void 0 ? void 0 : _a.call(this);\n        (_b = this._unsubscribeMouseWheel) === null || _b === void 0 ? void 0 : _b.call(this);\n        (_c = this._unsubscribeContextMenu) === null || _c === void 0 ? void 0 : _c.call(this);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        var boundMouseMoveHandler = this._mouseMoveHandler.bind(this);\n        this._unsubscribeMousemove = function () {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            _this._target.removeEventListener('mousemove', boundMouseMoveHandler);\n        };\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        this._target.addEventListener('mousemove', boundMouseMoveHandler);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        var boundMouseWheel = this._mouseWheelHandler.bind(this);\n        this._unsubscribeMouseWheel = function () {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            _this._target.removeEventListener('wheel', boundMouseWheel);\n        };\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        this._target.addEventListener('wheel', boundMouseWheel, { passive: false });\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        var boundContextMenu = this._contextMenuHandler.bind(this);\n        this._unsubscribeContextMenu = function () {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            _this._target.removeEventListener('contextmenu', boundContextMenu);\n        };\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        this._target.addEventListener('contextmenu', boundContextMenu, { passive: false });\n        if (this._firesTouchEvents(enterEvent)) {\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(enterEvent), this._handler.mouseEnterEvent);\n        this._acceptMouseLeave = true;\n    };\n    EventHandlerImp.prototype._resetClickTimeout = function () {\n        if (this._clickTimeoutId !== null) {\n            clearTimeout(this._clickTimeoutId);\n        }\n        this._clickCount = 0;\n        this._clickTimeoutId = null;\n        this._clickCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };\n    };\n    EventHandlerImp.prototype._resetTapTimeout = function () {\n        if (this._tapTimeoutId !== null) {\n            clearTimeout(this._tapTimeoutId);\n        }\n        this._tapCount = 0;\n        this._tapTimeoutId = null;\n        this._tapCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };\n    };\n    EventHandlerImp.prototype._mouseMoveHandler = function (moveEvent) {\n        if (this._mousePressed || this._touchMoveStartCoordinate !== null) {\n            return;\n        }\n        if (this._firesTouchEvents(moveEvent)) {\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(moveEvent), this._handler.mouseMoveEvent);\n        this._acceptMouseLeave = true;\n    };\n    EventHandlerImp.prototype._mouseWheelHandler = function (wheelEvent) {\n        if (Math.abs(wheelEvent.deltaX) > Math.abs(wheelEvent.deltaY)) {\n            if (!isValid(this._handler.mouseWheelHortEvent)) {\n                return;\n            }\n            this._preventDefault(wheelEvent);\n            if (Math.abs(wheelEvent.deltaX) === 0) {\n                return;\n            }\n            this._handler.mouseWheelHortEvent(this._makeCompatEvent(wheelEvent), -wheelEvent.deltaX);\n        }\n        else {\n            if (!isValid(this._handler.mouseWheelVertEvent)) {\n                return;\n            }\n            var deltaY = -(wheelEvent.deltaY / 100);\n            if (deltaY === 0) {\n                return;\n            }\n            this._preventDefault(wheelEvent);\n            switch (wheelEvent.deltaMode) {\n                case wheelEvent.DOM_DELTA_PAGE: {\n                    deltaY *= 120;\n                    break;\n                }\n                case wheelEvent.DOM_DELTA_LINE: {\n                    deltaY *= 32;\n                    break;\n                }\n            }\n            if (deltaY !== 0) {\n                var scale = Math.sign(deltaY) * Math.min(1, Math.abs(deltaY));\n                this._handler.mouseWheelVertEvent(this._makeCompatEvent(wheelEvent), scale);\n            }\n        }\n    };\n    EventHandlerImp.prototype._contextMenuHandler = function (mouseEvent) {\n        this._preventDefault(mouseEvent);\n    };\n    EventHandlerImp.prototype._touchMoveHandler = function (moveEvent) {\n        var touch = this._touchWithId(moveEvent.changedTouches, this._activeTouchId);\n        if (touch === null) {\n            return;\n        }\n        this._lastTouchEventTimeStamp = this._eventTimeStamp(moveEvent);\n        if (this._startPinchMiddleCoordinate !== null) {\n            return;\n        }\n        if (this._preventTouchDragProcess) {\n            return;\n        }\n        // prevent pinch if move event comes faster than the second touch\n        this._pinchPrevented = true;\n        var moveInfo = this._mouseTouchMoveWithDownInfo(this._getCoordinate(touch), this._touchMoveStartCoordinate);\n        var xOffset = moveInfo.xOffset, yOffset = moveInfo.yOffset, manhattanDistance = moveInfo.manhattanDistance;\n        if (!this._touchMoveExceededManhattanDistance && manhattanDistance < ManhattanDistance.CancelTap) {\n            return;\n        }\n        if (!this._touchMoveExceededManhattanDistance) {\n            // first time when current position exceeded manhattan distance\n            // vertical drag is more important than horizontal drag\n            // because we scroll the page vertically often than horizontally\n            var correctedXOffset = xOffset * 0.5;\n            // a drag can be only if touch page scroll isn't allowed\n            var isVertDrag = yOffset >= correctedXOffset && !this._options.treatVertDragAsPageScroll();\n            var isHorzDrag = correctedXOffset > yOffset && !this._options.treatHorzDragAsPageScroll();\n            // if drag event happened then we should revert preventDefault state to original one\n            // and try to process the drag event\n            // else we shouldn't prevent default of the event and ignore processing the drag event\n            if (!isVertDrag && !isHorzDrag) {\n                this._preventTouchDragProcess = true;\n            }\n            this._touchMoveExceededManhattanDistance = true;\n            // if manhattan distance is more that 5 - we should cancel tap event\n            this._cancelTap = true;\n            this._clearLongTapTimeout();\n            this._resetTapTimeout();\n        }\n        if (!this._preventTouchDragProcess) {\n            this._processEvent(this._makeCompatEvent(moveEvent, touch), this._handler.touchMoveEvent);\n            // we should prevent default in case of touch only\n            // to prevent scroll of the page\n            // preventDefault(moveEvent)\n        }\n    };\n    EventHandlerImp.prototype._mouseMoveWithDownHandler = function (moveEvent) {\n        if (moveEvent.button !== MouseEventButton.Left) {\n            return;\n        }\n        var moveInfo = this._mouseTouchMoveWithDownInfo(this._getCoordinate(moveEvent), this._mouseMoveStartCoordinate);\n        var manhattanDistance = moveInfo.manhattanDistance;\n        if (manhattanDistance >= ManhattanDistance.CancelClick) {\n            // if manhattan distance is more that 5 - we should cancel click event\n            this._cancelClick = true;\n            this._resetClickTimeout();\n        }\n        if (this._cancelClick) {\n            // if this._cancelClick is true, that means that minimum manhattan distance is already exceeded\n            this._processEvent(this._makeCompatEvent(moveEvent), this._handler.pressedMouseMoveEvent);\n        }\n    };\n    EventHandlerImp.prototype._mouseTouchMoveWithDownInfo = function (currentCoordinate, startCoordinate) {\n        var xOffset = Math.abs(startCoordinate.x - currentCoordinate.x);\n        var yOffset = Math.abs(startCoordinate.y - currentCoordinate.y);\n        var manhattanDistance = xOffset + yOffset;\n        return { xOffset: xOffset, yOffset: yOffset, manhattanDistance: manhattanDistance };\n    };\n    EventHandlerImp.prototype._touchEndHandler = function (touchEndEvent) {\n        var touch = this._touchWithId(touchEndEvent.changedTouches, this._activeTouchId);\n        if (touch === null && touchEndEvent.touches.length === 0) {\n            // something went wrong, somehow we missed the required touchend event\n            // probably the browser has not sent this event\n            touch = touchEndEvent.changedTouches[0];\n        }\n        if (touch === null) {\n            return;\n        }\n        this._activeTouchId = null;\n        this._lastTouchEventTimeStamp = this._eventTimeStamp(touchEndEvent);\n        this._clearLongTapTimeout();\n        this._touchMoveStartCoordinate = null;\n        if (this._unsubscribeRootTouchEvents !== null) {\n            this._unsubscribeRootTouchEvents();\n            this._unsubscribeRootTouchEvents = null;\n        }\n        var compatEvent = this._makeCompatEvent(touchEndEvent, touch);\n        this._processEvent(compatEvent, this._handler.touchEndEvent);\n        ++this._tapCount;\n        if (this._tapTimeoutId !== null && this._tapCount > 1) {\n            // check that both clicks are near enough\n            var manhattanDistance = this._mouseTouchMoveWithDownInfo(this._getCoordinate(touch), this._tapCoordinate).manhattanDistance;\n            if (manhattanDistance < ManhattanDistance.DoubleTap && !this._cancelTap) {\n                this._processEvent(compatEvent, this._handler.doubleTapEvent);\n            }\n            this._resetTapTimeout();\n        }\n        else {\n            if (!this._cancelTap) {\n                this._processEvent(compatEvent, this._handler.tapEvent);\n                // do not fire mouse events if tap handler was executed\n                // prevent click event on new dom element (who appeared after tap)\n                if (isValid(this._handler.tapEvent)) {\n                    this._preventDefault(touchEndEvent);\n                }\n            }\n        }\n        // prevent, for example, safari's dblclick-to-zoom or fast-click after long-tap\n        // we handle mouseDoubleClickEvent here ourselves\n        if (this._tapCount === 0) {\n            this._preventDefault(touchEndEvent);\n        }\n        if (touchEndEvent.touches.length === 0) {\n            if (this._longTapActive) {\n                this._longTapActive = false;\n                // prevent native click event\n                this._preventDefault(touchEndEvent);\n            }\n        }\n    };\n    EventHandlerImp.prototype._mouseUpHandler = function (mouseUpEvent) {\n        if (mouseUpEvent.button !== MouseEventButton.Left) {\n            return;\n        }\n        var compatEvent = this._makeCompatEvent(mouseUpEvent);\n        this._mouseMoveStartCoordinate = null;\n        this._mousePressed = false;\n        if (this._unsubscribeRootMouseEvents !== null) {\n            this._unsubscribeRootMouseEvents();\n            this._unsubscribeRootMouseEvents = null;\n        }\n        if (isFF()) {\n            var rootElement = this._target.ownerDocument.documentElement;\n            rootElement.removeEventListener('mouseleave', this._onFirefoxOutsideMouseUp);\n        }\n        if (this._firesTouchEvents(mouseUpEvent)) {\n            return;\n        }\n        this._processEvent(compatEvent, this._handler.mouseUpEvent);\n        ++this._clickCount;\n        if (this._clickTimeoutId !== null && this._clickCount > 1) {\n            // check that both clicks are near enough\n            var manhattanDistance = this._mouseTouchMoveWithDownInfo(this._getCoordinate(mouseUpEvent), this._clickCoordinate).manhattanDistance;\n            if (manhattanDistance < ManhattanDistance.DoubleClick && !this._cancelClick) {\n                this._processEvent(compatEvent, this._handler.mouseDoubleClickEvent);\n            }\n            this._resetClickTimeout();\n        }\n        else {\n            if (!this._cancelClick) {\n                this._processEvent(compatEvent, this._handler.mouseClickEvent);\n            }\n        }\n    };\n    EventHandlerImp.prototype._clearLongTapTimeout = function () {\n        if (this._longTapTimeoutId === null) {\n            return;\n        }\n        clearTimeout(this._longTapTimeoutId);\n        this._longTapTimeoutId = null;\n    };\n    EventHandlerImp.prototype._touchStartHandler = function (downEvent) {\n        if (this._activeTouchId !== null) {\n            return;\n        }\n        var touch = downEvent.changedTouches[0];\n        this._activeTouchId = touch.identifier;\n        this._lastTouchEventTimeStamp = this._eventTimeStamp(downEvent);\n        var rootElement = this._target.ownerDocument.documentElement;\n        this._cancelTap = false;\n        this._touchMoveExceededManhattanDistance = false;\n        this._preventTouchDragProcess = false;\n        this._touchMoveStartCoordinate = this._getCoordinate(touch);\n        if (this._unsubscribeRootTouchEvents !== null) {\n            this._unsubscribeRootTouchEvents();\n            this._unsubscribeRootTouchEvents = null;\n        }\n        {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            var boundTouchMoveWithDownHandler_1 = this._touchMoveHandler.bind(this);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            var boundTouchEndHandler_1 = this._touchEndHandler.bind(this);\n            this._unsubscribeRootTouchEvents = function () {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                rootElement.removeEventListener('touchmove', boundTouchMoveWithDownHandler_1);\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                rootElement.removeEventListener('touchend', boundTouchEndHandler_1);\n            };\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            rootElement.addEventListener('touchmove', boundTouchMoveWithDownHandler_1, { passive: false });\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            rootElement.addEventListener('touchend', boundTouchEndHandler_1, { passive: false });\n            this._clearLongTapTimeout();\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, downEvent), Delay.LongTap);\n        }\n        this._processEvent(this._makeCompatEvent(downEvent, touch), this._handler.touchStartEvent);\n        if (this._tapTimeoutId === null) {\n            this._tapCount = 0;\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            this._tapTimeoutId = setTimeout(this._resetTapTimeout.bind(this), Delay.ResetClick);\n            this._tapCoordinate = this._getCoordinate(touch);\n        }\n    };\n    EventHandlerImp.prototype._mouseDownHandler = function (downEvent) {\n        if (downEvent.button === MouseEventButton.Right) {\n            this._preventDefault(downEvent);\n            this._processEvent(this._makeCompatEvent(downEvent), this._handler.mouseRightClickEvent);\n            return;\n        }\n        if (downEvent.button !== MouseEventButton.Left) {\n            return;\n        }\n        var rootElement = this._target.ownerDocument.documentElement;\n        if (isFF()) {\n            rootElement.addEventListener('mouseleave', this._onFirefoxOutsideMouseUp);\n        }\n        this._cancelClick = false;\n        this._mouseMoveStartCoordinate = this._getCoordinate(downEvent);\n        if (this._unsubscribeRootMouseEvents !== null) {\n            this._unsubscribeRootMouseEvents();\n            this._unsubscribeRootMouseEvents = null;\n        }\n        {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            var boundMouseMoveWithDownHandler_1 = this._mouseMoveWithDownHandler.bind(this);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            var boundMouseUpHandler_1 = this._mouseUpHandler.bind(this);\n            this._unsubscribeRootMouseEvents = function () {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                rootElement.removeEventListener('mousemove', boundMouseMoveWithDownHandler_1);\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                rootElement.removeEventListener('mouseup', boundMouseUpHandler_1);\n            };\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            rootElement.addEventListener('mousemove', boundMouseMoveWithDownHandler_1);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            rootElement.addEventListener('mouseup', boundMouseUpHandler_1);\n        }\n        this._mousePressed = true;\n        if (this._firesTouchEvents(downEvent)) {\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(downEvent), this._handler.mouseDownEvent);\n        if (this._clickTimeoutId === null) {\n            this._clickCount = 0;\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), Delay.ResetClick);\n            this._clickCoordinate = this._getCoordinate(downEvent);\n        }\n    };\n    EventHandlerImp.prototype._init = function () {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        this._target.addEventListener('mouseenter', this._mouseEnterHandler.bind(this));\n        // Do not show context menu when something went wrong\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        this._target.addEventListener('touchcancel', this._clearLongTapTimeout.bind(this));\n        {\n            var doc_1 = this._target.ownerDocument;\n            var outsideHandler_1 = function (event) {\n                if (_this._handler.mouseDownOutsideEvent == null) {\n                    return;\n                }\n                if (event.composed && _this._target.contains(event.composedPath()[0])) {\n                    return;\n                }\n                if ((event.target !== null) && _this._target.contains(event.target)) {\n                    return;\n                }\n                _this._handler.mouseDownOutsideEvent({ x: 0, y: 0, pageX: 0, pageY: 0 });\n            };\n            this._unsubscribeOutsideTouchEvents = function () {\n                doc_1.removeEventListener('touchstart', outsideHandler_1);\n            };\n            this._unsubscribeOutsideMouseEvents = function () {\n                doc_1.removeEventListener('mousedown', outsideHandler_1);\n            };\n            doc_1.addEventListener('mousedown', outsideHandler_1);\n            doc_1.addEventListener('touchstart', outsideHandler_1, { passive: true });\n        }\n        if (isIOS()) {\n            this._unsubscribeMobileSafariEvents = function () {\n                _this._target.removeEventListener('dblclick', _this._onMobileSafariDoubleClick);\n            };\n            this._target.addEventListener('dblclick', this._onMobileSafariDoubleClick);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        this._target.addEventListener('mouseleave', this._mouseLeaveHandler.bind(this));\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        this._target.addEventListener('touchstart', this._touchStartHandler.bind(this), { passive: true });\n        this._target.addEventListener('mousedown', function (e) {\n            if (e.button === MouseEventButton.Middle) {\n                // prevent incorrect scrolling event\n                e.preventDefault();\n                return false;\n            }\n            return undefined;\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        this._target.addEventListener('mousedown', this._mouseDownHandler.bind(this));\n        this._initPinch();\n        // Hey mobile Safari, what's up?\n        // If mobile Safari doesn't have any touchmove handler with passive=false\n        // it treats a touchstart and the following touchmove events as cancelable=false,\n        // so we can't prevent them (as soon we subscribe on touchmove inside touchstart's handler).\n        // And we'll get scroll of the page along with chart's one instead of only chart's scroll.\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        this._target.addEventListener('touchmove', function () { }, { passive: false });\n    };\n    EventHandlerImp.prototype._initPinch = function () {\n        var _this = this;\n        if (!isValid(this._handler.pinchStartEvent) &&\n            !isValid(this._handler.pinchEvent) &&\n            !isValid(this._handler.pinchEndEvent)) {\n            return;\n        }\n        this._target.addEventListener('touchstart', function (event) { _this._checkPinchState(event.touches); }, { passive: true });\n        this._target.addEventListener('touchmove', function (event) {\n            if (event.touches.length !== 2 || _this._startPinchMiddleCoordinate === null) {\n                return;\n            }\n            if (isValid(_this._handler.pinchEvent)) {\n                var currentDistance = _this._getTouchDistance(event.touches[0], event.touches[1]);\n                var scale = currentDistance / _this._startPinchDistance;\n                _this._handler.pinchEvent(__assign(__assign({}, _this._startPinchMiddleCoordinate), { pageX: 0, pageY: 0 }), scale);\n                _this._preventDefault(event);\n            }\n        }, { passive: false });\n        this._target.addEventListener('touchend', function (event) {\n            _this._checkPinchState(event.touches);\n        });\n    };\n    EventHandlerImp.prototype._checkPinchState = function (touches) {\n        if (touches.length === 1) {\n            this._pinchPrevented = false;\n        }\n        if (touches.length !== 2 || this._pinchPrevented || this._longTapActive) {\n            this._stopPinch();\n        }\n        else {\n            this._startPinch(touches);\n        }\n    };\n    EventHandlerImp.prototype._startPinch = function (touches) {\n        var box = this._target.getBoundingClientRect();\n        this._startPinchMiddleCoordinate = {\n            x: ((touches[0].clientX - box.left) + (touches[1].clientX - box.left)) / 2,\n            y: ((touches[0].clientY - box.top) + (touches[1].clientY - box.top)) / 2\n        };\n        this._startPinchDistance = this._getTouchDistance(touches[0], touches[1]);\n        if (isValid(this._handler.pinchStartEvent)) {\n            this._handler.pinchStartEvent({ x: 0, y: 0, pageX: 0, pageY: 0 });\n        }\n        this._clearLongTapTimeout();\n    };\n    EventHandlerImp.prototype._stopPinch = function () {\n        if (this._startPinchMiddleCoordinate === null) {\n            return;\n        }\n        this._startPinchMiddleCoordinate = null;\n        if (isValid(this._handler.pinchEndEvent)) {\n            this._handler.pinchEndEvent({ x: 0, y: 0, pageX: 0, pageY: 0 });\n        }\n    };\n    EventHandlerImp.prototype._mouseLeaveHandler = function (event) {\n        var _a, _b, _c;\n        (_a = this._unsubscribeMousemove) === null || _a === void 0 ? void 0 : _a.call(this);\n        (_b = this._unsubscribeMouseWheel) === null || _b === void 0 ? void 0 : _b.call(this);\n        (_c = this._unsubscribeContextMenu) === null || _c === void 0 ? void 0 : _c.call(this);\n        if (this._firesTouchEvents(event)) {\n            return;\n        }\n        if (!this._acceptMouseLeave) {\n            // mobile Safari sometimes emits mouse leave event for no reason, there is no way to handle it in other way\n            // just ignore this event if there was no mouse move or mouse enter events\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(event), this._handler.mouseLeaveEvent);\n        // accept all mouse leave events if it's not an iOS device\n        this._acceptMouseLeave = !isIOS();\n    };\n    EventHandlerImp.prototype._longTapHandler = function (event) {\n        var touch = this._touchWithId(event.touches, this._activeTouchId);\n        if (touch === null) {\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(event, touch), this._handler.longTapEvent);\n        this._cancelTap = true;\n        // long tap is active until touchend event with 0 touches occurred\n        this._longTapActive = true;\n    };\n    EventHandlerImp.prototype._firesTouchEvents = function (e) {\n        var _a;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        if (isValid((_a = e.sourceCapabilities) === null || _a === void 0 ? void 0 : _a.firesTouchEvents)) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-expect-error\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-member-access\n            return e.sourceCapabilities.firesTouchEvents;\n        }\n        return this._eventTimeStamp(e) < this._lastTouchEventTimeStamp + Delay.PreventFiresTouchEvents;\n    };\n    EventHandlerImp.prototype._processEvent = function (event, callback) {\n        callback === null || callback === void 0 ? void 0 : callback.call(this._handler, event);\n    };\n    EventHandlerImp.prototype._makeCompatEvent = function (event, touch) {\n        var _this = this;\n        // TouchEvent has no clientX/Y coordinates:\n        // We have to use the last Touch instead\n        var eventLike = touch !== null && touch !== void 0 ? touch : event;\n        var box = this._target.getBoundingClientRect();\n        return {\n            x: eventLike.clientX - box.left,\n            y: eventLike.clientY - box.top,\n            pageX: eventLike.pageX,\n            pageY: eventLike.pageY,\n            isTouch: !event.type.startsWith('mouse') && event.type !== 'contextmenu' && event.type !== 'click' && event.type !== 'wheel',\n            preventDefault: function () {\n                if (event.type !== 'touchstart') {\n                    // touchstart is passive and cannot be prevented\n                    _this._preventDefault(event);\n                }\n            }\n        };\n    };\n    EventHandlerImp.prototype._getTouchDistance = function (p1, p2) {\n        var xDiff = p1.clientX - p2.clientX;\n        var yDiff = p1.clientY - p2.clientY;\n        return Math.sqrt(xDiff * xDiff + yDiff * yDiff);\n    };\n    EventHandlerImp.prototype._preventDefault = function (event) {\n        if (event.cancelable) {\n            event.preventDefault();\n        }\n    };\n    EventHandlerImp.prototype._getCoordinate = function (eventLike) {\n        return {\n            x: eventLike.pageX,\n            y: eventLike.pageY\n        };\n    };\n    EventHandlerImp.prototype._eventTimeStamp = function (e) {\n        var _a;\n        // for some reason e.timestamp is always 0 on iPad with magic mouse, so we use performance.now() as a fallback\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        return (_a = e.timeStamp) !== null && _a !== void 0 ? _a : performance.now();\n    };\n    EventHandlerImp.prototype._touchWithId = function (touches, id) {\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (var i = 0; i < touches.length; ++i) {\n            if (touches[i].identifier === id) {\n                return touches[i];\n            }\n        }\n        return null;\n    };\n    return EventHandlerImp;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Event = /** @class */ (function () {\n    function Event(container, chart) {\n        var _this = this;\n        // ÊÉØÊÄßÊªöÂä®ÂºÄÂßãÊó∂Èó¥\n        this._flingStartTime = new Date().getTime();\n        // ÊÉØÊÄßÊªöÂä®ÂÆöÊó∂Âô®\n        this._flingScrollRequestId = null;\n        // ÂºÄÂßãÊªöÂä®Êó∂ÂùêÊ†áÁÇπ\n        this._startScrollCoordinate = null;\n        // ÂºÄÂßãËß¶Êë∏Êó∂ÂùêÊ†á\n        this._touchCoordinate = null;\n        // ÊòØÂê¶ÊòØÂèñÊ∂à‰∫ÜÂçÅÂ≠óÂÖâÊ†á\n        this._touchCancelCrosshair = false;\n        // ÊòØÂê¶Áº©ÊîæËøá\n        this._touchZoomed = false;\n        // Áî®Êù•ËÆ∞ÂΩïÊçèÂêàÁº©ÊîæÁöÑÂ∞∫ÂØ∏\n        this._pinchScale = 1;\n        this._mouseDownWidget = null;\n        this._prevYAxisRange = null;\n        this._xAxisStartScaleCoordinate = null;\n        this._xAxisStartScaleDistance = 0;\n        this._xAxisScale = 1;\n        this._yAxisStartScaleDistance = 0;\n        this._mouseMoveTriggerWidgetInfo = { pane: null, widget: null };\n        this._boundKeyBoardDownEvent = function (event) {\n            if (event.shiftKey) {\n                switch (event.code) {\n                    case 'Equal': {\n                        _this._chart.getChartStore().zoom(0.5, null, 'main');\n                        break;\n                    }\n                    case 'Minus': {\n                        _this._chart.getChartStore().zoom(-0.5, null, 'main');\n                        break;\n                    }\n                    case 'ArrowLeft': {\n                        var store = _this._chart.getChartStore();\n                        store.startScroll();\n                        store.scroll(-3 * store.getBarSpace().bar);\n                        break;\n                    }\n                    case 'ArrowRight': {\n                        var store = _this._chart.getChartStore();\n                        store.startScroll();\n                        store.scroll(3 * store.getBarSpace().bar);\n                        break;\n                    }\n                }\n            }\n        };\n        this._container = container;\n        this._chart = chart;\n        this._event = new EventHandlerImp(container, this, {\n            treatVertDragAsPageScroll: function () { return false; },\n            treatHorzDragAsPageScroll: function () { return false; }\n        });\n        container.addEventListener('keydown', this._boundKeyBoardDownEvent);\n    }\n    Event.prototype.pinchStartEvent = function () {\n        this._touchZoomed = true;\n        this._pinchScale = 1;\n        return true;\n    };\n    Event.prototype.pinchEvent = function (e, scale) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        if ((pane === null || pane === void 0 ? void 0 : pane.getId()) !== PaneIdConstants.X_AXIS && (widget === null || widget === void 0 ? void 0 : widget.getName()) === WidgetNameConstants.MAIN) {\n            var event_1 = this._makeWidgetEvent(e, widget);\n            var zoomScale = (scale - this._pinchScale) * 5;\n            this._pinchScale = scale;\n            this._chart.getChartStore().zoom(zoomScale, { x: event_1.x, y: event_1.y }, 'main');\n            return true;\n        }\n        return false;\n    };\n    Event.prototype.mouseWheelHortEvent = function (_, distance) {\n        var store = this._chart.getChartStore();\n        store.startScroll();\n        store.scroll(distance);\n        return true;\n    };\n    Event.prototype.mouseWheelVertEvent = function (e, scale) {\n        var widget = this._findWidgetByEvent(e).widget;\n        var event = this._makeWidgetEvent(e, widget);\n        var name = widget === null || widget === void 0 ? void 0 : widget.getName();\n        if (name === WidgetNameConstants.MAIN) {\n            this._chart.getChartStore().zoom(scale, { x: event.x, y: event.y }, 'main');\n            return true;\n        }\n        return false;\n    };\n    Event.prototype.mouseDownEvent = function (e) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        this._mouseDownWidget = widget;\n        if (widget !== null) {\n            var event_2 = this._makeWidgetEvent(e, widget);\n            var name_1 = widget.getName();\n            switch (name_1) {\n                case WidgetNameConstants.SEPARATOR: {\n                    return widget.dispatchEvent('mouseDownEvent', event_2);\n                }\n                case WidgetNameConstants.MAIN: {\n                    var yAxis = pane.getAxisComponent();\n                    if (!yAxis.getAutoCalcTickFlag()) {\n                        var range = yAxis.getRange();\n                        this._prevYAxisRange = __assign({}, range);\n                    }\n                    this._startScrollCoordinate = { x: event_2.x, y: event_2.y };\n                    this._chart.getChartStore().startScroll();\n                    return widget.dispatchEvent('mouseDownEvent', event_2);\n                }\n                case WidgetNameConstants.X_AXIS: {\n                    return this._processXAxisScrollStartEvent(widget, event_2);\n                }\n                case WidgetNameConstants.Y_AXIS: {\n                    return this._processYAxisScaleStartEvent(widget, event_2);\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.mouseMoveEvent = function (e) {\n        var _a, _b, _c;\n        var _d = this._findWidgetByEvent(e), pane = _d.pane, widget = _d.widget;\n        var event = this._makeWidgetEvent(e, widget);\n        if (((_a = this._mouseMoveTriggerWidgetInfo.pane) === null || _a === void 0 ? void 0 : _a.getId()) !== (pane === null || pane === void 0 ? void 0 : pane.getId()) ||\n            ((_b = this._mouseMoveTriggerWidgetInfo.widget) === null || _b === void 0 ? void 0 : _b.getName()) !== (widget === null || widget === void 0 ? void 0 : widget.getName())) {\n            widget === null || widget === void 0 ? void 0 : widget.dispatchEvent('mouseEnterEvent', event);\n            (_c = this._mouseMoveTriggerWidgetInfo.widget) === null || _c === void 0 ? void 0 : _c.dispatchEvent('mouseLeaveEvent', event);\n            this._mouseMoveTriggerWidgetInfo = { pane: pane, widget: widget };\n        }\n        if (widget !== null) {\n            var name_2 = widget.getName();\n            switch (name_2) {\n                case WidgetNameConstants.MAIN: {\n                    var consumed = widget.dispatchEvent('mouseMoveEvent', event);\n                    var crosshair = { x: event.x, y: event.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() };\n                    if (consumed) {\n                        if (widget.getForceCursor() !== 'pointer') {\n                            crosshair = undefined;\n                        }\n                        widget.setCursor('pointer');\n                    }\n                    else {\n                        widget.setCursor('crosshair');\n                    }\n                    this._chart.getChartStore().setCrosshair(crosshair);\n                    return consumed;\n                }\n                case WidgetNameConstants.SEPARATOR:\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    var consumed = widget.dispatchEvent('mouseMoveEvent', event);\n                    this._chart.getChartStore().setCrosshair();\n                    return consumed;\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.pressedMouseMoveEvent = function (e) {\n        var _a, _b;\n        if (this._mouseDownWidget !== null && this._mouseDownWidget.getName() === WidgetNameConstants.SEPARATOR) {\n            return this._mouseDownWidget.dispatchEvent('pressedMouseMoveEvent', e);\n        }\n        var _c = this._findWidgetByEvent(e), pane = _c.pane, widget = _c.widget;\n        if (widget !== null &&\n            ((_a = this._mouseDownWidget) === null || _a === void 0 ? void 0 : _a.getPane().getId()) === (pane === null || pane === void 0 ? void 0 : pane.getId()) &&\n            ((_b = this._mouseDownWidget) === null || _b === void 0 ? void 0 : _b.getName()) === widget.getName()) {\n            var event_3 = this._makeWidgetEvent(e, widget);\n            var name_3 = widget.getName();\n            switch (name_3) {\n                case WidgetNameConstants.MAIN: {\n                    // eslint-disable-next-line @typescript-eslint/init-declarations -- ignore\n                    var crosshair = void 0;\n                    var consumed = widget.dispatchEvent('pressedMouseMoveEvent', event_3);\n                    if (!consumed) {\n                        this._processMainScrollingEvent(widget, event_3);\n                    }\n                    if (!consumed || widget.getForceCursor() === 'pointer') {\n                        crosshair = { x: event_3.x, y: event_3.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() };\n                    }\n                    this._chart.getChartStore().setCrosshair(crosshair, { forceInvalidate: true });\n                    return consumed;\n                }\n                case WidgetNameConstants.X_AXIS: {\n                    return this._processXAxisScrollingEvent(widget, event_3);\n                }\n                case WidgetNameConstants.Y_AXIS: {\n                    return this._processYAxisScalingEvent(widget, event_3);\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.mouseUpEvent = function (e) {\n        var widget = this._findWidgetByEvent(e).widget;\n        var consumed = false;\n        if (widget !== null) {\n            var event_4 = this._makeWidgetEvent(e, widget);\n            var name_4 = widget.getName();\n            switch (name_4) {\n                case WidgetNameConstants.MAIN:\n                case WidgetNameConstants.SEPARATOR:\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    consumed = widget.dispatchEvent('mouseUpEvent', event_4);\n                    break;\n                }\n            }\n            if (consumed) {\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n            }\n        }\n        this._mouseDownWidget = null;\n        this._startScrollCoordinate = null;\n        this._prevYAxisRange = null;\n        this._xAxisStartScaleCoordinate = null;\n        this._xAxisStartScaleDistance = 0;\n        this._xAxisScale = 1;\n        this._yAxisStartScaleDistance = 0;\n        return consumed;\n    };\n    Event.prototype.mouseClickEvent = function (e) {\n        var widget = this._findWidgetByEvent(e).widget;\n        if (widget !== null) {\n            var event_5 = this._makeWidgetEvent(e, widget);\n            return widget.dispatchEvent('mouseClickEvent', event_5);\n        }\n        return false;\n    };\n    Event.prototype.mouseRightClickEvent = function (e) {\n        var widget = this._findWidgetByEvent(e).widget;\n        var consumed = false;\n        if (widget !== null) {\n            var event_6 = this._makeWidgetEvent(e, widget);\n            var name_5 = widget.getName();\n            switch (name_5) {\n                case WidgetNameConstants.MAIN:\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    consumed = widget.dispatchEvent('mouseRightClickEvent', event_6);\n                    break;\n                }\n            }\n            if (consumed) {\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n            }\n        }\n        return false;\n    };\n    Event.prototype.mouseDoubleClickEvent = function (e) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        if (widget !== null) {\n            var name_6 = widget.getName();\n            switch (name_6) {\n                case WidgetNameConstants.MAIN: {\n                    var event_7 = this._makeWidgetEvent(e, widget);\n                    return widget.dispatchEvent('mouseDoubleClickEvent', event_7);\n                }\n                case WidgetNameConstants.Y_AXIS: {\n                    var yAxis = pane.getAxisComponent();\n                    if (!yAxis.getAutoCalcTickFlag()) {\n                        yAxis.setAutoCalcTickFlag(true);\n                        this._chart.layout({\n                            measureWidth: true,\n                            update: true,\n                            buildYAxisTick: true\n                        });\n                        return true;\n                    }\n                    break;\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.mouseLeaveEvent = function () {\n        this._chart.getChartStore().setCrosshair();\n        return true;\n    };\n    Event.prototype.touchStartEvent = function (e) {\n        var _a;\n        var _b = this._findWidgetByEvent(e), pane = _b.pane, widget = _b.widget;\n        if (widget !== null) {\n            var event_8 = this._makeWidgetEvent(e, widget);\n            (_a = event_8.preventDefault) === null || _a === void 0 ? void 0 : _a.call(event_8);\n            var name_7 = widget.getName();\n            switch (name_7) {\n                case WidgetNameConstants.MAIN: {\n                    var chartStore = this._chart.getChartStore();\n                    if (widget.dispatchEvent('mouseDownEvent', event_8)) {\n                        this._touchCancelCrosshair = true;\n                        this._touchCoordinate = null;\n                        chartStore.setCrosshair(undefined, { notInvalidate: true });\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                        return true;\n                    }\n                    if (this._flingScrollRequestId !== null) {\n                        cancelAnimationFrame(this._flingScrollRequestId);\n                        this._flingScrollRequestId = null;\n                    }\n                    this._flingStartTime = new Date().getTime();\n                    var yAxis = pane.getAxisComponent();\n                    if (!yAxis.getAutoCalcTickFlag()) {\n                        var range = yAxis.getRange();\n                        this._prevYAxisRange = __assign({}, range);\n                    }\n                    this._startScrollCoordinate = { x: event_8.x, y: event_8.y };\n                    chartStore.startScroll();\n                    this._touchZoomed = false;\n                    if (this._touchCoordinate !== null) {\n                        var xDif = event_8.x - this._touchCoordinate.x;\n                        var yDif = event_8.y - this._touchCoordinate.y;\n                        var radius = Math.sqrt(xDif * xDif + yDif * yDif);\n                        if (radius < TOUCH_MIN_RADIUS) {\n                            this._touchCoordinate = { x: event_8.x, y: event_8.y };\n                            chartStore.setCrosshair({ x: event_8.x, y: event_8.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() });\n                        }\n                        else {\n                            this._touchCoordinate = null;\n                            this._touchCancelCrosshair = true;\n                            chartStore.setCrosshair();\n                        }\n                    }\n                    return true;\n                }\n                case WidgetNameConstants.X_AXIS: {\n                    return this._processXAxisScrollStartEvent(widget, event_8);\n                }\n                case WidgetNameConstants.Y_AXIS: {\n                    return this._processYAxisScaleStartEvent(widget, event_8);\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.touchMoveEvent = function (e) {\n        var _a, _b, _c;\n        var _d = this._findWidgetByEvent(e), pane = _d.pane, widget = _d.widget;\n        if (widget !== null) {\n            var event_9 = this._makeWidgetEvent(e, widget);\n            var name_8 = widget.getName();\n            var chartStore = this._chart.getChartStore();\n            switch (name_8) {\n                case WidgetNameConstants.MAIN: {\n                    if (widget.dispatchEvent('pressedMouseMoveEvent', event_9)) {\n                        (_a = event_9.preventDefault) === null || _a === void 0 ? void 0 : _a.call(event_9);\n                        chartStore.setCrosshair(undefined, { notInvalidate: true });\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                        return true;\n                    }\n                    if (this._touchCoordinate !== null) {\n                        (_b = event_9.preventDefault) === null || _b === void 0 ? void 0 : _b.call(event_9);\n                        chartStore.setCrosshair({ x: event_9.x, y: event_9.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() });\n                    }\n                    else {\n                        this._processMainScrollingEvent(widget, event_9);\n                    }\n                    return true;\n                }\n                case WidgetNameConstants.X_AXIS: {\n                    (_c = event_9.preventDefault) === null || _c === void 0 ? void 0 : _c.call(event_9);\n                    return this._processXAxisScrollingEvent(widget, event_9);\n                }\n                case WidgetNameConstants.Y_AXIS: {\n                    return this._processYAxisScalingEvent(widget, event_9);\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.touchEndEvent = function (e) {\n        var _this = this;\n        var widget = this._findWidgetByEvent(e).widget;\n        if (widget !== null) {\n            var event_10 = this._makeWidgetEvent(e, widget);\n            var name_9 = widget.getName();\n            switch (name_9) {\n                case WidgetNameConstants.MAIN: {\n                    widget.dispatchEvent('mouseUpEvent', event_10);\n                    if (this._startScrollCoordinate !== null) {\n                        var time = new Date().getTime() - this._flingStartTime;\n                        var distance = event_10.x - this._startScrollCoordinate.x;\n                        var v_1 = distance / (time > 0 ? time : 1) * 20;\n                        if (time < 200 && Math.abs(v_1) > 0) {\n                            var store_1 = this._chart.getChartStore();\n                            var flingScroll_1 = function () {\n                                _this._flingScrollRequestId = requestAnimationFrame(function () {\n                                    store_1.startScroll();\n                                    store_1.scroll(v_1);\n                                    v_1 = v_1 * (1 - 0.025);\n                                    if (Math.abs(v_1) < 1) {\n                                        if (_this._flingScrollRequestId !== null) {\n                                            cancelAnimationFrame(_this._flingScrollRequestId);\n                                            _this._flingScrollRequestId = null;\n                                        }\n                                    }\n                                    else {\n                                        flingScroll_1();\n                                    }\n                                });\n                            };\n                            flingScroll_1();\n                        }\n                    }\n                    return true;\n                }\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    var consumed = widget.dispatchEvent('mouseUpEvent', event_10);\n                    if (consumed) {\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                    }\n                }\n            }\n            this._startScrollCoordinate = null;\n            this._prevYAxisRange = null;\n            this._xAxisStartScaleCoordinate = null;\n            this._xAxisStartScaleDistance = 0;\n            this._xAxisScale = 1;\n            this._yAxisStartScaleDistance = 0;\n        }\n        return false;\n    };\n    Event.prototype.tapEvent = function (e) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        var consumed = false;\n        if (widget !== null) {\n            var event_11 = this._makeWidgetEvent(e, widget);\n            var result = widget.dispatchEvent('mouseClickEvent', event_11);\n            if (widget.getName() === WidgetNameConstants.MAIN) {\n                var event_12 = this._makeWidgetEvent(e, widget);\n                var chartStore = this._chart.getChartStore();\n                if (result) {\n                    this._touchCancelCrosshair = true;\n                    this._touchCoordinate = null;\n                    chartStore.setCrosshair(undefined, { notInvalidate: true });\n                    consumed = true;\n                }\n                else {\n                    if (!this._touchCancelCrosshair && !this._touchZoomed) {\n                        this._touchCoordinate = { x: event_12.x, y: event_12.y };\n                        chartStore.setCrosshair({ x: event_12.x, y: event_12.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() }, { notInvalidate: true });\n                        consumed = true;\n                    }\n                    this._touchCancelCrosshair = false;\n                }\n            }\n            if (consumed || result) {\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n            }\n        }\n        return consumed;\n    };\n    Event.prototype.doubleTapEvent = function (e) {\n        return this.mouseDoubleClickEvent(e);\n    };\n    Event.prototype.longTapEvent = function (e) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        if (widget !== null && widget.getName() === WidgetNameConstants.MAIN) {\n            var event_13 = this._makeWidgetEvent(e, widget);\n            this._touchCoordinate = { x: event_13.x, y: event_13.y };\n            this._chart.getChartStore().setCrosshair({ x: event_13.x, y: event_13.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() });\n            return true;\n        }\n        return false;\n    };\n    Event.prototype._processMainScrollingEvent = function (widget, event) {\n        var _a;\n        if (this._startScrollCoordinate !== null) {\n            var yAxis = widget.getPane().getAxisComponent();\n            if (this._prevYAxisRange !== null && !yAxis.getAutoCalcTickFlag() && yAxis.scrollZoomEnabled) {\n                (_a = event.preventDefault) === null || _a === void 0 ? void 0 : _a.call(event);\n                var _b = this._prevYAxisRange, from = _b.from, to = _b.to, range = _b.range;\n                var distance_1 = 0;\n                if (yAxis.reverse) {\n                    distance_1 = this._startScrollCoordinate.y - event.y;\n                }\n                else {\n                    distance_1 = event.y - this._startScrollCoordinate.y;\n                }\n                var bounding = widget.getBounding();\n                var scale = distance_1 / bounding.height;\n                var difRange = range * scale;\n                var newFrom = from + difRange;\n                var newTo = to + difRange;\n                var newRealFrom = yAxis.valueToRealValue(newFrom, { range: this._prevYAxisRange });\n                var newRealTo = yAxis.valueToRealValue(newTo, { range: this._prevYAxisRange });\n                var newDisplayFrom = yAxis.realValueToDisplayValue(newRealFrom, { range: this._prevYAxisRange });\n                var newDisplayTo = yAxis.realValueToDisplayValue(newRealTo, { range: this._prevYAxisRange });\n                yAxis.setRange({\n                    from: newFrom,\n                    to: newTo,\n                    range: newTo - newFrom,\n                    realFrom: newRealFrom,\n                    realTo: newRealTo,\n                    realRange: newRealTo - newRealFrom,\n                    displayFrom: newDisplayFrom,\n                    displayTo: newDisplayTo,\n                    displayRange: newDisplayTo - newDisplayFrom\n                });\n            }\n            var distance = event.x - this._startScrollCoordinate.x;\n            this._chart.getChartStore().scroll(distance);\n        }\n    };\n    Event.prototype._processXAxisScrollStartEvent = function (widget, event) {\n        var consumed = widget.dispatchEvent('mouseDownEvent', event);\n        if (consumed) {\n            this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n        }\n        this._xAxisStartScaleCoordinate = { x: event.x, y: event.y };\n        this._xAxisStartScaleDistance = event.pageX;\n        return consumed;\n    };\n    Event.prototype._processXAxisScrollingEvent = function (widget, event) {\n        var consumed = widget.dispatchEvent('pressedMouseMoveEvent', event);\n        if (!consumed) {\n            var xAxis = widget.getPane().getAxisComponent();\n            if (xAxis.scrollZoomEnabled && this._xAxisStartScaleDistance !== 0) {\n                var scale = this._xAxisStartScaleDistance / event.pageX;\n                if (Number.isFinite(scale)) {\n                    var zoomScale = (scale - this._xAxisScale) * 10;\n                    this._xAxisScale = scale;\n                    this._chart.getChartStore().zoom(zoomScale, this._xAxisStartScaleCoordinate, 'xAxis');\n                }\n            }\n        }\n        else {\n            this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n        }\n        return consumed;\n    };\n    Event.prototype._processYAxisScaleStartEvent = function (widget, event) {\n        var consumed = widget.dispatchEvent('mouseDownEvent', event);\n        if (consumed) {\n            this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n        }\n        var range = widget.getPane().getAxisComponent().getRange();\n        this._prevYAxisRange = __assign({}, range);\n        this._yAxisStartScaleDistance = event.pageY;\n        return consumed;\n    };\n    Event.prototype._processYAxisScalingEvent = function (widget, event) {\n        var _a;\n        var consumed = widget.dispatchEvent('pressedMouseMoveEvent', event);\n        if (!consumed) {\n            var yAxis = widget.getPane().getAxisComponent();\n            if (this._prevYAxisRange !== null && yAxis.scrollZoomEnabled && this._yAxisStartScaleDistance !== 0) {\n                (_a = event.preventDefault) === null || _a === void 0 ? void 0 : _a.call(event);\n                var _b = this._prevYAxisRange, from = _b.from, to = _b.to, range = _b.range;\n                var scale = event.pageY / this._yAxisStartScaleDistance;\n                var newRange = range * scale;\n                var difRange = (newRange - range) / 2;\n                var newFrom = from - difRange;\n                var newTo = to + difRange;\n                var newRealFrom = yAxis.valueToRealValue(newFrom, { range: this._prevYAxisRange });\n                var newRealTo = yAxis.valueToRealValue(newTo, { range: this._prevYAxisRange });\n                var newDisplayFrom = yAxis.realValueToDisplayValue(newRealFrom, { range: this._prevYAxisRange });\n                var newDisplayTo = yAxis.realValueToDisplayValue(newRealTo, { range: this._prevYAxisRange });\n                yAxis.setRange({\n                    from: newFrom,\n                    to: newTo,\n                    range: newRange,\n                    realFrom: newRealFrom,\n                    realTo: newRealTo,\n                    realRange: newRealTo - newRealFrom,\n                    displayFrom: newDisplayFrom,\n                    displayTo: newDisplayTo,\n                    displayRange: newDisplayTo - newDisplayFrom\n                });\n                this._chart.layout({\n                    measureWidth: true,\n                    update: true,\n                    buildYAxisTick: true\n                });\n            }\n        }\n        else {\n            this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n        }\n        return consumed;\n    };\n    Event.prototype._findWidgetByEvent = function (event) {\n        var e_1, _a, e_2, _b;\n        var x = event.x, y = event.y;\n        var separatorPanes = this._chart.getSeparatorPanes();\n        var separatorSize = this._chart.getStyles().separator.size;\n        try {\n            for (var separatorPanes_1 = __values(separatorPanes), separatorPanes_1_1 = separatorPanes_1.next(); !separatorPanes_1_1.done; separatorPanes_1_1 = separatorPanes_1.next()) {\n                var items = separatorPanes_1_1.value;\n                var pane_1 = items[1];\n                var bounding = pane_1.getBounding();\n                var top_1 = bounding.top - Math.round((REAL_SEPARATOR_HEIGHT - separatorSize) / 2);\n                if (x >= bounding.left && x <= bounding.left + bounding.width &&\n                    y >= top_1 && y <= top_1 + REAL_SEPARATOR_HEIGHT) {\n                    return { pane: pane_1, widget: pane_1.getWidget() };\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (separatorPanes_1_1 && !separatorPanes_1_1.done && (_a = separatorPanes_1.return)) _a.call(separatorPanes_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var drawPanes = this._chart.getDrawPanes();\n        var pane = null;\n        try {\n            for (var drawPanes_1 = __values(drawPanes), drawPanes_1_1 = drawPanes_1.next(); !drawPanes_1_1.done; drawPanes_1_1 = drawPanes_1.next()) {\n                var p = drawPanes_1_1.value;\n                var bounding = p.getBounding();\n                if (x >= bounding.left && x <= bounding.left + bounding.width &&\n                    y >= bounding.top && y <= bounding.top + bounding.height) {\n                    pane = p;\n                    break;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (drawPanes_1_1 && !drawPanes_1_1.done && (_b = drawPanes_1.return)) _b.call(drawPanes_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        var widget = null;\n        if (pane !== null) {\n            if (!isValid(widget)) {\n                var mainWidget = pane.getMainWidget();\n                var mainBounding = mainWidget.getBounding();\n                if (x >= mainBounding.left && x <= mainBounding.left + mainBounding.width &&\n                    y >= mainBounding.top && y <= mainBounding.top + mainBounding.height) {\n                    widget = mainWidget;\n                }\n            }\n            if (!isValid(widget)) {\n                var yAxisWidget = pane.getYAxisWidget();\n                if (yAxisWidget !== null) {\n                    var yAxisBounding = yAxisWidget.getBounding();\n                    if (x >= yAxisBounding.left && x <= yAxisBounding.left + yAxisBounding.width &&\n                        y >= yAxisBounding.top && y <= yAxisBounding.top + yAxisBounding.height) {\n                        widget = yAxisWidget;\n                    }\n                }\n            }\n        }\n        return { pane: pane, widget: widget };\n    };\n    Event.prototype._makeWidgetEvent = function (event, widget) {\n        var _a, _b, _c;\n        var bounding = (_a = widget === null || widget === void 0 ? void 0 : widget.getBounding()) !== null && _a !== void 0 ? _a : null;\n        return __assign(__assign({}, event), { x: event.x - ((_b = bounding === null || bounding === void 0 ? void 0 : bounding.left) !== null && _b !== void 0 ? _b : 0), y: event.y - ((_c = bounding === null || bounding === void 0 ? void 0 : bounding.top) !== null && _c !== void 0 ? _c : 0) });\n    };\n    Event.prototype.destroy = function () {\n        this._container.removeEventListener('keydown', this._boundKeyBoardDownEvent);\n        this._event.destroy();\n    };\n    return Event;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ChartImp = /** @class */ (function () {\n    function ChartImp(container, options) {\n        this._chartBounding = createDefaultBounding();\n        this._drawPanes = [];\n        this._separatorPanes = new Map();\n        this._layoutOptions = {\n            sort: true,\n            measureHeight: true,\n            measureWidth: true,\n            update: true,\n            buildYAxisTick: false,\n            cacheYAxisWidth: false,\n            forceBuildYAxisTick: false\n        };\n        this._layoutPending = false;\n        this._cacheYAxisWidth = { left: 0, right: 0 };\n        this._initContainer(container);\n        this._chartEvent = new Event(this._chartContainer, this);\n        this._chartStore = new StoreImp(this, options);\n        this._initPanes(options);\n        this._layout();\n    }\n    ChartImp.prototype._initContainer = function (container) {\n        this._container = container;\n        this._chartContainer = createDom('div', {\n            position: 'relative',\n            width: '100%',\n            height: '100%',\n            outline: 'none',\n            borderStyle: 'none',\n            cursor: 'crosshair',\n            boxSizing: 'border-box',\n            userSelect: 'none',\n            webkitUserSelect: 'none',\n            overflow: 'hidden',\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n            // @ts-expect-error\n            msUserSelect: 'none',\n            MozUserSelect: 'none',\n            webkitTapHighlightColor: 'transparent'\n        });\n        this._chartContainer.tabIndex = 1;\n        container.appendChild(this._chartContainer);\n        this._cacheChartBounding();\n    };\n    ChartImp.prototype._cacheChartBounding = function () {\n        this._chartBounding.width = Math.floor(this._chartContainer.clientWidth);\n        this._chartBounding.height = Math.floor(this._chartContainer.clientHeight);\n    };\n    ChartImp.prototype._initPanes = function (options) {\n        var _this = this;\n        var _a;\n        var layout = (_a = options === null || options === void 0 ? void 0 : options.layout) !== null && _a !== void 0 ? _a : [{ type: 'candle' }];\n        var createCandlePane = function (child) {\n            var _a, _b;\n            if (!isValid(_this._candlePane)) {\n                var paneOptions_1 = (_a = child.options) !== null && _a !== void 0 ? _a : {};\n                merge(paneOptions_1, { id: PaneIdConstants.CANDLE });\n                _this._candlePane = _this._createPane(CandlePane, PaneIdConstants.CANDLE, paneOptions_1);\n                var content = (_b = child.content) !== null && _b !== void 0 ? _b : [];\n                content.forEach(function (v) {\n                    _this.createIndicator(v, true, paneOptions_1);\n                });\n            }\n        };\n        var createXAxisPane = function (ops) {\n            if (!isValid(_this._xAxisPane)) {\n                var pane = _this._createPane(XAxisPane, PaneIdConstants.X_AXIS, ops !== null && ops !== void 0 ? ops : {});\n                _this._xAxisPane = pane;\n            }\n        };\n        layout.forEach(function (child) {\n            var _a, _b, _c;\n            switch (child.type) {\n                case 'candle': {\n                    createCandlePane(child);\n                    break;\n                }\n                case 'indicator': {\n                    var content = (_a = child.content) !== null && _a !== void 0 ? _a : [];\n                    if (content.length > 0) {\n                        var paneId = (_c = (_b = child.options) === null || _b === void 0 ? void 0 : _b.id) !== null && _c !== void 0 ? _c : null;\n                        if (isValid(paneId)) {\n                            paneId = createId(PaneIdConstants.INDICATOR);\n                        }\n                        var paneOptions_2 = __assign(__assign({}, child.options), { id: paneId });\n                        content.forEach(function (v) {\n                            _this.createIndicator(v, true, paneOptions_2);\n                        });\n                    }\n                    break;\n                }\n                case 'xAxis': {\n                    createXAxisPane(child.options);\n                    break;\n                }\n            }\n        });\n        createCandlePane({ });\n        createXAxisPane({ order: Number.MAX_SAFE_INTEGER });\n    };\n    ChartImp.prototype._createPane = function (DrawPaneClass, id, options) {\n        var pane = new DrawPaneClass(this, id, options !== null && options !== void 0 ? options : {});\n        this._drawPanes.push(pane);\n        return pane;\n    };\n    ChartImp.prototype._recalculatePaneHeight = function (currentPane, currentHeight, changeHeight) {\n        if (changeHeight === 0) {\n            return false;\n        }\n        var normalStatePanes = this._drawPanes.filter(function (pane) {\n            var paneId = pane.getId();\n            return (pane.getOptions().state === 'normal' &&\n                paneId !== currentPane.getId() &&\n                paneId !== PaneIdConstants.X_AXIS);\n        });\n        var count = normalStatePanes.length;\n        if (count === 0) {\n            return false;\n        }\n        if (currentPane.getId() !== PaneIdConstants.CANDLE &&\n            isValid(this._candlePane) &&\n            this._candlePane.getOptions().state === 'normal') {\n            var height = this._candlePane.getBounding().height;\n            if (height > 0) {\n                var minHeight = this._candlePane.getOptions().minHeight;\n                var newHeight = height + changeHeight;\n                if (newHeight < minHeight) {\n                    newHeight = minHeight;\n                    currentHeight -= (height + changeHeight - newHeight);\n                }\n                this._candlePane.setBounding({ height: newHeight });\n            }\n        }\n        else {\n            var remainingHeight_1 = changeHeight;\n            var normalStatePaneChangeHeight_1 = Math.floor(changeHeight / count);\n            normalStatePanes.forEach(function (pane, index) {\n                var height = pane.getBounding().height;\n                var newHeight = 0;\n                if (index === count - 1) {\n                    newHeight = height + remainingHeight_1;\n                }\n                else {\n                    newHeight = height + normalStatePaneChangeHeight_1;\n                }\n                if (newHeight < pane.getOptions().minHeight) {\n                    newHeight = pane.getOptions().minHeight;\n                }\n                pane.setBounding({ height: newHeight });\n                remainingHeight_1 -= (newHeight - height);\n            });\n            if (Math.abs(remainingHeight_1) > 0) {\n                currentHeight -= remainingHeight_1;\n            }\n        }\n        currentPane.setBounding({ height: currentHeight });\n        return true;\n    };\n    ChartImp.prototype.getDrawPaneById = function (paneId) {\n        if (paneId === PaneIdConstants.CANDLE) {\n            return this._candlePane;\n        }\n        if (paneId === PaneIdConstants.X_AXIS) {\n            return this._xAxisPane;\n        }\n        var pane = this._drawPanes.find(function (p) { return p.getId() === paneId; });\n        return pane !== null && pane !== void 0 ? pane : null;\n    };\n    ChartImp.prototype.getContainer = function () { return this._container; };\n    ChartImp.prototype.getChartStore = function () { return this._chartStore; };\n    ChartImp.prototype.getXAxisPane = function () { return this._xAxisPane; };\n    ChartImp.prototype.getDrawPanes = function () { return this._drawPanes; };\n    ChartImp.prototype.getSeparatorPanes = function () { return this._separatorPanes; };\n    ChartImp.prototype.layout = function (options) {\n        var _this = this;\n        var _a, _b, _c, _d, _e, _f, _g;\n        if ((_a = options.sort) !== null && _a !== void 0 ? _a : false) {\n            this._layoutOptions.sort = options.sort;\n        }\n        if ((_b = options.measureHeight) !== null && _b !== void 0 ? _b : false) {\n            this._layoutOptions.measureHeight = options.measureHeight;\n        }\n        if ((_c = options.measureWidth) !== null && _c !== void 0 ? _c : false) {\n            this._layoutOptions.measureWidth = options.measureWidth;\n        }\n        if ((_d = options.update) !== null && _d !== void 0 ? _d : false) {\n            this._layoutOptions.update = options.update;\n        }\n        if ((_e = options.buildYAxisTick) !== null && _e !== void 0 ? _e : false) {\n            this._layoutOptions.buildYAxisTick = options.buildYAxisTick;\n        }\n        if ((_f = options.cacheYAxisWidth) !== null && _f !== void 0 ? _f : false) {\n            this._layoutOptions.cacheYAxisWidth = options.cacheYAxisWidth;\n        }\n        if ((_g = options.buildYAxisTick) !== null && _g !== void 0 ? _g : false) {\n            this._layoutOptions.forceBuildYAxisTick = options.forceBuildYAxisTick;\n        }\n        if (!this._layoutPending) {\n            this._layoutPending = true;\n            Promise.resolve().then(function (_) {\n                _this._layout();\n                _this._layoutPending = false;\n            }).catch(function (_) {\n                // todo\n            });\n        }\n    };\n    ChartImp.prototype._layout = function () {\n        var _this = this;\n        var _a = this._layoutOptions, sort = _a.sort, measureHeight = _a.measureHeight, measureWidth = _a.measureWidth, update = _a.update, buildYAxisTick = _a.buildYAxisTick, cacheYAxisWidth = _a.cacheYAxisWidth, forceBuildYAxisTick = _a.forceBuildYAxisTick;\n        if (sort) {\n            while (isValid(this._chartContainer.firstChild)) {\n                this._chartContainer.removeChild(this._chartContainer.firstChild);\n            }\n            this._separatorPanes.clear();\n            this._drawPanes.sort(function (a, b) { return a.getOptions().order - b.getOptions().order; });\n            var prevPane_1 = null;\n            this._drawPanes.forEach(function (pane) {\n                if (pane.getId() !== PaneIdConstants.X_AXIS) {\n                    if (isValid(prevPane_1)) {\n                        var separatorPane = new SeparatorPane(_this, '', prevPane_1, pane);\n                        _this._chartContainer.appendChild(separatorPane.getContainer());\n                        _this._separatorPanes.set(pane, separatorPane);\n                    }\n                    prevPane_1 = pane;\n                }\n                _this._chartContainer.appendChild(pane.getContainer());\n            });\n        }\n        if (measureHeight) {\n            var totalHeight = this._chartBounding.height;\n            var separatorSize_1 = this.getStyles().separator.size;\n            var xAxisHeight = this._xAxisPane.getAxisComponent().getAutoSize();\n            var remainingHeight_2 = totalHeight - xAxisHeight;\n            if (remainingHeight_2 < 0) {\n                remainingHeight_2 = 0;\n            }\n            this._drawPanes.forEach(function (pane) {\n                var paneId = pane.getId();\n                if (isValid(_this._separatorPanes.get(pane))) {\n                    remainingHeight_2 -= separatorSize_1;\n                }\n                if (paneId !== PaneIdConstants.X_AXIS && paneId !== PaneIdConstants.CANDLE && pane.getVisible()) {\n                    var paneHeight = pane.getBounding().height;\n                    if (paneHeight > remainingHeight_2) {\n                        paneHeight = remainingHeight_2;\n                        remainingHeight_2 = 0;\n                    }\n                    else {\n                        remainingHeight_2 -= paneHeight;\n                    }\n                    pane.setBounding({ height: paneHeight });\n                }\n            });\n            this._candlePane.setBounding({ height: Math.max(remainingHeight_2, 0) });\n            this._xAxisPane.setBounding({ height: xAxisHeight });\n            var top_1 = 0;\n            this._drawPanes.forEach(function (pane) {\n                var separatorPane = _this._separatorPanes.get(pane);\n                if (isValid(separatorPane)) {\n                    separatorPane.setBounding({ height: separatorSize_1, top: top_1 });\n                    top_1 += separatorSize_1;\n                }\n                pane.setBounding({ top: top_1 });\n                top_1 += pane.getBounding().height;\n            });\n        }\n        var forceMeasureWidth = measureWidth;\n        if (buildYAxisTick || forceBuildYAxisTick) {\n            this._drawPanes.forEach(function (pane) {\n                var success = pane.getAxisComponent().buildTicks(forceBuildYAxisTick);\n                forceMeasureWidth || (forceMeasureWidth = success);\n            });\n        }\n        if (forceMeasureWidth) {\n            var totalWidth = this._chartBounding.width;\n            var styles = this.getStyles();\n            var leftYAxisWidth_1 = 0;\n            var leftYAxisOutside_1 = true;\n            var rightYAxisWidth_1 = 0;\n            var rightYAxisOutside_1 = true;\n            this._drawPanes.forEach(function (pane) {\n                if (pane.getId() !== PaneIdConstants.X_AXIS) {\n                    var yAxis = pane.getAxisComponent();\n                    var inside = yAxis.inside;\n                    var yAxisWidth = yAxis.getAutoSize();\n                    if (yAxis.position === 'left') {\n                        leftYAxisWidth_1 = Math.max(leftYAxisWidth_1, yAxisWidth);\n                        if (inside) {\n                            leftYAxisOutside_1 = false;\n                        }\n                    }\n                    else {\n                        rightYAxisWidth_1 = Math.max(rightYAxisWidth_1, yAxisWidth);\n                        if (inside) {\n                            rightYAxisOutside_1 = false;\n                        }\n                    }\n                }\n            });\n            if (cacheYAxisWidth) {\n                leftYAxisWidth_1 = Math.max(this._cacheYAxisWidth.left, leftYAxisWidth_1);\n                rightYAxisWidth_1 = Math.max(this._cacheYAxisWidth.right, rightYAxisWidth_1);\n            }\n            this._cacheYAxisWidth.left = leftYAxisWidth_1;\n            this._cacheYAxisWidth.right = rightYAxisWidth_1;\n            var mainWidth = totalWidth;\n            var mainLeft = 0;\n            var mainRight = 0;\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n            if (leftYAxisOutside_1) {\n                mainWidth -= leftYAxisWidth_1;\n                mainLeft = leftYAxisWidth_1;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n            if (rightYAxisOutside_1) {\n                mainWidth -= rightYAxisWidth_1;\n                mainRight = rightYAxisWidth_1;\n            }\n            this._chartStore.setTotalBarSpace(mainWidth);\n            var paneBounding_1 = { width: totalWidth };\n            var mainBounding_1 = { width: mainWidth, left: mainLeft, right: mainRight };\n            var leftYAxisBounding_1 = { width: leftYAxisWidth_1 };\n            var rightYAxisBounding_1 = { width: rightYAxisWidth_1 };\n            var separatorFill = styles.separator.fill;\n            var separatorBounding_1 = {};\n            if (!separatorFill) {\n                separatorBounding_1 = mainBounding_1;\n            }\n            else {\n                separatorBounding_1 = paneBounding_1;\n            }\n            this._drawPanes.forEach(function (pane) {\n                var _a;\n                (_a = _this._separatorPanes.get(pane)) === null || _a === void 0 ? void 0 : _a.setBounding(separatorBounding_1);\n                pane.setBounding(paneBounding_1, mainBounding_1, leftYAxisBounding_1, rightYAxisBounding_1);\n            });\n        }\n        if (update) {\n            this._xAxisPane.getAxisComponent().buildTicks(true);\n            this.updatePane(4 /* UpdateLevel.All */);\n        }\n        this._layoutOptions = {\n            sort: false,\n            measureHeight: false,\n            measureWidth: false,\n            update: false,\n            buildYAxisTick: false,\n            cacheYAxisWidth: false,\n            forceBuildYAxisTick: false\n        };\n    };\n    ChartImp.prototype.updatePane = function (level, paneId) {\n        var _this = this;\n        if (isValid(paneId)) {\n            var pane = this.getDrawPaneById(paneId);\n            pane === null || pane === void 0 ? void 0 : pane.update(level);\n        }\n        else {\n            this._drawPanes.forEach(function (pane) {\n                var _a;\n                pane.update(level);\n                (_a = _this._separatorPanes.get(pane)) === null || _a === void 0 ? void 0 : _a.update(level);\n            });\n        }\n    };\n    ChartImp.prototype.getDom = function (paneId, position) {\n        var _a, _b;\n        if (isValid(paneId)) {\n            var pane = this.getDrawPaneById(paneId);\n            if (isValid(pane)) {\n                var pos = position !== null && position !== void 0 ? position : 'root';\n                switch (pos) {\n                    case 'root': {\n                        return pane.getContainer();\n                    }\n                    case 'main': {\n                        return pane.getMainWidget().getContainer();\n                    }\n                    case 'yAxis': {\n                        return (_b = (_a = pane.getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getContainer()) !== null && _b !== void 0 ? _b : null;\n                    }\n                }\n            }\n        }\n        else {\n            return this._chartContainer;\n        }\n        return null;\n    };\n    ChartImp.prototype.getSize = function (paneId, position) {\n        var _a, _b;\n        if (isValid(paneId)) {\n            var pane = this.getDrawPaneById(paneId);\n            if (isValid(pane)) {\n                var pos = position !== null && position !== void 0 ? position : 'root';\n                switch (pos) {\n                    case 'root': {\n                        return pane.getBounding();\n                    }\n                    case 'main': {\n                        return pane.getMainWidget().getBounding();\n                    }\n                    case 'yAxis': {\n                        return (_b = (_a = pane.getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding()) !== null && _b !== void 0 ? _b : null;\n                    }\n                }\n            }\n        }\n        else {\n            return this._chartBounding;\n        }\n        return null;\n    };\n    ChartImp.prototype._resetYAxisAutoCalcTickFlag = function () {\n        this._drawPanes.forEach(function (pane) {\n            pane.getAxisComponent().setAutoCalcTickFlag(true);\n        });\n    };\n    ChartImp.prototype.setSymbol = function (symbol) {\n        if (symbol !== this.getSymbol()) {\n            this._resetYAxisAutoCalcTickFlag();\n            this._chartStore.setSymbol(symbol);\n        }\n    };\n    ChartImp.prototype.getSymbol = function () {\n        return this._chartStore.getSymbol();\n    };\n    ChartImp.prototype.setPeriod = function (period) {\n        if (period !== this.getPeriod()) {\n            this._resetYAxisAutoCalcTickFlag();\n            this._chartStore.setPeriod(period);\n        }\n    };\n    ChartImp.prototype.getPeriod = function () {\n        return this._chartStore.getPeriod();\n    };\n    ChartImp.prototype.setStyles = function (value) {\n        var _this = this;\n        this._setOptions(function () {\n            _this._chartStore.setStyles(value);\n        });\n    };\n    ChartImp.prototype.getStyles = function () { return this._chartStore.getStyles(); };\n    ChartImp.prototype.setFormatter = function (formatter) {\n        var _this = this;\n        this._setOptions(function () {\n            _this._chartStore.setFormatter(formatter);\n        });\n    };\n    ChartImp.prototype.getFormatter = function () { return this._chartStore.getFormatter(); };\n    ChartImp.prototype.setLocale = function (locale) {\n        var _this = this;\n        this._setOptions(function () {\n            _this._chartStore.setLocale(locale);\n        });\n    };\n    ChartImp.prototype.getLocale = function () { return this._chartStore.getLocale(); };\n    ChartImp.prototype.setTimezone = function (timezone) {\n        var _this = this;\n        this._setOptions(function () {\n            _this._chartStore.setTimezone(timezone);\n        });\n    };\n    ChartImp.prototype.getTimezone = function () { return this._chartStore.getTimezone(); };\n    ChartImp.prototype.setThousandsSeparator = function (thousandsSeparator) {\n        var _this = this;\n        this._setOptions(function () {\n            _this._chartStore.setThousandsSeparator(thousandsSeparator);\n        });\n    };\n    ChartImp.prototype.getThousandsSeparator = function () { return this._chartStore.getThousandsSeparator(); };\n    ChartImp.prototype.setDecimalFold = function (decimalFold) {\n        var _this = this;\n        this._setOptions(function () {\n            _this._chartStore.setDecimalFold(decimalFold);\n        });\n    };\n    ChartImp.prototype.getDecimalFold = function () { return this._chartStore.getDecimalFold(); };\n    ChartImp.prototype._setOptions = function (fuc) {\n        fuc();\n        this.layout({\n            measureHeight: true,\n            measureWidth: true,\n            update: true,\n            buildYAxisTick: true,\n            forceBuildYAxisTick: true\n        });\n    };\n    ChartImp.prototype.setOffsetRightDistance = function (distance) {\n        this._chartStore.setOffsetRightDistance(distance, true);\n    };\n    ChartImp.prototype.getOffsetRightDistance = function () {\n        return this._chartStore.getOffsetRightDistance();\n    };\n    ChartImp.prototype.setMaxOffsetLeftDistance = function (distance) {\n        if (distance < 0) {\n            logWarn('setMaxOffsetLeftDistance', 'distance', 'distance must greater than zero!!!');\n            return;\n        }\n        this._chartStore.setMaxOffsetLeftDistance(distance);\n    };\n    ChartImp.prototype.setMaxOffsetRightDistance = function (distance) {\n        if (distance < 0) {\n            logWarn('setMaxOffsetRightDistance', 'distance', 'distance must greater than zero!!!');\n            return;\n        }\n        this._chartStore.setMaxOffsetRightDistance(distance);\n    };\n    ChartImp.prototype.setLeftMinVisibleBarCount = function (barCount) {\n        if (barCount < 0) {\n            logWarn('setLeftMinVisibleBarCount', 'barCount', 'barCount must greater than zero!!!');\n            return;\n        }\n        this._chartStore.setLeftMinVisibleBarCount(Math.ceil(barCount));\n    };\n    ChartImp.prototype.setRightMinVisibleBarCount = function (barCount) {\n        if (barCount < 0) {\n            logWarn('setRightMinVisibleBarCount', 'barCount', 'barCount must greater than zero!!!');\n            return;\n        }\n        this._chartStore.setRightMinVisibleBarCount(Math.ceil(barCount));\n    };\n    ChartImp.prototype.setBarSpace = function (space) {\n        this._chartStore.setBarSpace(space);\n    };\n    ChartImp.prototype.getBarSpace = function () {\n        return this._chartStore.getBarSpace();\n    };\n    ChartImp.prototype.getVisibleRange = function () {\n        return this._chartStore.getVisibleRange();\n    };\n    ChartImp.prototype.resetData = function () {\n        this._chartStore.resetData();\n    };\n    ChartImp.prototype.getDataList = function () {\n        return this._chartStore.getDataList();\n    };\n    ChartImp.prototype.setDataLoader = function (dataLoader) {\n        this._resetYAxisAutoCalcTickFlag();\n        this._chartStore.setDataLoader(dataLoader);\n    };\n    ChartImp.prototype.createIndicator = function (value, isStack, paneOptions) {\n        var _a;\n        var indicator = isString(value) ? { name: value } : value;\n        if (getIndicatorClass(indicator.name) === null) {\n            logWarn('createIndicator', 'value', 'indicator not supported, you may need to use registerIndicator to add one!!!');\n            return null;\n        }\n        var paneOpts = paneOptions !== null && paneOptions !== void 0 ? paneOptions : {};\n        if (!isString(paneOpts.id)) {\n            paneOpts.id = createId(PaneIdConstants.INDICATOR);\n        }\n        if (!isString(indicator.id)) {\n            indicator.id = createId(indicator.name);\n        }\n        var result = this._chartStore.addIndicator(indicator, paneOpts.id, isStack !== null && isStack !== void 0 ? isStack : false);\n        if (result) {\n            var shouldSort = false;\n            if (!isValid(this.getDrawPaneById(paneOpts.id))) {\n                this._createPane(IndicatorPane, paneOpts.id, paneOpts);\n                (_a = paneOpts.height) !== null && _a !== void 0 ? _a : (paneOpts.height = PANE_DEFAULT_HEIGHT);\n                shouldSort = true;\n            }\n            this.setPaneOptions(paneOpts);\n            this.layout({\n                sort: shouldSort,\n                measureHeight: true,\n                measureWidth: true,\n                update: true,\n                buildYAxisTick: true,\n                forceBuildYAxisTick: true\n            });\n            return indicator.id;\n        }\n        return null;\n    };\n    ChartImp.prototype.overrideIndicator = function (override) {\n        return this._chartStore.overrideIndicator(override);\n    };\n    ChartImp.prototype.getIndicators = function (filter) {\n        return this._chartStore.getIndicatorsByFilter(filter !== null && filter !== void 0 ? filter : {});\n    };\n    ChartImp.prototype.removeIndicator = function (filter) {\n        var _this = this;\n        var removed = this._chartStore.removeIndicator(filter !== null && filter !== void 0 ? filter : {});\n        if (removed) {\n            var shouldMeasureHeight_1 = false;\n            var paneIds_1 = [];\n            this._drawPanes.forEach(function (pane) {\n                var paneId = pane.getId();\n                if (paneId !== PaneIdConstants.CANDLE && paneId !== PaneIdConstants.X_AXIS) {\n                    paneIds_1.push(paneId);\n                }\n            });\n            paneIds_1.forEach(function (paneId) {\n                if (!_this._chartStore.hasIndicators(paneId)) {\n                    var index = _this._drawPanes.findIndex(function (pane) { return pane.getId() === paneId; });\n                    var pane = _this._drawPanes[index];\n                    if (isValid(pane)) {\n                        shouldMeasureHeight_1 = true;\n                        _this._recalculatePaneHeight(pane, 0, pane.getBounding().height);\n                        _this._drawPanes.splice(index, 1);\n                        pane.destroy();\n                    }\n                }\n            });\n            if (this._drawPanes.length === 2) {\n                this._candlePane.setVisible(true);\n                this._candlePane.setBounding({ height: this._chartBounding.height - this._xAxisPane.getBounding().height });\n            }\n            this.layout({\n                sort: shouldMeasureHeight_1,\n                measureHeight: shouldMeasureHeight_1,\n                measureWidth: true,\n                update: true,\n                buildYAxisTick: true,\n                forceBuildYAxisTick: true\n            });\n        }\n        return removed;\n    };\n    ChartImp.prototype.createOverlay = function (value) {\n        var _this = this;\n        var overlays = [];\n        var appointPaneFlags = [];\n        var build = function (overlay) {\n            if (!isValid(overlay.paneId) || _this.getDrawPaneById(overlay.paneId) === null) {\n                overlay.paneId = PaneIdConstants.CANDLE;\n                appointPaneFlags.push(false);\n            }\n            else {\n                appointPaneFlags.push(true);\n            }\n            overlays.push(overlay);\n        };\n        if (isString(value)) {\n            build({ name: value });\n        }\n        else if (isArray(value)) {\n            value.forEach(function (v) {\n                var overlay = null;\n                if (isString(v)) {\n                    overlay = { name: v };\n                }\n                else {\n                    overlay = v;\n                }\n                build(overlay);\n            });\n        }\n        else {\n            build(value);\n        }\n        var ids = this._chartStore.addOverlays(overlays, appointPaneFlags);\n        if (isArray(value)) {\n            return ids;\n        }\n        return ids[0];\n    };\n    ChartImp.prototype.getOverlays = function (filter) {\n        return this._chartStore.getOverlaysByFilter(filter !== null && filter !== void 0 ? filter : {});\n    };\n    ChartImp.prototype.overrideOverlay = function (override) {\n        return this._chartStore.overrideOverlay(override);\n    };\n    ChartImp.prototype.removeOverlay = function (filter) {\n        return this._chartStore.removeOverlay(filter !== null && filter !== void 0 ? filter : {});\n    };\n    ChartImp.prototype.setPaneOptions = function (options) {\n        var e_1, _a;\n        var _this = this;\n        var _b;\n        var shouldMeasureHeight = false;\n        var shouldLayout = false;\n        var validId = isValid(options.id);\n        var _loop_1 = function (currentPane) {\n            var currentPaneId = currentPane.getId();\n            if ((validId && options.id === currentPaneId) || !validId) {\n                if (currentPaneId !== PaneIdConstants.X_AXIS) {\n                    if (isNumber(options.height) && options.height > 0) {\n                        var minHeight = Math.max((_b = options.minHeight) !== null && _b !== void 0 ? _b : currentPane.getOptions().minHeight, 0);\n                        var height = Math.max(minHeight, options.height);\n                        shouldLayout = true;\n                        shouldMeasureHeight = true;\n                        currentPane.setOriginalBounding({ height: height });\n                        this_1._recalculatePaneHeight(currentPane, height, -height);\n                    }\n                    if (isValid(options.state) &&\n                        currentPane.getOptions().state !== options.state) {\n                        shouldMeasureHeight = true;\n                        shouldLayout = true;\n                        var state = options.state;\n                        switch (state) {\n                            case 'maximize': {\n                                var maximizePane = this_1._drawPanes.find(function (pane) {\n                                    var paneId = pane.getId();\n                                    return pane.getOptions().state === 'maximize' && paneId !== PaneIdConstants.X_AXIS;\n                                });\n                                if (!isValid(maximizePane)) {\n                                    if (currentPane.getOptions().state === 'normal') {\n                                        currentPane.setOriginalBounding({ height: currentPane.getBounding().height });\n                                    }\n                                    currentPane.setOptions({ state: state });\n                                    var totalHeight = this_1._chartBounding.height;\n                                    currentPane.setBounding({ height: totalHeight - this_1._xAxisPane.getBounding().height });\n                                    this_1._drawPanes.forEach(function (pane) {\n                                        var _a;\n                                        if (pane.getId() !== PaneIdConstants.X_AXIS && pane.getId() !== currentPaneId) {\n                                            pane.setBounding({ height: pane.getOriginalBounding().height });\n                                            pane.setVisible(false);\n                                            (_a = _this._separatorPanes.get(pane)) === null || _a === void 0 ? void 0 : _a.setVisible(false);\n                                        }\n                                    });\n                                }\n                                break;\n                            }\n                            case 'minimize': {\n                                var height = currentPane.getBounding().height;\n                                var currentState = currentPane.getOptions().state;\n                                var changeHeight = height - PANE_MIN_HEIGHT;\n                                if (currentState === 'maximize') {\n                                    changeHeight = currentPane.getOriginalBounding().height - PANE_MIN_HEIGHT;\n                                }\n                                if (this_1._recalculatePaneHeight(currentPane, PANE_MIN_HEIGHT, changeHeight)) {\n                                    if (currentState === 'normal') {\n                                        currentPane.setOriginalBounding({ height: height });\n                                    }\n                                    currentPane.setOptions({ state: state });\n                                }\n                                this_1._drawPanes.forEach(function (pane) {\n                                    var _a;\n                                    if (pane.getId() !== PaneIdConstants.X_AXIS) {\n                                        pane.setVisible(true);\n                                        (_a = _this._separatorPanes.get(pane)) === null || _a === void 0 ? void 0 : _a.setVisible(true);\n                                    }\n                                });\n                                break;\n                            }\n                            default: {\n                                var height = currentPane.getOriginalBounding().height;\n                                if (this_1._recalculatePaneHeight(currentPane, height, currentPane.getBounding().height - height)) {\n                                    currentPane.setOptions({ state: state });\n                                }\n                                this_1._drawPanes.forEach(function (pane) {\n                                    var _a;\n                                    if (pane.getId() !== PaneIdConstants.X_AXIS) {\n                                        pane.setVisible(true);\n                                        (_a = _this._separatorPanes.get(pane)) === null || _a === void 0 ? void 0 : _a.setVisible(true);\n                                    }\n                                });\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (isValid(options.axis)) {\n                    shouldLayout = true;\n                }\n                var ops = __assign({}, options);\n                delete ops.state;\n                currentPane.setOptions(ops);\n                if (currentPaneId === options.id) {\n                    return \"break\";\n                }\n            }\n        };\n        var this_1 = this;\n        try {\n            for (var _c = __values(this._drawPanes), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var currentPane = _d.value;\n                var state_1 = _loop_1(currentPane);\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (shouldLayout) {\n            this.layout({\n                measureHeight: shouldMeasureHeight,\n                measureWidth: true,\n                update: true,\n                buildYAxisTick: true,\n                forceBuildYAxisTick: true\n            });\n        }\n    };\n    ChartImp.prototype.getPaneOptions = function (id) {\n        var _a;\n        if (isValid(id)) {\n            var pane = this.getDrawPaneById(id);\n            return (_a = pane === null || pane === void 0 ? void 0 : pane.getOptions()) !== null && _a !== void 0 ? _a : null;\n        }\n        return this._drawPanes.map(function (pane) { return pane.getOptions(); });\n    };\n    ChartImp.prototype.setZoomEnabled = function (enabled) {\n        this._chartStore.setZoomEnabled(enabled);\n    };\n    ChartImp.prototype.isZoomEnabled = function () {\n        return this._chartStore.isZoomEnabled();\n    };\n    ChartImp.prototype.setZoomAnchor = function (anchor) {\n        this._chartStore.setZoomAnchor(anchor);\n    };\n    ChartImp.prototype.getZoomAnchor = function () {\n        return this._chartStore.getZoomAnchor();\n    };\n    ChartImp.prototype.setScrollEnabled = function (enabled) {\n        this._chartStore.setScrollEnabled(enabled);\n    };\n    ChartImp.prototype.isScrollEnabled = function () {\n        return this._chartStore.isScrollEnabled();\n    };\n    ChartImp.prototype.scrollByDistance = function (distance, animationDuration) {\n        var _this = this;\n        var duration = isNumber(animationDuration) && animationDuration > 0 ? animationDuration : 0;\n        this._chartStore.startScroll();\n        if (duration > 0) {\n            var animation = new Animation({ duration: duration });\n            animation.doFrame(function (frameTime) {\n                var progressDistance = distance * (frameTime / duration);\n                _this._chartStore.scroll(progressDistance);\n            });\n            animation.start();\n        }\n        else {\n            this._chartStore.scroll(distance);\n        }\n    };\n    ChartImp.prototype.scrollToRealTime = function (animationDuration) {\n        var barSpace = this._chartStore.getBarSpace().bar;\n        var difBarCount = this._chartStore.getLastBarRightSideDiffBarCount() - this._chartStore.getInitialOffsetRightDistance() / barSpace;\n        var distance = difBarCount * barSpace;\n        this.scrollByDistance(distance, animationDuration);\n    };\n    ChartImp.prototype.scrollToDataIndex = function (dataIndex, animationDuration) {\n        var distance = (this._chartStore.getLastBarRightSideDiffBarCount() + (this.getDataList().length - 1 - dataIndex)) * this._chartStore.getBarSpace().bar;\n        this.scrollByDistance(distance, animationDuration);\n    };\n    ChartImp.prototype.scrollToTimestamp = function (timestamp, animationDuration) {\n        var dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp);\n        this.scrollToDataIndex(dataIndex, animationDuration);\n    };\n    ChartImp.prototype.zoomAtCoordinate = function (scale, coordinate, animationDuration) {\n        var _this = this;\n        var duration = isNumber(animationDuration) && animationDuration > 0 ? animationDuration : 0;\n        var barSpace = this._chartStore.getBarSpace().bar;\n        var scaleBarSpace = barSpace * scale;\n        var difSpace = scaleBarSpace - barSpace;\n        if (duration > 0) {\n            var prevProgressBarSpace_1 = 0;\n            var animation = new Animation({ duration: duration });\n            animation.doFrame(function (frameTime) {\n                var progressBarSpace = difSpace * (frameTime / duration);\n                var scale = (progressBarSpace - prevProgressBarSpace_1) / _this._chartStore.getBarSpace().bar * SCALE_MULTIPLIER;\n                _this._chartStore.zoom(scale, coordinate !== null && coordinate !== void 0 ? coordinate : null, 'main');\n                prevProgressBarSpace_1 = progressBarSpace;\n            });\n            animation.start();\n        }\n        else {\n            this._chartStore.zoom(difSpace / barSpace * SCALE_MULTIPLIER, coordinate !== null && coordinate !== void 0 ? coordinate : null, 'main');\n        }\n    };\n    ChartImp.prototype.zoomAtDataIndex = function (scale, dataIndex, animationDuration) {\n        var x = this._chartStore.dataIndexToCoordinate(dataIndex);\n        this.zoomAtCoordinate(scale, { x: x, y: 0 }, animationDuration);\n    };\n    ChartImp.prototype.zoomAtTimestamp = function (scale, timestamp, animationDuration) {\n        var dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp);\n        this.zoomAtDataIndex(scale, dataIndex, animationDuration);\n    };\n    ChartImp.prototype.convertToPixel = function (points, filter) {\n        var _this = this;\n        var _a;\n        var _b = filter !== null && filter !== void 0 ? filter : {}, _c = _b.paneId, paneId = _c === void 0 ? PaneIdConstants.CANDLE : _c, _d = _b.absolute, absolute = _d === void 0 ? false : _d;\n        var coordinates = [];\n        if (paneId !== PaneIdConstants.X_AXIS) {\n            var pane = this.getDrawPaneById(paneId);\n            if (pane !== null) {\n                var bounding_1 = pane.getBounding();\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n                // @ts-expect-error\n                var ps = [].concat(points);\n                var xAxis_1 = this._xAxisPane.getAxisComponent();\n                var yAxis_1 = pane.getAxisComponent();\n                coordinates = ps.map(function (point) {\n                    var coordinate = {};\n                    var dataIndex = point.dataIndex;\n                    if (isNumber(point.timestamp)) {\n                        dataIndex = _this._chartStore.timestampToDataIndex(point.timestamp);\n                    }\n                    if (isNumber(dataIndex)) {\n                        coordinate.x = xAxis_1.convertToPixel(dataIndex);\n                    }\n                    if (isNumber(point.value)) {\n                        var y = yAxis_1.convertToPixel(point.value);\n                        coordinate.y = absolute ? bounding_1.top + y : y;\n                    }\n                    return coordinate;\n                });\n            }\n        }\n        return isArray(points) ? coordinates : ((_a = coordinates[0]) !== null && _a !== void 0 ? _a : {});\n    };\n    ChartImp.prototype.convertFromPixel = function (coordinates, filter) {\n        var _this = this;\n        var _a;\n        var _b = filter !== null && filter !== void 0 ? filter : {}, _c = _b.paneId, paneId = _c === void 0 ? PaneIdConstants.CANDLE : _c, _d = _b.absolute, absolute = _d === void 0 ? false : _d;\n        var points = [];\n        if (paneId !== PaneIdConstants.X_AXIS) {\n            var pane = this.getDrawPaneById(paneId);\n            if (pane !== null) {\n                var bounding_2 = pane.getBounding();\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n                // @ts-expect-error\n                var cs = [].concat(coordinates);\n                var xAxis_2 = this._xAxisPane.getAxisComponent();\n                var yAxis_2 = pane.getAxisComponent();\n                points = cs.map(function (coordinate) {\n                    var _a;\n                    var point = {};\n                    if (isNumber(coordinate.x)) {\n                        var dataIndex = xAxis_2.convertFromPixel(coordinate.x);\n                        point.dataIndex = dataIndex;\n                        point.timestamp = (_a = _this._chartStore.dataIndexToTimestamp(dataIndex)) !== null && _a !== void 0 ? _a : undefined;\n                    }\n                    if (isNumber(coordinate.y)) {\n                        var y = absolute ? coordinate.y - bounding_2.top : coordinate.y;\n                        point.value = yAxis_2.convertFromPixel(y);\n                    }\n                    return point;\n                });\n            }\n        }\n        return isArray(coordinates) ? points : ((_a = points[0]) !== null && _a !== void 0 ? _a : {});\n    };\n    ChartImp.prototype.executeAction = function (type, data) {\n        var _a;\n        switch (type) {\n            case 'onCrosshairChange': {\n                var crosshair = __assign({}, data);\n                (_a = crosshair.paneId) !== null && _a !== void 0 ? _a : (crosshair.paneId = PaneIdConstants.CANDLE);\n                this._chartStore.setCrosshair(crosshair, { notExecuteAction: true });\n                break;\n            }\n        }\n    };\n    ChartImp.prototype.subscribeAction = function (type, callback) {\n        this._chartStore.subscribeAction(type, callback);\n    };\n    ChartImp.prototype.unsubscribeAction = function (type, callback) {\n        this._chartStore.unsubscribeAction(type, callback);\n    };\n    ChartImp.prototype.getConvertPictureUrl = function (includeOverlay, type, backgroundColor) {\n        var _this = this;\n        var _a = this._chartBounding, width = _a.width, height = _a.height;\n        var canvas = createDom('canvas', {\n            width: \"\".concat(width, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            boxSizing: 'border-box'\n        });\n        var ctx = canvas.getContext('2d');\n        var pixelRatio = getPixelRatio(canvas);\n        canvas.width = width * pixelRatio;\n        canvas.height = height * pixelRatio;\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.fillStyle = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : '#FFFFFF';\n        ctx.fillRect(0, 0, width, height);\n        var overlayFlag = includeOverlay !== null && includeOverlay !== void 0 ? includeOverlay : false;\n        this._drawPanes.forEach(function (pane) {\n            var separatorPane = _this._separatorPanes.get(pane);\n            if (isValid(separatorPane)) {\n                var separatorBounding = separatorPane.getBounding();\n                ctx.drawImage(separatorPane.getImage(overlayFlag), separatorBounding.left, separatorBounding.top, separatorBounding.width, separatorBounding.height);\n            }\n            var bounding = pane.getBounding();\n            ctx.drawImage(pane.getImage(overlayFlag), 0, bounding.top, width, bounding.height);\n        });\n        return canvas.toDataURL(\"image/\".concat(type !== null && type !== void 0 ? type : 'jpeg'));\n    };\n    ChartImp.prototype.resize = function () {\n        this._cacheChartBounding();\n        this.layout({\n            measureHeight: true,\n            measureWidth: true,\n            update: true,\n            buildYAxisTick: true,\n            forceBuildYAxisTick: true\n        });\n    };\n    ChartImp.prototype.destroy = function () {\n        this._chartEvent.destroy();\n        this._drawPanes.forEach(function (pane) {\n            pane.destroy();\n        });\n        this._drawPanes = [];\n        this._separatorPanes.clear();\n        this._chartStore.destroy();\n        this._container.removeChild(this._chartContainer);\n    };\n    return ChartImp;\n}());\n\n/**\n *       ___           ___                   ___           ___           ___           ___           ___           ___           ___\n *      /\\__\\         /\\__\\      ___        /\\__\\         /\\  \\         /\\  \\         /\\__\\         /\\  \\         /\\  \\         /\\  \\\n *     /:/  /        /:/  /     /\\  \\      /::|  |       /::\\  \\       /::\\  \\       /:/  /        /::\\  \\       /::\\  \\        \\:\\  \\\n *    /:/__/        /:/  /      \\:\\  \\    /:|:|  |      /:/\\:\\  \\     /:/\\:\\  \\     /:/__/        /:/\\:\\  \\     /:/\\:\\  \\        \\:\\  \\\n *   /::\\__\\____   /:/  /       /::\\__\\  /:/|:|  |__   /::\\~\\:\\  \\   /:/  \\:\\  \\   /::\\  \\ ___   /::\\~\\:\\  \\   /::\\~\\:\\  \\       /::\\  \\\n *  /:/\\:::::\\__\\ /:/__/     __/:/\\/__/ /:/ |:| /\\__\\ /:/\\:\\ \\:\\__\\ /:/__/ \\:\\__\\ /:/\\:\\  /\\__\\ /:/\\:\\ \\:\\__\\ /:/\\:\\ \\:\\__\\     /:/\\:\\__\\\n *  \\/_|:|~~|~    \\:\\  \\    /\\/:/  /    \\/__|:|/:/  / \\:\\~\\:\\ \\/__/ \\:\\  \\  \\/__/ \\/__\\:\\/:/  / \\/__\\:\\/:/  / \\/_|::\\/:/  /    /:/  \\/__/\n *     |:|  |      \\:\\  \\   \\::/__/         |:/:/  /   \\:\\ \\:\\__\\    \\:\\  \\            \\::/  /       \\::/  /     |:|::/  /    /:/  /\n *     |:|  |       \\:\\  \\   \\:\\__\\         |::/  /     \\:\\ \\/__/     \\:\\  \\           /:/  /        /:/  /      |:|\\/__/     \\/__/\n *     |:|  |        \\:\\__\\   \\/__/         /:/  /       \\:\\__\\        \\:\\__\\         /:/  /        /:/  /       |:|  |\n *      \\|__|         \\/__/                 \\/__/         \\/__/         \\/__/         \\/__/         \\/__/         \\|__|\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar charts = new Map();\nvar chartBaseId = 1;\n/**\n * Chart version\n * @return {string}\n */\nfunction version() {\n    return '10.0.0-beta1';\n}\n/**\n * Init chart instance\n * @param ds\n * @param options\n * @returns {Chart}\n */\nfunction init(ds, options) {\n    logTag();\n    var dom = null;\n    if (isString(ds)) {\n        dom = document.getElementById(ds);\n    }\n    else {\n        dom = ds;\n    }\n    if (dom === null) {\n        logError('', '', 'The chart cannot be initialized correctly. Please check the parameters. The chart container cannot be null and child elements need to be added!!!');\n        return null;\n    }\n    var chart = charts.get(dom.id);\n    if (isValid(chart)) {\n        logWarn('', '', 'The chart has been initialized on the domÔºÅÔºÅÔºÅ');\n        return chart;\n    }\n    var id = \"k_line_chart_\".concat(chartBaseId++);\n    chart = new ChartImp(dom, options);\n    chart.id = id;\n    dom.setAttribute('k-line-chart-id', id);\n    charts.set(id, chart);\n    return chart;\n}\n/**\n * Destroy chart instance\n * @param dcs\n */\nfunction dispose(dcs) {\n    var _a, _b;\n    var id = null;\n    if (dcs instanceof ChartImp) {\n        id = dcs.id;\n    }\n    else {\n        var dom = null;\n        if (isString(dcs)) {\n            dom = document.getElementById(dcs);\n        }\n        else {\n            dom = dcs;\n        }\n        id = (_a = dom === null || dom === void 0 ? void 0 : dom.getAttribute('k-line-chart-id')) !== null && _a !== void 0 ? _a : null;\n    }\n    if (id !== null) {\n        (_b = charts.get(id)) === null || _b === void 0 ? void 0 : _b.destroy();\n        charts.delete(id);\n    }\n}\nvar utils = {\n    clone: clone,\n    merge: merge,\n    isString: isString,\n    isNumber: isNumber,\n    isValid: isValid,\n    isObject: isObject,\n    isArray: isArray,\n    isFunction: isFunction,\n    isBoolean: isBoolean,\n    formatValue: formatValue,\n    formatPrecision: formatPrecision,\n    formatBigNumber: formatBigNumber,\n    formatDate: formatTimestampByTemplate,\n    formatThousands: formatThousands,\n    formatFoldDecimal: formatFoldDecimal,\n    calcTextWidth: calcTextWidth,\n    getLinearSlopeIntercept: getLinearSlopeIntercept,\n    getLinearYFromSlopeIntercept: getLinearYFromSlopeIntercept,\n    getLinearYFromCoordinates: getLinearYFromCoordinates,\n    checkCoordinateOnArc: checkCoordinateOnArc,\n    checkCoordinateOnCircle: checkCoordinateOnCircle,\n    checkCoordinateOnLine: checkCoordinateOnLine,\n    checkCoordinateOnPolygon: checkCoordinateOnPolygon,\n    checkCoordinateOnRect: checkCoordinateOnRect,\n    checkCoordinateOnText: checkCoordinateOnText\n};\n\nexport { dispose, getFigureClass, getOverlayClass, getSupportedFigures, getSupportedIndicators, getSupportedLocales, getSupportedOverlays, init, registerFigure, registerIndicator, registerLocale, registerOverlay, registerStyles, registerXAxis, registerYAxis, utils, version };\n"],
  "mappings": "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",
  "names": ["text", "d", "b", "__assign", "Animation", "styles", "TaskScheduler", "Action", "text", "figures", "IndicatorImp", "Custom", "volume", "bias", "brar", "tp", "_a", "OverlayImp", "indicators", "Eventful", "FigureImp", "_super", "StoreImp", "_b", "data", "indicator", "overlays", "Canvas", "entry", "Widget", "DrawWidget", "rect", "segment", "path", "View", "GridView", "ChildrenView", "CandleBarView", "IndicatorView", "_c", "CrosshairLineView", "IndicatorTooltipView", "OverlayView", "IndicatorWidget", "CandleAreaView", "color", "CandleHighLowPriceView", "CandleLastPriceView", "CandleTooltipView", "CrosshairFeatureView", "CandleWidget", "AxisView", "line", "YAxisView", "CandleLastPriceLabelView", "IndicatorLastValueView", "OverlayYAxisView", "CrosshairHorizontalLabelView", "YAxisWidget", "AxisImp", "YAxisImp", "value", "v", "Pane", "DrawPane", "IndicatorPane", "CandlePane", "XAxisView", "OverlayXAxisView", "CrosshairVerticalLabelView", "XAxisWidget", "XAxisImp", "XAxisPane", "SeparatorWidget", "pane", "SeparatorPane", "EventHandlerImp", "Event", "ChartImp", "height", "newHeight", "currentPane", "scale"]
}
