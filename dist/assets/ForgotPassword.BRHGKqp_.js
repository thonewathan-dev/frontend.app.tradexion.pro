import{r as l,m as S,f as c,h as t,b as i,v as T,w as m,u as N,j as O,Q as P,a as b,R as G,t as A,N as D,e as w,O as f}from"./vendor.BJKvz4Yw.js";import{_ as I}from"./AuthMarketPanel.Dp_fc3IN.js";import{_ as L}from"./SiteFooter.BaLxjuH9.js";import{a as B}from"./index.DnUnV9d6.js";import"./coinLogos.gwK95kos.js";const C={class:"min-h-[100dvh] overflow-hidden bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 text-white flex flex-col"},M={class:"sticky top-0 z-10 glass-card-no-hover border-b border-white/10"},V={class:"max-w-5xl mx-auto px-4 h-14 flex items-center justify-between"},q={class:"flex items-center gap-2"},j=["src"],F={class:"flex-1 max-w-5xl mx-auto w-full px-4 pt-6 pb-8 md:pt-10 md:pb-10 md:flex md:items-center"},U={class:"grid md:grid-cols-2 gap-6 md:gap-10 items-start w-full"},$={class:"hidden md:block"},W={class:"min-w-0"},X={class:"glass-card-no-hover rounded-xl border border-white/12 p-3"},z={key:0,class:"p-3 rounded-lg bg-red-500/10 border border-red-500/20"},J={key:1,class:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/20"},K=["disabled"],Q={class:"mt-4 text-center text-xs text-white/70"},oe={__name:"ForgotPassword",setup(H){const y=D(),k=B(),E=new URL("/assets/Logo-Only.Bi7kxCKJ.png",import.meta.url).href,o=l(""),a=l(!1),x=l(""),d=l(!1),u=l(!1),p=S(()=>{const s=o.value.trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}),R=async()=>{var e,r,n,g,v,_,h;if(!p.value)return;x.value="",d.value=!1,u.value=!1,a.value=!0;const s=await k.requestPasswordReset(o.value.trim());s.success?(typeof window<"u"&&((e=window.__toast)!=null&&e.success)&&window.__toast.success("Password reset code sent! Please check your email."),y.push({path:"/reset-password",query:{email:o.value.trim()}})):(x.value=s.error,s.error==="EMAIL_NOT_REGISTERED"||(r=s.error)!=null&&r.includes("EMAIL_NOT_REGISTERED")||(n=s.message)!=null&&n.includes("not registered")?d.value=!0:s.error==="NO_PASSWORD_SET"||(g=s.error)!=null&&g.includes("NO_PASSWORD_SET")||(v=s.message)!=null&&v.includes("Google")?(u.value=!0,typeof window<"u"&&((_=window.__toast)!=null&&_.error)&&window.__toast.error(s.message||s.error)):typeof window<"u"&&((h=window.__toast)!=null&&h.error)&&window.__toast.error(s.message||s.error||"Failed to send reset code")),a.value=!1};return(s,e)=>{const r=N("router-link");return w(),c("div",C,[t("div",M,[t("div",V,[t("div",q,[t("img",{src:T(E),alt:"TrustXGlobal",class:"w-7 h-7 object-contain"},null,8,j),e[1]||(e[1]=t("span",{class:"font-semibold tracking-tight text-white"},"TrustXGlobal",-1))]),i(r,{to:"/login",class:"px-4 py-1.5 rounded-full text-sm font-semibold glass-button-no-hover text-white border border-white/20 hover:border-white/30 transition-colors"},{default:m(()=>[...e[2]||(e[2]=[f(" Log In ",-1)])]),_:1})])]),t("div",F,[t("div",U,[t("div",$,[i(I)]),t("div",W,[e[8]||(e[8]=t("h1",{class:"text-2xl md:text-3xl font-bold tracking-tight mb-3 text-white"},"Forgot Password",-1)),e[9]||(e[9]=t("p",{class:"text-sm text-white/70 mb-6"},"Enter your email address and we'll send you a code to reset your password.",-1)),t("div",X,[t("form",{onSubmit:O(R,["prevent"]),class:"space-y-2.5"},[e[6]||(e[6]=t("label",{class:"block text-xs text-white/80 font-medium"},"Email",-1)),P(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),type:"email",autocomplete:"email",required:"",class:"w-full px-3 py-2.5 text-sm glass-input rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all",placeholder:"Enter your email"},null,512),[[G,o.value,void 0,{trim:!0}]]),d.value?(w(),c("div",z,[e[4]||(e[4]=t("p",{class:"text-xs text-red-400 mb-2"},"This email is not registered.",-1)),i(r,{to:"/register",class:"text-xs text-red-300 hover:text-red-200 underline font-semibold"},{default:m(()=>[...e[3]||(e[3]=[f(" Register an account first â†’ ",-1)])]),_:1})])):b("",!0),u.value?(w(),c("div",J,[...e[5]||(e[5]=[t("p",{class:"text-xs text-yellow-400"},"This account uses Google login. Please use Google to sign in.",-1)])])):b("",!0),t("button",{type:"submit",disabled:a.value||!o.value||!p.value,class:"w-full py-2.5 text-sm rounded-full font-semibold glass-button-no-hover text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-white/20"},A(a.value?"Sending...":"Send Reset Code"),9,K)],32)]),t("div",Q,[i(r,{to:"/login",class:"font-semibold text-white hover:text-white/80"},{default:m(()=>[...e[7]||(e[7]=[f("Back to Log In",-1)])]),_:1})])])])]),i(L)])}}};export{oe as default};

