import{r as l,m as ee,o as te,P as oe,s as M,i as se,z as ie,f as m,h as t,b as g,v as c,w as P,u as le,n as q,j as N,t as w,Q as y,R as k,O as f,S as ne,L as re,k as ae,N as de,e as x,a as ue}from"./vendor.BJKvz4Yw.js";import{_ as ce}from"./AuthMarketPanel.Dp_fc3IN.js";import{_ as we}from"./SiteFooter.BaLxjuH9.js";import{u as fe,a as ve,g as pe}from"./index.DnUnV9d6.js";import"./coinLogos.gwK95kos.js";const me={class:"min-h-[100dvh] overflow-hidden bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 text-white flex flex-col"},xe={class:"sticky top-0 z-10 glass-card-no-hover border-b border-white/10"},he={class:"max-w-5xl mx-auto px-4 h-14 flex items-center justify-between"},be={class:"flex items-center gap-2"},ge=["src"],ye={class:"flex-1 max-w-5xl mx-auto w-full px-4 pt-6 pb-8 md:pt-10 md:pb-10 md:flex md:items-center"},_e={class:"grid md:grid-cols-2 gap-6 md:gap-10 items-start w-full"},ke={class:"hidden md:block"},Ce={class:"min-w-0"},Te={class:"flex gap-6 text-sm font-semibold mb-3"},Pe={class:"glass-card-no-hover rounded-xl border border-white/12 p-3"},Ve={class:"text-center mb-2"},Ee={class:"text-white/80 text-sm mb-1"},Ae={class:"text-white text-sm font-semibold"},Ie={class:"block text-xs text-white/80 mb-2 font-medium text-center"},Ue={class:"text-xs text-white/50 mt-1.5 text-center"},Re=["disabled"],Se=["disabled"],Me={key:1},qe={key:0,class:"space-y-2.5"},Ne=["disabled"],$e={key:1,class:"space-y-2.5"},je=["value"],Be={class:"text-xs text-white/50"},ze={class:"flex justify-center pt-1"},Le=["disabled"],We={class:"flex items-center gap-2 rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-sm focus-within:ring-2 focus-within:ring-white/20 focus-within:border-white/25"},Ge=["disabled"],He={class:"flex items-start gap-2.5 mb-3"},Oe={key:0,class:"absolute inset-0 w-full h-full text-slate-950",fill:"none",stroke:"currentColor","stroke-width":"3",viewBox:"0 0 24 24"},De=["disabled"],Fe={class:"mt-3 mb-4 mb-safe text-center text-xs text-white/70"},Je="0x4AAAAAACNscU1_JGFhgUPj",tt={__name:"Register",setup(Ke){const{t:v}=fe(),$=de(),j=oe(),R=ve(),B=l(null),a=l("");let h=null;const O=new URL("/assets/Logo-Only.Bi7kxCKJ.png",import.meta.url).href,r=l(""),_=l(""),V=l(""),b=l("");l(!1);const E=l(""),d=l(""),z=l(""),n=l(!1),C=l(!1),D=l(""),T=l("email"),p=l("identifier"),u=l(!1),A=l(!1),L=ee(()=>{if(T.value==="email"){const e=r.value.trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}const o=r.value.trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)}),S=()=>{window.turnstile&&(h||p.value==="password"&&B.value&&(h=window.turnstile.render("#turnstile-widget-register",{sitekey:Je,callback:o=>{a.value=o},"error-callback":()=>{a.value=""},"expired-callback":()=>{a.value=""}})))},I=()=>{if(!h||!window.turnstile){a.value="";return}window.turnstile.reset(h),a.value=""},U=()=>{h&&window.turnstile&&window.turnstile.remove(h),h=null,a.value=""};te(()=>{var s;const o=typeof((s=j.query)==null?void 0:s.email)=="string"?j.query.email:"";if(o&&(r.value=o),window.turnstile)return;const e=setInterval(()=>{window.turnstile&&(clearInterval(e),M().then(()=>S()))},100);setTimeout(()=>{clearInterval(e)},8e3)}),se(()=>{U()}),ie(()=>p.value,async o=>{if(o!=="password"){U();return}await M(),S()});const W=o=>{T.value=o,d.value="",z.value="",n.value=!1,C.value=!1,_.value="",V.value="",p.value="identifier",U()},F=()=>{p.value="identifier",_.value="",d.value="",U()},J=async()=>{if(p.value==="identifier"){if(d.value="",!L.value)return;p.value="password",await M(),S();return}await K()},K=async()=>{var e,s,i,G,H;if(!a.value){typeof window<"u"&&((e=window.__toast)!=null&&e.error)&&window.__toast.error("Please complete the CAPTCHA verification");return}d.value="",z.value="",n.value=!0;const o=await R.register(r.value.trim(),_.value,a.value,b.value.trim());o.success?o.emailVerified?(typeof window<"u"&&((s=window.__toast)!=null&&s.success)&&window.__toast.success("Registration successful!"),I(),setTimeout(()=>{$.push("/")},2e3)):o.otp?(D.value=o.otp,typeof window<"u"&&((i=window.__toast)!=null&&i.success)&&window.__toast.success("Registration successful! Please verify your email."),C.value=!0,I()):(typeof window<"u"&&((G=window.__toast)!=null&&G.success)&&window.__toast.success("Registration successful! Please check your email for the verification code."),C.value=!0,I()):(d.value=o.error,typeof window<"u"&&((H=window.__toast)!=null&&H.error)&&window.__toast.error(o.error||"Registration failed"),I()),n.value=!1},X=async()=>{var e,s;d.value="",n.value=!0;const o=await R.verifyEmail(r.value,E.value);o.success?(typeof window<"u"&&((e=window.__toast)!=null&&e.success)&&window.__toast.success("Email verified. Welcome!"),$.push("/")):(d.value=o.error,typeof window<"u"&&((s=window.__toast)!=null&&s.error)&&window.__toast.error(o.error||"Verification failed")),n.value=!1},Q=async()=>{var e,s;A.value=!0,d.value="";const o=await R.resendVerificationCode(r.value.trim());o.success?(typeof window<"u"&&((e=window.__toast)!=null&&e.success)&&window.__toast.success("Verification code sent! Please check your email."),E.value=""):(d.value=o.error,typeof window<"u"&&((s=window.__toast)!=null&&s.error)&&window.__toast.error(o.error||"Failed to resend code")),A.value=!1},Y=async()=>{var o;typeof window<"u"&&((o=window.__toast)!=null&&o.info)&&window.__toast.info("Phone registration is not available yet. Please use Email.")},Z=()=>{var s;if(!u.value){typeof window<"u"&&((s=window.__toast)!=null&&s.error)&&window.__toast.error("Please accept the Terms of Service and Privacy Policy to continue");return}const o=pe(),e=o.endsWith("/api")?`${o}/auth/google`:`${o}/api/auth/google`;window.location.href=e};return(o,e)=>{const s=le("router-link");return x(),m("div",me,[t("div",xe,[t("div",he,[t("div",be,[t("img",{src:c(O),alt:"TrustXGlobal",class:"w-7 h-7 object-contain"},null,8,ge),e[11]||(e[11]=t("span",{class:"font-semibold tracking-tight text-white"},"TrustXGlobal",-1))]),g(s,{to:"/login",class:"px-4 py-1.5 rounded-full text-sm font-semibold glass-button-no-hover text-white border border-white/20 hover:border-white/30 transition-colors"},{default:P(()=>[...e[12]||(e[12]=[f(" Log In ",-1)])]),_:1})])]),t("div",ye,[t("div",_e,[t("div",ke,[g(ce)]),t("div",Ce,[e[33]||(e[33]=t("h1",{class:"text-2xl md:text-3xl font-bold tracking-tight mb-3"},"Create Account",-1)),t("div",Te,[t("button",{type:"button",class:q(["pb-2 border-b-2 transition-colors",T.value==="email"?"border-white text-white":"border-transparent text-white/50 hover:text-white/80"]),onClick:e[0]||(e[0]=i=>W("email"))}," Email ",2),t("button",{type:"button",class:q(["pb-2 border-b-2 transition-colors",T.value==="phone"?"border-white text-white":"border-transparent text-white/50 hover:text-white/80"]),onClick:e[1]||(e[1]=i=>W("phone"))}," Phone ",2)]),t("div",Pe,[C.value?(x(),m("form",{key:0,onSubmit:N(X,["prevent"]),class:"space-y-3"},[t("div",Ve,[t("p",Ee,w(c(v)("auth.sentCodeTo")),1),t("p",Ae,w(r.value),1)]),t("div",null,[t("label",Ie,w(c(v)("auth.verificationCode")),1),y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>E.value=i),type:"text",required:"",maxlength:"6",class:"w-full px-3 py-3 glass-input rounded-lg text-white text-center text-2xl tracking-[0.4em] font-bold focus:outline-none focus:ring-2 focus:ring-white/20 transition-all",placeholder:"000000",autocomplete:"one-time-code"},null,512),[[k,E.value]]),t("p",Ue,w(c(v)("auth.enterCode")),1)]),t("button",{type:"submit",disabled:n.value,class:"w-full py-2.5 text-sm rounded-full font-semibold glass-button-no-hover text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-white/20"},w(n.value?c(v)("auth.verifying"):c(v)("auth.verifyEmail")),9,Re),t("button",{type:"button",onClick:Q,disabled:n.value||A.value,class:"w-full py-2.5 text-sm rounded-full font-semibold border border-white/15 text-white/90 hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},w(A.value?"Sending...":"Resend Code"),9,Se),t("button",{type:"button",onClick:e[3]||(e[3]=i=>C.value=!1),class:"w-full py-2.5 text-sm rounded-full font-semibold border border-white/15 text-white/90 hover:bg-white/10 transition-colors"},w(c(v)("auth.back")),1)],32)):(x(),m("div",Me,[T.value==="email"?(x(),m("form",{key:0,onSubmit:N(J,["prevent"]),class:"space-y-2.5"},[p.value==="identifier"?(x(),m("div",qe,[e[13]||(e[13]=t("label",{class:"block text-xs text-white/80 font-medium"},"Email",-1)),y(t("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>r.value=i),type:"email",required:"",autocomplete:"email",class:"w-full px-3 py-2.5 text-sm glass-input rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all",placeholder:"Enter email address"},null,512),[[k,r.value,void 0,{trim:!0}]]),t("button",{type:"submit",disabled:n.value||!L.value,class:"w-full py-2.5 text-sm rounded-full font-semibold glass-button-no-hover text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-white/20"}," Next ",8,Ne)])):(x(),m("div",$e,[t("div",{class:"flex items-center gap-2 mb-1.5"},[t("button",{type:"button",class:"p-1 hover:bg-white/10 rounded-lg transition-colors",onClick:F,"aria-label":"Back"},[...e[14]||(e[14]=[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e[15]||(e[15]=t("div",{class:"flex-1 text-center text-xs font-semibold text-white truncate px-2"},"Create Account",-1)),e[16]||(e[16]=t("div",{class:"w-7"},null,-1))]),e[17]||(e[17]=t("label",{class:"block text-xs text-white/80 font-medium"},"Email",-1)),t("input",{value:r.value,type:"email",autocomplete:"email",readonly:"",class:"w-full px-3 py-2.5 text-sm rounded-lg border border-white/10 bg-white/5 text-white/80 placeholder-white/40 focus:outline-none"},null,8,je),e[18]||(e[18]=t("label",{class:"block text-xs text-white/80 font-medium"},[f("Invite Code "),t("span",{class:"text-red-400"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>b.value=i),type:"text",required:"",class:"w-full px-3 py-2.5 text-sm glass-input rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all",placeholder:"Enter invite code"},null,512),[[k,b.value,void 0,{trim:!0}]]),e[19]||(e[19]=t("p",{class:"text-xs text-white/50"},"Invite code is required to register",-1)),e[20]||(e[20]=t("label",{class:"block text-xs text-white/80 font-medium"},"Password",-1)),y(t("input",{"onUpdate:modelValue":e[6]||(e[6]=i=>_.value=i),type:"password",required:"",minlength:"6",autocomplete:"new-password",class:"w-full px-3 py-2.5 text-sm glass-input rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all",placeholder:"Password"},null,512),[[k,_.value]]),t("p",Be,w(c(v)("auth.minimumChars")),1),t("div",ze,[y(t("div",{ref_key:"turnstileWidget",ref:B,id:"turnstile-widget-register"},null,512),[[ne,p.value==="password"]])]),t("button",{type:"submit",disabled:n.value||!a.value||!_.value||!b.value.trim()||!u.value,class:"w-full py-2.5 text-sm rounded-full font-semibold glass-button-no-hover text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-white/20"},w(n.value?c(v)("auth.registering"):"Create Account"),9,Le)]))],32)):(x(),m("form",{key:1,onSubmit:N(Y,["prevent"]),class:"space-y-2.5"},[e[22]||(e[22]=t("label",{class:"block text-xs text-white/80 font-medium"},"Phone",-1)),t("div",We,[e[21]||(e[21]=t("div",{class:"text-white/70 text-sm font-semibold"},"+ ",-1)),y(t("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>V.value=i),type:"tel",inputmode:"tel",autocomplete:"tel",class:"flex-1 bg-transparent outline-none text-sm text-white placeholder-white/40",placeholder:"Enter phone number",required:""},null,512),[[k,V.value,void 0,{trim:!0}]])]),e[23]||(e[23]=t("label",{class:"block text-xs text-white/80 font-medium"},[f("Invite Code "),t("span",{class:"text-red-400"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[8]||(e[8]=i=>b.value=i),type:"text",required:"",class:"w-full px-3 py-2.5 text-sm glass-input rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all",placeholder:"Enter invite code"},null,512),[[k,b.value,void 0,{trim:!0}]]),e[24]||(e[24]=t("p",{class:"text-xs text-white/50"},"Invite code is required to register",-1)),t("button",{type:"submit",disabled:n.value||!V.value||!b.value.trim(),class:"w-full py-2.5 text-sm rounded-full font-semibold glass-button-no-hover text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-white/20"}," Next ",8,Ge)],32))]))]),e[34]||(e[34]=t("div",{class:"my-3 flex items-center gap-3"},[t("div",{class:"h-px flex-1 bg-white/15"}),t("div",{class:"text-xs text-white/60"},"Or"),t("div",{class:"h-px flex-1 bg-white/15"})],-1)),t("div",He,[t("button",{type:"button",onClick:e[9]||(e[9]=i=>u.value=!u.value),class:q(["relative flex-shrink-0 w-5 h-5 rounded border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20",u.value?"bg-white border-white":"bg-transparent border-white/30 hover:border-white/50"])},[g(re,{"enter-active-class":"transition-all duration-200","enter-from-class":"opacity-0 scale-75","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-150","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-75"},{default:P(()=>[u.value?(x(),m("svg",Oe,[...e[25]||(e[25]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):ue("",!0)]),_:1})],2),t("label",{onClick:e[10]||(e[10]=i=>u.value=!u.value),class:"text-xs text-white/70 leading-relaxed cursor-pointer flex-1"},[e[28]||(e[28]=f(" I agree to the ",-1)),g(s,{to:"/terms-of-service",class:"text-white font-semibold underline hover:text-white/80"},{default:P(()=>[...e[26]||(e[26]=[f("Terms of Service",-1)])]),_:1}),e[29]||(e[29]=f(" and ",-1)),g(s,{to:"/privacy-policy",class:"text-white font-semibold underline hover:text-white/80"},{default:P(()=>[...e[27]||(e[27]=[f("Privacy Policy",-1)])]),_:1})])]),t("button",{type:"button",onClick:Z,disabled:!u.value,class:"w-full py-2.5 text-sm rounded-lg glass-card-no-hover border border-white/12 hover:border-white/20 transition-colors flex items-center justify-center gap-2 font-semibold text-white disabled:opacity-50 disabled:cursor-not-allowed"},[...e[30]||(e[30]=[ae('<svg class="w-4 h-4" viewBox="0 0 24 24"><path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> Continue with Google ',2)])],8,De),t("div",Fe,[e[32]||(e[32]=f(" Already have an account? ",-1)),g(s,{to:"/login",class:"font-semibold text-white hover:text-white/80 ml-1"},{default:P(()=>[...e[31]||(e[31]=[f("Log In",-1)])]),_:1})])])])]),g(we)])}}};export{tt as default};

